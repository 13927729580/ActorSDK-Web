{"version":3,"sources":["../../src/actions/VisibilityActionCreators.js"],"names":[],"mappings":";;;;AAIA;;AACA;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;;;;;IAEM,wB;;;;;;;;;qCACJ,gB,+BAAmB;AACjB,sCAAS,+BAAY,WAArB;AACA,0BAAY,YAAZ;AACA,SAAK,WAAL,CAAiB,SAAjB,EAA4B,CAC1B,sBAAY,gBAAZ,CAA6B,wCAA8B,QAA3D,CAD0B,CAA5B;AAGD,G;;qCAED,e,8BAAkB;AAChB,sCAAS,+BAAY,UAArB;;AAEA,QAAM,cAAc,sBAAY,cAAZ,EAApB;AACA,kCAAoB,SAApB,CAA8B,WAA9B;;AAEA,0BAAY,WAAZ;AACA,SAAK,cAAL,CAAoB,SAApB;AACD,G;;;;;kBAGY,IAAI,wBAAJ,E","file":"VisibilityActionCreators.js","sourcesContent":["/*\n * Copyright (C) 2015 Actor LLC. <https://actor.im>\n */\n\nimport { dispatch } from '../dispatcher/ActorAppDispatcher';\nimport { ActionTypes } from '../constants/ActorAppConstants';\nimport ActionCreators from './ActionCreators';\nimport ConnectionStateActionCreators from '../actions/ConnectionStateActionCreators';\nimport DraftActionCreators from '../actions/DraftActionCreators';\nimport ActorClient from '../utils/ActorClient';\nimport DialogStore from '../stores/DialogStore';\n\nclass VisibilityActionCreators extends ActionCreators {\n  createAppVisible() {\n    dispatch(ActionTypes.APP_VISIBLE);\n    ActorClient.onAppVisible();\n    this.setBindings('connect', [\n      ActorClient.bindConnectState(ConnectionStateActionCreators.setState)\n    ]);\n  }\n\n  createAppHidden() {\n    dispatch(ActionTypes.APP_HIDDEN);\n\n    const currentPeer = DialogStore.getCurrentPeer();\n    DraftActionCreators.saveDraft(currentPeer);\n\n    ActorClient.onAppHidden();\n    this.removeBindings('connect');\n  }\n}\n\nexport default new VisibilityActionCreators();\n"]}