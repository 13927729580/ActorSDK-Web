{"version":3,"sources":["../../src/actions/HelpActionCreators.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;kBAUe;AACb,MAAI,kBAAG;AACL,QAAM,WAAW,GAAG,0BAAgB,GAAG,EAAE,CAAC;AAC1C,QAAM,KAAK,GAAG,WAAW,CAAC,SAAS,GAAG,WAAW,CAAC,SAAS,+BAAY,CAAC;;AAExE,QAAM,UAAU,GAAG,SAAb,UAAU,CAAG,KAAK,EAAI;AAC1B,UAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;AACpB,YAAM,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;AACzB,YAAM,GAAG,GAAG,IAAI,CAAC;AACjB,YAAM,QAAQ,GAAG,sBAAY,WAAW,CAAC,GAAG,CAAC,CAAC;;AAE9C,YAAI,IAAI,CAAC,SAAS,EAAE;AAClB,yCAAqB,gBAAgB,CAAC,QAAQ,CAAC,CAAC;SACjD,MAAM;AACL,0CAAsB,UAAU,CAAC,GAAG,CAAC,CAAC;AACtC,yCAAqB,gBAAgB,CAAC,QAAQ,CAAC,CAAC;SACjD;OACF,MAAM;AACL,eAAO,CAAC,IAAI,CAAC,yBAAyB,CAAC,CAAA;OACxC;KACF,CAAC;;AAEF,0BAAY,SAAS,CAAC,KAAK,CAAC,CACzB,IAAI,CAAC,UAAU,EAAE,UAAU,CAAC,CAC5B,KAAK,CAAC,UAAA,KAAK,EAAI;AACd,YAAM,IAAI,KAAK,CAAC,KAAK,CAAC,CAAA;KACvB,CAAC,CAAC;GACN;CACF","file":"HelpActionCreators.js","sourcesContent":["/*\n * Copyright (C) 2015-2016 Actor LLC. <https://actor.im>\n */\n\nimport ActorClient from '../utils/ActorClient';\nimport { helpPhone } from '../constants/ActorAppConstants';\nimport SharedContainer from '../utils/SharedContainer';\nimport ContactActionCreators from './ContactActionCreators';\nimport DialogActionCreators from './DialogActionCreators';\n\nexport default {\n  open() {\n    const SharedActor = SharedContainer.get();\n    const phone = SharedActor.helpPhone ? SharedActor.helpPhone : helpPhone;\n\n    const handleFind = users => {\n      if (users.length > 0) {\n        const user = users[0].id;\n        const uid = user;\n        const userPeer = ActorClient.getUserPeer(uid);\n\n        if (user.isContact) {\n          DialogActionCreators.selectDialogPeer(userPeer);\n        } else {\n          ContactActionCreators.addContact(uid);\n          DialogActionCreators.selectDialogPeer(userPeer);\n        }\n      } else {\n        console.warn('Support user not found.')\n      }\n    };\n\n    ActorClient.findUsers(phone)\n      .then(handleFind, handleFind)\n      .catch(error => {\n        throw new Error(error)\n      });\n  }\n};\n"]}