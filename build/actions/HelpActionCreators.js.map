{"version":3,"sources":["../../src/actions/HelpActionCreators.js"],"names":[],"mappings":";;;;AAIA;;;;AACA;;AACA;;;;AACA;;;;;;;;;;kBAEe;AACb,YADa,sBACF,KADE,EACK;AAChB,QAAI,MAAM,MAAN,KAAiB,CAArB,EAAwB;AACtB,YAAM,IAAI,KAAJ,CAAU,wBAAV,CAAN;AACD;;AAED,QAAM,WAAW,MAAM,CAAN,CAAjB;AACA,QAAM,MAAM,SAAS,EAArB;;AAEA,QAAI,CAAC,SAAS,SAAd,EAAyB;AACvB,4BAAY,UAAZ,CAAuB,GAAvB;AACD;;AAED,WAAO,GAAP;AACD,GAdY;AAgBb,MAhBa,kBAgBN;AACL,QAAM,cAAc,0BAAgB,GAAhB,EAApB;AACA,QAAM,QAAQ,YAAY,SAAZ,GAAwB,YAAY,SAApC,+BAAd;;AAEA,0BAAY,SAAZ,CAAsB,KAAtB,EACG,IADH,CACQ,KAAK,UADb,EAEG,IAFH,CAEQ,+BAAqB,oBAF7B,EAGG,KAHH,CAGS,iBAAS;AAAC,YAAM,IAAI,KAAJ,CAAU,KAAV,CAAN;AAAuB,KAH1C;AAID;AAxBY,C","file":"HelpActionCreators.js","sourcesContent":["/*\n * Copyright (C) 2015-2016 Actor LLC. <https://actor.im>\n */\n\nimport ActorClient from '../utils/ActorClient';\nimport { helpPhone } from '../constants/ActorAppConstants';\nimport SharedContainer from '../utils/SharedContainer';\nimport DialogActionCreators from './DialogActionCreators';\n\nexport default {\n  handleFind(users) {\n    if (users.lenght === 0) {\n      throw new Error('Support user not found');\n    }\n\n    const helpUser = users[0];\n    const uid = helpUser.id;\n\n    if (!helpUser.isContact) {\n      ActorClient.addContact(uid)\n    }\n\n    return uid;\n  },\n\n  open() {\n    const SharedActor = SharedContainer.get();\n    const phone = SharedActor.helpPhone ? SharedActor.helpPhone : helpPhone;\n\n    ActorClient.findUsers(phone)\n      .then(this.handleFind)\n      .then(DialogActionCreators.selectDialogPeerUser)\n      .catch(error => {throw new Error(error)});\n  }\n};\n"]}