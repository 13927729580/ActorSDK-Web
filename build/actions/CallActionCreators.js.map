{"version":3,"sources":["../../src/actions/CallActionCreators.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;kBASe;AACb,YAAU,sBAAC,KAAK,EAAE;AAChB,0BAAY,QAAQ,CAAC,KAAK,CAAC,EAAE,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;AAC7C,sCAAS,+BAAY,eAAe,EAAE,EAAE,KAAK,EAAL,KAAK,EAAE,CAAC,CAAA;GACjD;AAED,UAAQ,oBAAC,GAAG,EAAE;AACZ,2CAAc,sBAAY,QAAQ,CAAC,GAAG,CAAC,EAAE;AACvC,aAAO,EAAE,+BAAY,IAAI;AACzB,aAAO,EAAE,+BAAY,YAAY;AACjC,aAAO,EAAE,+BAAY,UAAU;KAChC,EAAE,EAAE,GAAG,EAAH,GAAG,EAAE,CAAC,CAAC;GACb;AAED,SAAO,mBAAC,IAAI,EAAE;AACZ,WAAO,CAAC,KAAK,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;AAC/B,sCAAS,+BAAY,YAAY,EAAE,EAAE,IAAI,EAAJ,IAAI,EAAE,CAAC,CAAC;;AAE7C,YAAQ,IAAI,CAAC,KAAK;AAChB,WAAK,8BAAW,KAAK;AACnB,0CAAS,+BAAY,eAAe,CAAC,CAAC;AACtC,cAAM;AAAA,AACR,cAAQ;KACT;GACF;AAED,YAAU,sBAAC,EAAE,EAAE;AACb,0BAAY,UAAU,CAAC,EAAE,CAAC,CAAC;AAC3B,sCAAS,+BAAY,WAAW,EAAE,EAAE,EAAE,EAAF,EAAE,EAAE,CAAC,CAAA;GAC1C;AAED,SAAO,qBAAG;AACR,0BAAY,OAAO,CAAC,EAAE,CAAC,CAAC;AACxB,sCAAS,+BAAY,QAAQ,EAAE,EAAE,EAAE,EAAF,EAAE,EAAE,CAAC,CAAA;GACvC;CACF","file":"CallActionCreators.js","sourcesContent":["/*\n * Copyright (C) 2015-2016 Actor LLC. <https://actor.im>\n */\n\nimport { dispatch, dispatchAsync } from '../dispatcher/ActorAppDispatcher';\nimport { ActionTypes, CallStates } from '../constants/ActorAppConstants';\nimport CallStore from '../stores/CallStore';\nimport ActorClient from '../utils/ActorClient';\n\nexport default {\n  handleCall(event) {\n    ActorClient.bindCall(event.id, this.setCall);\n    dispatch(ActionTypes.CALL_MODAL_OPEN, { event })\n  },\n\n  makeCall(uid) {\n    dispatchAsync(ActorClient.makeCall(uid), {\n      request: ActionTypes.CALL,\n      success: ActionTypes.CALL_SUCCESS,\n      failure: ActionTypes.CALL_ERROR\n    }, { uid });\n  },\n\n  setCall(call) {\n    console.debug('setCall', call);\n    dispatch(ActionTypes.CALL_CHANGED, { call });\n\n    switch (call.state) {\n      case CallStates.ENDED:\n        dispatch(ActionTypes.CALL_MODAL_HIDE);\n        break;\n      default:\n    }\n  },\n\n  answerCall(id) {\n    ActorClient.answerCall(id);\n    dispatch(ActionTypes.CALL_ANSWER, { id })\n  },\n\n  endCall() {\n    ActorClient.endCall(id);\n    dispatch(ActionTypes.CALL_END, { id })\n  }\n}\n"]}