{"version":3,"sources":["../../src/actions/DialogActionCreators.js"],"names":[],"mappings":"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","file":"DialogActionCreators.js","sourcesContent":["/*\n * Copyright (C) 2015 Actor LLC. <https://actor.im>\n */\n\nimport { dispatch, dispatchAsync } from '../dispatcher/ActorAppDispatcher';\nimport { ActionTypes, PeerTypes } from '../constants/ActorAppConstants';\nimport ActorClient from '../utils/ActorClient';\nimport PeerUtils from '../utils/PeerUtils';\nimport RouterContainer from '../utils/RouterContainer';\n\nconst DialogActionCreators = {\n  setDialogs(dialogs) {\n    dispatch(ActionTypes.DIALOGS_CHANGED, { dialogs });\n  },\n\n  selectDialogPeer(peer) {\n    RouterContainer.get().transitionTo('main', {id: PeerUtils.peerToString(peer)});\n    dispatch(ActionTypes.SELECT_DIALOG_PEER, { peer });\n  },\n\n  selectDialogPeerUser(userId) {\n    if (userId === ActorClient.getUid()) {\n      console.warn('You can\\'t chat with yourself');\n    } else {\n      this.selectDialogPeer({\n        type: PeerTypes.USER,\n        id: userId\n      });\n    }\n  },\n\n  createSelectedDialogInfoChanged(info) {\n    dispatch(ActionTypes.SELECTED_DIALOG_INFO_CHANGED, { info });\n  },\n\n  onConversationOpen(peer) {\n    ActorClient.onConversationOpen(peer);\n  },\n\n  onConversationClosed(peer) {\n    ActorClient.onConversationClosed(peer);\n  },\n\n  onDialogsEnd() {\n    ActorClient.onDialogsEnd();\n  },\n\n  onChatEnd(peer) {\n    ActorClient.onChatEnd(peer);\n  },\n\n  leaveGroup(gid) {\n    dispatchAsync(ActorClient.leaveGroup(gid), {\n      request: ActionTypes.GROUP_LEAVE,\n      success: ActionTypes.GROUP_LEAVE_SUCCESS,\n      failure: ActionTypes.GROUP_LEAVE_ERROR\n    }, { gid });\n  },\n\n  changeNotificationsEnabled(peer, isEnabled) {\n    dispatch(ActionTypes.NOTIFICATION_CHANGE, { peer, isEnabled });\n  },\n\n  deleteChat(peer) {\n    const gid = peer.id;\n    const leaveGroup = () => dispatchAsync(ActorClient.leaveGroup(gid), {\n      request: ActionTypes.GROUP_LEAVE,\n      success: ActionTypes.GROUP_LEAVE_SUCCESS,\n      failure: ActionTypes.GROUP_LEAVE_ERROR\n    }, { gid });\n    const deleteChat = () => dispatchAsync(ActorClient.deleteChat(peer), {\n      request: ActionTypes.GROUP_DELETE,\n      success: ActionTypes.GROUP_DELETE_SUCCESS,\n      failure: ActionTypes.GROUP_DELETE_ERROR\n    }, { peer });\n\n    switch (peer.type) {\n      case PeerTypes.USER:\n        deleteChat();\n        break;\n      case PeerTypes.GROUP:\n        leaveGroup()\n          .then(deleteChat);\n        break;\n      default:\n    }\n  },\n\n  clearChat(peer) {\n    dispatchAsync(ActorClient.clearChat(peer), {\n      request: ActionTypes.GROUP_CLEAR,\n      success: ActionTypes.GROUP_CLEAR_SUCCESS,\n      failure: ActionTypes.GROUP_CLEAR_ERROR\n    }, { peer });\n  },\n\n  hideChat(peer) {\n    dispatchAsync(ActorClient.hideChat(peer), {\n      request: ActionTypes.GROUP_HIDE,\n      success: ActionTypes.GROUP_HIDE_SUCCESS,\n      failure: ActionTypes.GROUP_HIDE_ERROR\n    }, { peer });\n  }\n};\n\nexport default DialogActionCreators;\n"]}