{"version":3,"sources":["../../src/actions/MessageActionCreators.js"],"names":[],"mappings":";;;;;;;;AAIA;;AACA;;AACA;;AAEA;;;;AACA;;;;AAEA,IAAM,gBAAgB,SAAhB,aAAgB,CAAC,IAAD,EAAU;AAC9B,oBAAM,mBAAN,CAA0B,SAA1B,EAD8B;AAE9B,SAAO,kBAAM,cAAN,CAAqB,IAArB,CAAP,CAF8B;CAAV;;;;IAKhB;AACJ,WADI,qBACJ,GAAc;wCADV,uBACU;;AACZ,SAAK,WAAL,GAAmB,sBAAS,KAAK,WAAL,EAAkB,EAA3B,EAA+B,EAAE,SAAS,EAAT,EAAa,SAAS,IAAT,EAA9C,CAAnB,CADY;GAAd;;AADI,kCAKJ,2CAAgB,MAAM,SAAS;AAC7B,0BAAY,cAAZ,CAA2B,IAA3B,EAAiC,OAAjC,EAD6B;;;AAL3B,kCASJ,2CAAgB,MAAM,MAAM;AAC1B,0BAAY,eAAZ,CAA4B,IAA5B,EAAkC,cAAc,IAAd,CAAlC,EAD0B;AAE1B,sCAAS,+BAAY,iBAAZ,EAA+B,EAAE,UAAF,EAAQ,UAAR,EAAxC,EAF0B;;;AATxB,kCAcJ,2CAAgB,MAAM,MAAM;AAC1B,0BAAY,eAAZ,CAA4B,IAA5B,EAAkC,IAAlC,EAD0B;AAE1B,sCAAS,+BAAY,iBAAZ,EAA+B,EAAE,UAAF,EAAQ,UAAR,EAAxC,EAF0B;;;AAdxB,kCAmBJ,6CAAiB,MAAM,OAAO;AAC5B,0BAAY,gBAAZ,CAA6B,IAA7B,EAAmC,KAAnC,EAD4B;AAE5B,sCAAS,+BAAY,kBAAZ,EAAgC,EAAE,UAAF,EAAQ,YAAR,EAAzC,EAF4B;;;;;;AAnB1B,kCAyBJ,+DAA0B,MAAM,OAAO;AACrC,0BAAY,yBAAZ,CAAsC,IAAtC,EAA4C,KAA5C,EADqC;;;AAzBnC,kCA6BJ,6CAAiB,MAAM,UAAU,OAAO;AACtC,0BAAY,gBAAZ,CAA6B,IAA7B,EAAmC,QAAnC,EAA6C,KAA7C,EADsC;AAEtC,sCAAS,+BAAY,kBAAZ,EAAgC,EAAE,UAAF,EAAQ,kBAAR,EAAkB,YAAlB,EAAzC,EAFsC;;;AA7BpC,kCAkCJ,uCAAc,MAAM,KAAK;AACvB,0BAAY,aAAZ,CAA0B,IAA1B,EAAgC,GAAhC,EADuB;AAEvB,sCAAS,+BAAY,cAAZ,EAA4B,EAAE,UAAF,EAAQ,QAAR,EAArC,EAFuB;;;AAlCrB,kCAuCJ,2BAAQ,MAAM,KAAK;AACjB,0BAAY,OAAZ,CAAoB,IAApB,EAA0B,GAA1B,EADiB;AAEjB,sCAAS,+BAAY,gBAAZ,EAA8B,EAAE,UAAF,EAAQ,QAAR,EAAvC,EAFiB;;;AAvCf,kCA4CJ,iCAAW,MAAM,KAAK;AACpB,0BAAY,UAAZ,CAAuB,IAAvB,EAA6B,GAA7B,EADoB;AAEpB,sCAAS,+BAAY,mBAAZ,EAAiC,EAAE,UAAF,EAAQ,QAAR,EAA1C,EAFoB;;;AA5ClB,kCAiDJ,mCAAY,UAAU,SAAS,UAAU,aAAa,UAAU;AAC9D,sCAAS,+BAAY,gBAAZ,EAA8B;AACrC,wBADqC;AAErC,sBAFqC;AAGrC,wBAHqC;AAIrC,8BAJqC;AAKrC,wBALqC;KAAvC,EAD8D;;;AAjD5D,kCA2DJ,yCAAe,IAAI;AACjB,sCAAS,+BAAY,wBAAZ,EAAsC,EAAE,MAAF,EAA/C,EADiB;;;SA3Df;;;kBAgES,IAAI,qBAAJ","file":"MessageActionCreators.js","sourcesContent":["/*\n * Copyright (C) 2015 Actor LLC. <https://actor.im>\n */\n\nimport { debounce } from 'lodash';\nimport { dispatch } from '../dispatcher/ActorAppDispatcher';\nimport { ActionTypes } from '../constants/ActorAppConstants';\n\nimport ActorClient from '../utils/ActorClient';\nimport { emoji } from '../utils/EmojiUtils';\n\nconst replaceColons = (text) => {\n  emoji.change_replace_mode('unified');\n  return emoji.replace_colons(text);\n};\n\nclass MessageActionCreators {\n  constructor() {\n    this.setMessages = debounce(this.setMessages, 10, { maxWait: 50, leading: true });\n  }\n\n  setMessageShown(peer, message) {\n    ActorClient.onMessageShown(peer, message);\n  }\n\n  sendTextMessage(peer, text) {\n    ActorClient.sendTextMessage(peer, replaceColons(text));\n    dispatch(ActionTypes.MESSAGE_SEND_TEXT, { peer, text });\n  }\n\n  sendFileMessage(peer, file) {\n    ActorClient.sendFileMessage(peer, file);\n    dispatch(ActionTypes.MESSAGE_SEND_FILE, { peer, file });\n  }\n\n  sendPhotoMessage(peer, photo) {\n    ActorClient.sendPhotoMessage(peer, photo);\n    dispatch(ActionTypes.MESSAGE_SEND_PHOTO, { peer, photo });\n  }\n\n  // Deprecated\n  sendClipboardPhotoMessage(peer, photo) {\n    ActorClient.sendClipboardPhotoMessage(peer, photo);\n  }\n\n  sendVoiceMessage(peer, duration, voice) {\n    ActorClient.sendVoiceMessage(peer, duration, voice);\n    dispatch(ActionTypes.MESSAGE_SEND_VOICE, { peer, duration, voice });\n  }\n\n  deleteMessage(peer, rid) {\n    ActorClient.deleteMessage(peer, rid);\n    dispatch(ActionTypes.MESSAGE_DELETE, { peer, rid });\n  }\n\n  addLike(peer, rid) {\n    ActorClient.addLike(peer, rid);\n    dispatch(ActionTypes.MESSAGE_LIKE_ADD, { peer, rid });\n  }\n\n  removeLike(peer, rid) {\n    ActorClient.removeLike(peer, rid);\n    dispatch(ActionTypes.MESSAGE_LIKE_REMOVE, { peer, rid });\n  }\n\n  setMessages(messages, overlay, isLoaded, receiveDate, readDate) {\n    dispatch(ActionTypes.MESSAGES_CHANGED, {\n      messages,\n      overlay,\n      isLoaded,\n      receiveDate,\n      readDate\n    });\n  }\n\n  toggleSelected(id) {\n    dispatch(ActionTypes.MESSAGES_TOGGLE_SELECTED, { id });\n  }\n}\n\nexport default new MessageActionCreators();\n"]}