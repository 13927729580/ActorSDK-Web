{"version":3,"sources":["../../src/stores/AddContactStore.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAQA,IAAI,OAAO,GAAG,KAAK;IACf,MAAM,GAAG,EAAE;IACX,YAAY,GAAG,KAAK;IACpB,QAAQ,GAAG,EAAE,CAAC;;IAEZ,eAAe;YAAf,eAAe;;AACnB,WADI,eAAe,CACP,UAAU,EAAE;0BADpB,eAAe;;kEAAf,eAAe,aAEX,UAAU;GACjB;;eAHG,eAAe;;6BAKV;AACP,aAAO,OAAO,CAAC;KAChB;;;kCAEa;AACZ,aAAO,YAAY,CAAC;KACrB;;;+BAEU;AACT,aAAO,MAAM,CAAC;KACf;;;iCAEY;AACX,aAAO,QAAQ,CAAC;KACjB;;;+BAEU,OAAO,EAAE;AAClB,cAAQ,GAAG,OAAO,CAAC;KACpB;;;iCAEY;AACX,aAAO,GAAG,KAAK,CAAC;AAChB,YAAM,GAAG,EAAE,CAAC;AACZ,kBAAY,GAAG,KAAK,CAAC;AACrB,cAAQ,GAAG,EAAE,CAAC;KACf;;;iCAEY,MAAM,EAAE;AACnB,cAAO,MAAM,CAAC,IAAI;AAChB,aAAK,mBAzCF,WAAW,CAyCG,sBAAsB;AACrC,iBAAO,GAAG,IAAI,CAAC;AACf,cAAI,CAAC,YAAY,EAAE,CAAC;AACpB,gBAAM;AAAA,AACR,aAAK,mBA7CF,WAAW,CA6CG,sBAAsB;AACrC,cAAI,CAAC,UAAU,EAAE,CAAC;AAClB,cAAI,CAAC,YAAY,EAAE,CAAC;AACpB,gBAAM;;AAAA,AAER,aAAK,mBAlDF,WAAW,CAkDG,YAAY;AAC3B,gBAAM,GAAG,MAAM,CAAC,KAAK,CAAC;AACtB,sBAAY,GAAG,IAAI,CAAC;AACpB,cAAI,CAAC,YAAY,EAAE,CAAC;AACpB,gBAAM;AAAA,AACR,aAAK,mBAvDF,WAAW,CAuDG,oBAAoB;AACnC,sBAAY,GAAG,KAAK,CAAC;AACrB,cAAI,MAAM,CAAC,KAAK,KAAK,EAAE,EAAE;AACvB,gBAAI,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;WACrB,MAAM;AACL,gBAAI,CAAC,UAAU,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAA;WACjC;AACD,cAAI,CAAC,YAAY,EAAE,CAAC;AACpB,gBAAM;AAAA,AACR,aAAK,mBAhEF,WAAW,CAgEG,kBAAkB;AACjC,sBAAY,GAAG,KAAK,CAAC;AACrB,cAAI,CAAC,YAAY,EAAE,CAAC;AACpB,gBAAM;AAAA,AACR,gBAAQ;OACT;KACF;;;SA/DG,eAAe;UATZ,KAAK;;kBA2EC,IAAI,eAAe,8BAAY","file":"AddContactStore.js","sourcesContent":["/*\n * Copyright (C) 2015 Actor LLC. <https://actor.im>\n */\n\nimport { Store } from 'flux/utils';\nimport Dispatcher from '../dispatcher/ActorAppDispatcher';\nimport { ActionTypes } from '../constants/ActorAppConstants';\n\nlet _isOpen = false,\n    _query = '',\n    _isSearching = false,\n    _results = [];\n\nclass AddContactStore extends Store {\n  constructor(Dispatcher) {\n    super(Dispatcher);\n  }\n\n  isOpen() {\n    return _isOpen;\n  }\n\n  isSearching() {\n    return _isSearching;\n  }\n\n  getQuery() {\n    return _query;\n  }\n\n  getResults() {\n    return _results;\n  }\n\n  setResults(results) {\n    _results = results;\n  }\n\n  resetStore() {\n    _isOpen = false;\n    _query = '';\n    _isSearching = false;\n    _results = [];\n  }\n\n  __onDispatch(action) {\n    switch(action.type) {\n      case ActionTypes.CONTACT_ADD_MODAL_SHOW:\n        _isOpen = true;\n        this.__emitChange();\n        break;\n      case ActionTypes.CONTACT_ADD_MODAL_HIDE:\n        this.resetStore();\n        this.__emitChange();\n        break;\n\n      case ActionTypes.CONTACT_FIND:\n        _query = action.query;\n        _isSearching = true;\n        this.__emitChange();\n        break;\n      case ActionTypes.CONTACT_FIND_SUCCESS:\n        _isSearching = false;\n        if (action.query === '') {\n          this.setResults([]);\n        } else {\n          this.setResults(action.response)\n        }\n        this.__emitChange();\n        break;\n      case ActionTypes.CONTACT_FIND_ERROR:\n        _isSearching = false;\n        this.__emitChange();\n        break;\n      default:\n    }\n  };\n}\n\nexport default new AddContactStore(Dispatcher);\n"]}