{"version":3,"sources":["../../src/stores/AddContactStore.js"],"names":[],"mappings":";;;;AAIA;;AACA;;;;AACA;;;;;;;;;;;;AAEA,IAAI,UAAU,KAAd;IACI,SAAS,EADb;IAEI,eAAe,KAFnB;IAGI,WAAW,EAHf;;IAKM,e;;;AACJ,2BAAY,UAAZ,EAAwB;AAAA;;AAAA,4CACtB,kBAAM,UAAN,CADsB;AAEvB;;4BAED,M,qBAAS;AACP,WAAO,OAAP;AACD,G;;4BAED,W,0BAAc;AACZ,WAAO,YAAP;AACD,G;;4BAED,Q,uBAAW;AACT,WAAO,MAAP;AACD,G;;4BAED,U,yBAAa;AACX,WAAO,QAAP;AACD,G;;4BAED,U,uBAAW,O,EAAS;AAClB,eAAW,OAAX;AACD,G;;4BAED,U,yBAAa;AACX,cAAU,KAAV;AACA,aAAS,EAAT;AACA,mBAAe,KAAf;AACA,eAAW,EAAX;AACD,G;;4BAED,Y,yBAAa,M,EAAQ;AACnB,YAAO,OAAO,IAAd;AACE,WAAK,+BAAY,sBAAjB;AACE,kBAAU,IAAV;AACA,aAAK,YAAL;AACA;AACF,WAAK,+BAAY,sBAAjB;AACE,aAAK,UAAL;AACA,aAAK,YAAL;AACA;;AAEF,WAAK,+BAAY,YAAjB;AACE,iBAAS,OAAO,KAAhB;AACA,uBAAe,IAAf;AACA,aAAK,YAAL;AACA;AACF,WAAK,+BAAY,oBAAjB;AACE,uBAAe,KAAf;AACA,YAAI,OAAO,KAAP,KAAiB,EAArB,EAAyB;AACvB,eAAK,UAAL,CAAgB,EAAhB;AACD,SAFD,MAEO;AACL,eAAK,UAAL,CAAgB,OAAO,QAAvB;AACD;AACD,aAAK,YAAL;AACA;AACF,WAAK,+BAAY,kBAAjB;AACE,uBAAe,KAAf;AACA,aAAK,YAAL;AACA;AACF;AA5BF;AA8BD,G;;;;;kBAGY,IAAI,eAAJ,8B","file":"AddContactStore.js","sourcesContent":["/*\n * Copyright (C) 2015 Actor LLC. <https://actor.im>\n */\n\nimport { Store } from 'flux/utils';\nimport Dispatcher from '../dispatcher/ActorAppDispatcher';\nimport { ActionTypes } from '../constants/ActorAppConstants';\n\nlet _isOpen = false,\n    _query = '',\n    _isSearching = false,\n    _results = [];\n\nclass AddContactStore extends Store {\n  constructor(Dispatcher) {\n    super(Dispatcher);\n  }\n\n  isOpen() {\n    return _isOpen;\n  }\n\n  isSearching() {\n    return _isSearching;\n  }\n\n  getQuery() {\n    return _query;\n  }\n\n  getResults() {\n    return _results;\n  }\n\n  setResults(results) {\n    _results = results;\n  }\n\n  resetStore() {\n    _isOpen = false;\n    _query = '';\n    _isSearching = false;\n    _results = [];\n  }\n\n  __onDispatch(action) {\n    switch(action.type) {\n      case ActionTypes.CONTACT_ADD_MODAL_SHOW:\n        _isOpen = true;\n        this.__emitChange();\n        break;\n      case ActionTypes.CONTACT_ADD_MODAL_HIDE:\n        this.resetStore();\n        this.__emitChange();\n        break;\n\n      case ActionTypes.CONTACT_FIND:\n        _query = action.query;\n        _isSearching = true;\n        this.__emitChange();\n        break;\n      case ActionTypes.CONTACT_FIND_SUCCESS:\n        _isSearching = false;\n        if (action.query === '') {\n          this.setResults([]);\n        } else {\n          this.setResults(action.response)\n        }\n        this.__emitChange();\n        break;\n      case ActionTypes.CONTACT_FIND_ERROR:\n        _isSearching = false;\n        this.__emitChange();\n        break;\n      default:\n    }\n  }\n}\n\nexport default new AddContactStore(Dispatcher);\n"]}