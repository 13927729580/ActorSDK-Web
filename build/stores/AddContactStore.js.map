{"version":3,"sources":["../../src/stores/AddContactStore.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAQA,IAAI,OAAO,GAAG,KAAK;IACf,MAAM,GAAG,EAAE;IACX,YAAY,GAAG,KAAK;IACpB,QAAQ,GAAG,EAAE,CAAC;;IAEZ,eAAe;YAAf,eAAe;;AACnB,WADI,eAAe,CACP,UAAU,EAAE;0BADpB,eAAe;;4CAEjB,kBAAM,UAAU,CAAC;GAClB;;AAHG,iBAAe,WAKnB,MAAM,qBAAG;AACP,WAAO,OAAO,CAAC;GAChB;;AAPG,iBAAe,WASnB,WAAW,0BAAG;AACZ,WAAO,YAAY,CAAC;GACrB;;AAXG,iBAAe,WAanB,QAAQ,uBAAG;AACT,WAAO,MAAM,CAAC;GACf;;AAfG,iBAAe,WAiBnB,UAAU,yBAAG;AACX,WAAO,QAAQ,CAAC;GACjB;;AAnBG,iBAAe,WAqBnB,UAAU,uBAAC,OAAO,EAAE;AAClB,YAAQ,GAAG,OAAO,CAAC;GACpB;;AAvBG,iBAAe,WAyBnB,UAAU,yBAAG;AACX,WAAO,GAAG,KAAK,CAAC;AAChB,UAAM,GAAG,EAAE,CAAC;AACZ,gBAAY,GAAG,KAAK,CAAC;AACrB,YAAQ,GAAG,EAAE,CAAC;GACf;;AA9BG,iBAAe,WAgCnB,YAAY,yBAAC,MAAM,EAAE;AACnB,YAAO,MAAM,CAAC,IAAI;AAChB,WAAK,+BAAY,sBAAsB;AACrC,eAAO,GAAG,IAAI,CAAC;AACf,YAAI,CAAC,YAAY,EAAE,CAAC;AACpB,cAAM;AAAA,AACR,WAAK,+BAAY,sBAAsB;AACrC,YAAI,CAAC,UAAU,EAAE,CAAC;AAClB,YAAI,CAAC,YAAY,EAAE,CAAC;AACpB,cAAM;;AAAA,AAER,WAAK,+BAAY,YAAY;AAC3B,cAAM,GAAG,MAAM,CAAC,KAAK,CAAC;AACtB,oBAAY,GAAG,IAAI,CAAC;AACpB,YAAI,CAAC,YAAY,EAAE,CAAC;AACpB,cAAM;AAAA,AACR,WAAK,+BAAY,oBAAoB;AACnC,oBAAY,GAAG,KAAK,CAAC;AACrB,YAAI,MAAM,CAAC,KAAK,KAAK,EAAE,EAAE;AACvB,cAAI,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;SACrB,MAAM;AACL,cAAI,CAAC,UAAU,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAA;SACjC;AACD,YAAI,CAAC,YAAY,EAAE,CAAC;AACpB,cAAM;AAAA,AACR,WAAK,+BAAY,kBAAkB;AACjC,oBAAY,GAAG,KAAK,CAAC;AACrB,YAAI,CAAC,YAAY,EAAE,CAAC;AACpB,cAAM;AAAA,AACR,cAAQ;KACT;GACF;;SA/DG,eAAe;;;kBAkEN,IAAI,eAAe,8BAAY","file":"AddContactStore.js","sourcesContent":["/*\n * Copyright (C) 2015 Actor LLC. <https://actor.im>\n */\n\nimport { Store } from 'flux/utils';\nimport Dispatcher from '../dispatcher/ActorAppDispatcher';\nimport { ActionTypes } from '../constants/ActorAppConstants';\n\nlet _isOpen = false,\n    _query = '',\n    _isSearching = false,\n    _results = [];\n\nclass AddContactStore extends Store {\n  constructor(Dispatcher) {\n    super(Dispatcher);\n  }\n\n  isOpen() {\n    return _isOpen;\n  }\n\n  isSearching() {\n    return _isSearching;\n  }\n\n  getQuery() {\n    return _query;\n  }\n\n  getResults() {\n    return _results;\n  }\n\n  setResults(results) {\n    _results = results;\n  }\n\n  resetStore() {\n    _isOpen = false;\n    _query = '';\n    _isSearching = false;\n    _results = [];\n  }\n\n  __onDispatch(action) {\n    switch(action.type) {\n      case ActionTypes.CONTACT_ADD_MODAL_SHOW:\n        _isOpen = true;\n        this.__emitChange();\n        break;\n      case ActionTypes.CONTACT_ADD_MODAL_HIDE:\n        this.resetStore();\n        this.__emitChange();\n        break;\n\n      case ActionTypes.CONTACT_FIND:\n        _query = action.query;\n        _isSearching = true;\n        this.__emitChange();\n        break;\n      case ActionTypes.CONTACT_FIND_SUCCESS:\n        _isSearching = false;\n        if (action.query === '') {\n          this.setResults([]);\n        } else {\n          this.setResults(action.response)\n        }\n        this.__emitChange();\n        break;\n      case ActionTypes.CONTACT_FIND_ERROR:\n        _isSearching = false;\n        this.__emitChange();\n        break;\n      default:\n    }\n  };\n}\n\nexport default new AddContactStore(Dispatcher);\n"]}