{"version":3,"sources":["../../src/stores/MyProfileStore.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASA,IAAI,QAAQ,GAAG,IAAI;IACf,KAAK,GAAG,IAAI;IACZ,KAAK,GAAG,IAAI;IACZ,MAAM,GAAG,IAAI;IACb,YAAY,GAAG,KAAK,CAAC;;IAEnB,cAAc;YAAd,cAAc;;AAClB,WADI,cAAc,CACN,UAAU,EAAE;0BADpB,cAAc;;kEAAd,cAAc,aAEV,UAAU;GACjB;;eAHG,cAAc;;kCAKJ;AACZ,aAAO,YAAY,CAAC;KACrB;;;8BAES;AACR,aAAO,KAAK,CAAC;KACd;;;8BAES;AACR,aAAO,KAAK,CAAC;KACd;;;+BAEU;AACT,aAAO,MAAM,CAAC;KACf;;;iCAEY;AACX,aAAO,QAAQ,CAAC;KACjB;;;+BAEU,OAAO,EAAE;AAClB,cAAQ,GAAG,OAAO,CAAC;AACnB,WAAK,GAAG,OAAO,CAAC,IAAI,CAAC;AACrB,WAAK,GAAG,OAAO,CAAC,IAAI,CAAC;AACrB,YAAM,GAAG,OAAO,CAAC,KAAK,CAAC;KACxB;;;iCAEY,MAAM,EAAE;AACnB,cAAO,MAAM,CAAC,IAAI;AAChB,aAAK,+BAAY,qBAAqB;AACpC,sBAAY,GAAG,IAAI,CAAC;AACpB,cAAI,CAAC,YAAY,EAAE,CAAC;AACpB,gBAAM;AAAA,AACR,aAAK,+BAAY,qBAAqB;AACpC,sBAAY,GAAG,KAAK,CAAC;AACrB,cAAI,CAAC,YAAY,EAAE,CAAC;AACpB,gBAAM;AAAA,AACR,aAAK,+BAAY,kBAAkB;AACjC,cAAI,CAAC,UAAU,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;AAChC,cAAI,CAAC,YAAY,EAAE,CAAC;AACpB,gBAAM;AAAA,AACR,aAAK,+BAAY,oBAAoB;AACnC,cAAI,KAAK,KAAK,MAAM,CAAC,IAAI,EAAE;AACzB,iBAAK,GAAG,MAAM,CAAC,IAAI,CAAC;AACpB,kCAAY,UAAU,CAAC,KAAK,CAAC,CAAC;AAC9B,gBAAI,CAAC,YAAY,EAAE,CAAC;WACrB;AACD,gBAAM;AAAA,AACR,aAAK,+BAAY,wBAAwB;AACvC,cAAI,KAAK,KAAK,MAAM,CAAC,IAAI,EAAE;AACzB,iBAAK,GAAG,MAAM,CAAC,IAAI,CAAC;AACpB,kCAAY,UAAU,CAAC,KAAK,CAAC,CAAC;AAC9B,gBAAI,CAAC,YAAY,EAAE,CAAC;WACrB;AACD,gBAAM;AAAA,AACR,aAAK,+BAAY,6BAA6B;AAC5C,cAAI,MAAM,KAAK,MAAM,CAAC,KAAK,EAAE;AAC3B,kBAAM,GAAG,MAAM,CAAC,KAAK,CAAC;AACtB,gBAAI,CAAC,YAAY,EAAE,CAAC;WACrB;AACD,gBAAM;AAAA,AACR,gBAAQ;OACT;KACF;;;SApEG,cAAc;;;kBAuEL,IAAI,cAAc,8BAAY","file":"MyProfileStore.js","sourcesContent":["/*\n * Copyright (C) 2015 Actor LLC. <https://actor.im>\n */\n\nimport { Store } from 'flux/utils';\nimport Dispatcher from '../dispatcher/ActorAppDispatcher';\nimport { ActionTypes } from '../constants/ActorAppConstants';\nimport ActorClient from '../utils/ActorClient';\n\nlet _profile = null,\n    _name = null,\n    _nick = null,\n    _about = null,\n    _isModalOpen = false;\n\nclass MyProfileStore extends Store {\n  constructor(Dispatcher) {\n    super(Dispatcher);\n  }\n\n  isModalOpen() {\n    return _isModalOpen;\n  }\n\n  getName() {\n    return _name;\n  }\n\n  getNick() {\n    return _nick;\n  }\n\n  getAbout() {\n    return _about;\n  }\n\n  getProfile() {\n    return _profile;\n  }\n\n  setProfile(profile) {\n    _profile = profile;\n    _name = profile.name;\n    _nick = profile.nick;\n    _about = profile.about;\n  };\n\n  __onDispatch(action) {\n    switch(action.type) {\n      case ActionTypes.MY_PROFILE_MODAL_SHOW:\n        _isModalOpen = true;\n        this.__emitChange();\n        break;\n      case ActionTypes.MY_PROFILE_MODAL_HIDE:\n        _isModalOpen = false;\n        this.__emitChange();\n        break;\n      case ActionTypes.MY_PROFILE_CHANGED:\n        this.setProfile(action.profile);\n        this.__emitChange();\n        break;\n      case ActionTypes.MY_PROFILE_SAVE_NAME:\n        if (_name !== action.name) {\n          _name = action.name;\n          ActorClient.editMyName(_name);\n          this.__emitChange();\n        }\n        break;\n      case ActionTypes.MY_PROFILE_SAVE_NICKNAME:\n        if (_nick !== action.nick) {\n          _nick = action.nick;\n          ActorClient.editMyNick(_nick);\n          this.__emitChange();\n        }\n        break;\n      case ActionTypes.MY_PROFILE_EDIT_ABOUT_SUCCESS:\n        if (_about !== action.about) {\n          _about = action.about;\n          this.__emitChange();\n        }\n        break;\n      default:\n    }\n  };\n}\n\nexport default new MyProfileStore(Dispatcher);\n"]}