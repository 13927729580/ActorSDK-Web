{"version":3,"sources":["../../src/stores/MyProfileStore.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AASA,IAAI,QAAQ,GAAG,IAAI;IACf,KAAK,GAAG,IAAI;IACZ,KAAK,GAAG,IAAI;IACZ,MAAM,GAAG,IAAI;IACb,YAAY,GAAG,KAAK,CAAC;;IAEnB,cAAc;YAAd,cAAc;;AAClB,WADI,cAAc,CACN,UAAU,EAAE;0BADpB,cAAc;;4CAEhB,kBAAM,UAAU,CAAC;GAClB;;AAHG,gBAAc,WAKlB,WAAW,0BAAG;AACZ,WAAO,YAAY,CAAC;GACrB;;AAPG,gBAAc,WASlB,OAAO,sBAAG;AACR,WAAO,KAAK,CAAC;GACd;;AAXG,gBAAc,WAalB,OAAO,sBAAG;AACR,WAAO,KAAK,CAAC;GACd;;AAfG,gBAAc,WAiBlB,QAAQ,uBAAG;AACT,WAAO,MAAM,CAAC;GACf;;AAnBG,gBAAc,WAqBlB,UAAU,yBAAG;AACX,WAAO,QAAQ,CAAC;GACjB;;AAvBG,gBAAc,WAyBlB,UAAU,uBAAC,OAAO,EAAE;AAClB,YAAQ,GAAG,OAAO,CAAC;AACnB,SAAK,GAAG,OAAO,CAAC,IAAI,CAAC;AACrB,SAAK,GAAG,OAAO,CAAC,IAAI,CAAC;AACrB,UAAM,GAAG,OAAO,CAAC,KAAK,CAAC;GACxB;;AA9BG,gBAAc,WAgClB,YAAY,yBAAC,MAAM,EAAE;AACnB,YAAO,MAAM,CAAC,IAAI;AAChB,WAAK,+BAAY,qBAAqB;AACpC,oBAAY,GAAG,IAAI,CAAC;AACpB,YAAI,CAAC,YAAY,EAAE,CAAC;AACpB,cAAM;AAAA,AACR,WAAK,+BAAY,qBAAqB;AACpC,oBAAY,GAAG,KAAK,CAAC;AACrB,YAAI,CAAC,YAAY,EAAE,CAAC;AACpB,cAAM;AAAA,AACR,WAAK,+BAAY,kBAAkB;AACjC,YAAI,CAAC,UAAU,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;AAChC,YAAI,CAAC,YAAY,EAAE,CAAC;AACpB,cAAM;AAAA,AACR,WAAK,+BAAY,oBAAoB;AACnC,YAAI,KAAK,KAAK,MAAM,CAAC,IAAI,EAAE;AACzB,eAAK,GAAG,MAAM,CAAC,IAAI,CAAC;AACpB,gCAAY,UAAU,CAAC,KAAK,CAAC,CAAC;AAC9B,cAAI,CAAC,YAAY,EAAE,CAAC;SACrB;AACD,cAAM;AAAA,AACR,WAAK,+BAAY,wBAAwB;AACvC,YAAI,KAAK,KAAK,MAAM,CAAC,IAAI,EAAE;AACzB,eAAK,GAAG,MAAM,CAAC,IAAI,CAAC;AACpB,gCAAY,UAAU,CAAC,KAAK,CAAC,CAAC;AAC9B,cAAI,CAAC,YAAY,EAAE,CAAC;SACrB;AACD,cAAM;AAAA,AACR,WAAK,+BAAY,6BAA6B;AAC5C,YAAI,MAAM,KAAK,MAAM,CAAC,KAAK,EAAE;AAC3B,gBAAM,GAAG,MAAM,CAAC,KAAK,CAAC;AACtB,cAAI,CAAC,YAAY,EAAE,CAAC;SACrB;AACD,cAAM;AAAA,AACR,cAAQ;KACT;GACF;;SApEG,cAAc;;;kBAuEL,IAAI,cAAc,8BAAY","file":"MyProfileStore.js","sourcesContent":["/*\n * Copyright (C) 2015 Actor LLC. <https://actor.im>\n */\n\nimport { Store } from 'flux/utils';\nimport Dispatcher from '../dispatcher/ActorAppDispatcher';\nimport { ActionTypes } from '../constants/ActorAppConstants';\nimport ActorClient from '../utils/ActorClient';\n\nlet _profile = null,\n    _name = null,\n    _nick = null,\n    _about = null,\n    _isModalOpen = false;\n\nclass MyProfileStore extends Store {\n  constructor(Dispatcher) {\n    super(Dispatcher);\n  }\n\n  isModalOpen() {\n    return _isModalOpen;\n  }\n\n  getName() {\n    return _name;\n  }\n\n  getNick() {\n    return _nick;\n  }\n\n  getAbout() {\n    return _about;\n  }\n\n  getProfile() {\n    return _profile;\n  }\n\n  setProfile(profile) {\n    _profile = profile;\n    _name = profile.name;\n    _nick = profile.nick;\n    _about = profile.about;\n  };\n\n  __onDispatch(action) {\n    switch(action.type) {\n      case ActionTypes.MY_PROFILE_MODAL_SHOW:\n        _isModalOpen = true;\n        this.__emitChange();\n        break;\n      case ActionTypes.MY_PROFILE_MODAL_HIDE:\n        _isModalOpen = false;\n        this.__emitChange();\n        break;\n      case ActionTypes.MY_PROFILE_CHANGED:\n        this.setProfile(action.profile);\n        this.__emitChange();\n        break;\n      case ActionTypes.MY_PROFILE_SAVE_NAME:\n        if (_name !== action.name) {\n          _name = action.name;\n          ActorClient.editMyName(_name);\n          this.__emitChange();\n        }\n        break;\n      case ActionTypes.MY_PROFILE_SAVE_NICKNAME:\n        if (_nick !== action.nick) {\n          _nick = action.nick;\n          ActorClient.editMyNick(_nick);\n          this.__emitChange();\n        }\n        break;\n      case ActionTypes.MY_PROFILE_EDIT_ABOUT_SUCCESS:\n        if (_about !== action.about) {\n          _about = action.about;\n          this.__emitChange();\n        }\n        break;\n      default:\n    }\n  };\n}\n\nexport default new MyProfileStore(Dispatcher);\n"]}