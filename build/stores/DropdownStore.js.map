{"version":3,"sources":["../../src/stores/DropdownStore.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAUM,aAAa;YAAb,aAAa;;AACjB,WADI,aAAa,CACL,UAAU,EAAE;0BADpB,aAAa;;uEAAb,aAAa,aAET,UAAU;;AAEhB,UAAK,sBAAsB,GAAG,KAAK,CAAC;AACpC,UAAK,oBAAoB,GAAG,KAAK,CAAC;AAClC,UAAK,WAAW,GAAG,EAAE,CAAC;AACtB,UAAK,WAAW,GAAG,EAAE,CAAA;AACrB,UAAK,QAAQ,GAAG,EAAE,CAAC;AACnB,UAAK,KAAK,GAAG,EAAE,CAAC;;GACjB;;eAVG,aAAa;;0CAYK,GAAG,EAAE;AACzB,UAAI,GAAG,KAAK,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE;AAC7B,eAAO,IAAI,CAAC,sBAAsB,CAAC;OACpC,MAAM;AACL,eAAO,KAAK,CAAC;OACd;KACF;;;0CAEqB;AACpB,aAAO,IAAI,CAAC,oBAAoB,CAAC;KAClC;;;iCAEY;AACX,aAAO,IAAI,CAAC,QAAQ,CAAC;KACtB;;;oCAEe;AACd,aAAO,IAAI,CAAC,WAAW,CAAC;KACzB;;;oCAEe;AACd,aAAO,IAAI,CAAC,WAAW,CAAC;KACzB;;;8BAES;AACR,aAAO,IAAI,CAAC,KAAK,CAAC;KACnB;;;iCAEY,MAAM,EAAE;AACnB,cAAO,MAAM,CAAC,IAAI;AAChB,aAAK,+BAAY,qBAAqB;AACpC,cAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC;AACnC,cAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;AAClC,cAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,OAAO,CAAC;AAC/B,cAAI,CAAC,WAAW,GAAG,MAAM,CAAC,UAAU,CAAC;AACrC,cAAI,CAAC,YAAY,EAAE,CAAC;AACpB,gBAAM;AAAA,AACR,aAAK,+BAAY,qBAAqB;AACpC,cAAI,CAAC,sBAAsB,GAAG,KAAK,CAAC;AACpC,cAAI,CAAC,YAAY,EAAE,CAAC;AACpB,gBAAM;;AAAA,AAER,aAAK,+BAAY,wBAAwB;AACvC,cAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;AACjC,cAAI,CAAC,sBAAsB,GAAG,KAAK,CAAC;AACpC,cAAI,CAAC,WAAW,GAAG,MAAM,CAAC,UAAU,CAAC;AACrC,cAAI,CAAC,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC;AACzB,cAAI,CAAC,YAAY,EAAE,CAAC;AACpB,gBAAM;AAAA,AACR,aAAK,+BAAY,wBAAwB;AACvC,cAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;AAClC,cAAI,CAAC,YAAY,EAAE,CAAC;AACpB,gBAAM;AAAA,AACR,gBAAQ;OACT;KACF;;;SAnEG,aAAa;;;kBAsEJ,IAAI,aAAa,8BAAY","file":"DropdownStore.js","sourcesContent":["/*\n * Copyright (C) 2015 Actor LLC. <https://actor.im>\n */\n\nimport { Store } from 'flux/utils';\nimport Dispatcher from '../dispatcher/ActorAppDispatcher';\nimport { ActionTypes } from '../constants/ActorAppConstants';\nimport ActorClient from '../utils/ActorClient';\nimport PeerUtils from '../utils/PeerUtils';\n\nclass DropdownStore extends Store {\n  constructor(dispatcher) {\n    super(dispatcher);\n\n    this._isMessageDropdownOpen = false;\n    this._isRecentContextOpen = false;\n    this._targetRect = {};\n    this._contextPos = {}\n    this._message = {};\n    this._peer = {};\n  }\n\n  isMessageDropdownOpen(rid) {\n    if (rid === this._message.rid) {\n      return this._isMessageDropdownOpen;\n    } else {\n      return false;\n    }\n  }\n\n  isRecentContextOpen() {\n    return this._isRecentContextOpen;\n  }\n\n  getMessage() {\n    return this._message;\n  }\n\n  getTargetRect() {\n    return this._targetRect;\n  }\n\n  getContextPos() {\n    return this._contextPos;\n  }\n\n  getPeer() {\n    return this._peer;\n  }\n\n  __onDispatch(action) {\n    switch(action.type) {\n      case ActionTypes.MESSAGE_DROPDOWN_SHOW:\n        this._isMessageDropdownOpen = true;\n        this._isRecentContextOpen = false;\n        this._message = action.message;\n        this._targetRect = action.targetRect;\n        this.__emitChange();\n        break;\n      case ActionTypes.MESSAGE_DROPDOWN_HIDE:\n        this._isMessageDropdownOpen = false;\n        this.__emitChange();\n        break;\n\n      case ActionTypes.RECENT_CONTEXT_MENU_SHOW:\n        this._isRecentContextOpen = true;\n        this._isMessageDropdownOpen = false;\n        this._contextPos = action.contextPos;\n        this._peer = action.peer;\n        this.__emitChange();\n        break;\n      case ActionTypes.RECENT_CONTEXT_MENU_HIDE:\n        this._isRecentContextOpen = false;\n        this.__emitChange();\n        break;\n      default:\n    }\n  }\n}\n\nexport default new DropdownStore(Dispatcher);\n"]}