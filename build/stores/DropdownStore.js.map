{"version":3,"sources":["../../src/stores/DropdownStore.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAUM,aAAa;YAAb,aAAa;;AACjB,WADI,aAAa,CACL,UAAU,EAAE;0BADpB,aAAa;;iDAEf,kBAAM,UAAU,CAAC;;AAEjB,UAAK,sBAAsB,GAAG,KAAK,CAAC;AACpC,UAAK,oBAAoB,GAAG,KAAK,CAAC;AAClC,UAAK,WAAW,GAAG,EAAE,CAAC;AACtB,UAAK,WAAW,GAAG,EAAE,CAAA;AACrB,UAAK,QAAQ,GAAG,EAAE,CAAC;AACnB,UAAK,KAAK,GAAG,EAAE,CAAC;;GACjB;;AAVG,eAAa,WAYjB,qBAAqB,kCAAC,GAAG,EAAE;AACzB,QAAI,GAAG,KAAK,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE;AAC7B,aAAO,IAAI,CAAC,sBAAsB,CAAC;KACpC,MAAM;AACL,aAAO,KAAK,CAAC;KACd;GACF;;AAlBG,eAAa,WAoBjB,mBAAmB,kCAAG;AACpB,WAAO,IAAI,CAAC,oBAAoB,CAAC;GAClC;;AAtBG,eAAa,WAwBjB,UAAU,yBAAG;AACX,WAAO,IAAI,CAAC,QAAQ,CAAC;GACtB;;AA1BG,eAAa,WA4BjB,aAAa,4BAAG;AACd,WAAO,IAAI,CAAC,WAAW,CAAC;GACzB;;AA9BG,eAAa,WAgCjB,aAAa,4BAAG;AACd,WAAO,IAAI,CAAC,WAAW,CAAC;GACzB;;AAlCG,eAAa,WAoCjB,OAAO,sBAAG;AACR,WAAO,IAAI,CAAC,KAAK,CAAC;GACnB;;AAtCG,eAAa,WAwCjB,YAAY,yBAAC,MAAM,EAAE;AACnB,YAAO,MAAM,CAAC,IAAI;AAChB,WAAK,+BAAY,qBAAqB;AACpC,YAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC;AACnC,YAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;AAClC,YAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,OAAO,CAAC;AAC/B,YAAI,CAAC,WAAW,GAAG,MAAM,CAAC,UAAU,CAAC;AACrC,YAAI,CAAC,YAAY,EAAE,CAAC;AACpB,cAAM;AAAA,AACR,WAAK,+BAAY,qBAAqB;AACpC,YAAI,CAAC,sBAAsB,GAAG,KAAK,CAAC;AACpC,YAAI,CAAC,YAAY,EAAE,CAAC;AACpB,cAAM;;AAAA,AAER,WAAK,+BAAY,wBAAwB;AACvC,YAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;AACjC,YAAI,CAAC,sBAAsB,GAAG,KAAK,CAAC;AACpC,YAAI,CAAC,WAAW,GAAG,MAAM,CAAC,UAAU,CAAC;AACrC,YAAI,CAAC,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC;AACzB,YAAI,CAAC,YAAY,EAAE,CAAC;AACpB,cAAM;AAAA,AACR,WAAK,+BAAY,wBAAwB;AACvC,YAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;AAClC,YAAI,CAAC,YAAY,EAAE,CAAC;AACpB,cAAM;AAAA,AACR,cAAQ;KACT;GACF;;SAnEG,aAAa;;;kBAsEJ,IAAI,aAAa,8BAAY","file":"DropdownStore.js","sourcesContent":["/*\n * Copyright (C) 2015 Actor LLC. <https://actor.im>\n */\n\nimport { Store } from 'flux/utils';\nimport Dispatcher from '../dispatcher/ActorAppDispatcher';\nimport { ActionTypes } from '../constants/ActorAppConstants';\nimport ActorClient from '../utils/ActorClient';\nimport PeerUtils from '../utils/PeerUtils';\n\nclass DropdownStore extends Store {\n  constructor(dispatcher) {\n    super(dispatcher);\n\n    this._isMessageDropdownOpen = false;\n    this._isRecentContextOpen = false;\n    this._targetRect = {};\n    this._contextPos = {}\n    this._message = {};\n    this._peer = {};\n  }\n\n  isMessageDropdownOpen(rid) {\n    if (rid === this._message.rid) {\n      return this._isMessageDropdownOpen;\n    } else {\n      return false;\n    }\n  }\n\n  isRecentContextOpen() {\n    return this._isRecentContextOpen;\n  }\n\n  getMessage() {\n    return this._message;\n  }\n\n  getTargetRect() {\n    return this._targetRect;\n  }\n\n  getContextPos() {\n    return this._contextPos;\n  }\n\n  getPeer() {\n    return this._peer;\n  }\n\n  __onDispatch(action) {\n    switch(action.type) {\n      case ActionTypes.MESSAGE_DROPDOWN_SHOW:\n        this._isMessageDropdownOpen = true;\n        this._isRecentContextOpen = false;\n        this._message = action.message;\n        this._targetRect = action.targetRect;\n        this.__emitChange();\n        break;\n      case ActionTypes.MESSAGE_DROPDOWN_HIDE:\n        this._isMessageDropdownOpen = false;\n        this.__emitChange();\n        break;\n\n      case ActionTypes.RECENT_CONTEXT_MENU_SHOW:\n        this._isRecentContextOpen = true;\n        this._isMessageDropdownOpen = false;\n        this._contextPos = action.contextPos;\n        this._peer = action.peer;\n        this.__emitChange();\n        break;\n      case ActionTypes.RECENT_CONTEXT_MENU_HIDE:\n        this._isRecentContextOpen = false;\n        this.__emitChange();\n        break;\n      default:\n    }\n  }\n}\n\nexport default new DropdownStore(Dispatcher);\n"]}