{"version":3,"sources":["../../src/stores/CreateGroupStore.js"],"names":[],"mappings":";;;;;;AAIA;;;;AAEA;;AACA;;;;AACA;;;;;;;;;;;;IAEM,gB;;;;;;;;;6BACJ,e,8BAAkB;AAChB,WAAO;AACL,YAAM,oCAAiB,UADlB;AAEL,YAAM,IAFD;AAGL,uBAAiB,IAAI,oBAAU,GAAd;AAHZ,KAAP;AAKD,G;;6BAED,M,mBAAO,K,EAAO,M,EAAQ;AACpB,YAAQ,OAAO,IAAf;AACE,WAAK,+BAAY,qBAAjB;AACE,4BACK,KADL;AAEE,gBAAM,oCAAiB,kBAFzB;AAGE,gBAAM,OAAO;AAHf;;AAMF,WAAK,+BAAY,wBAAjB;AACE,4BACK,KADL;AAEE,2BAAiB,OAAO;AAF1B;;AAKF,WAAK,+BAAY,YAAjB;AACE,4BACK,KADL;AAEE,gBAAM,oCAAiB;AAFzB;;;AAMF,WAAK,+BAAY,oBAAjB;AACE,eAAO,KAAK,eAAL,EAAP;;AAEF,WAAK,+BAAY,kBAAjB;AACE,gBAAQ,KAAR,CAAc,wBAAd,EAAwC,OAAO,KAA/C;AACA,eAAO,KAAP;;AAEF,WAAK,+BAAY,uBAAjB;AACE,eAAO,KAAK,eAAL,EAAP;;AAGF;AACE,eAAO,KAAP;AAjCJ;AAmCD,G;;6BAGC,c,6BAAiB;AACf,WAAO,KAAK,QAAL,GAAgB,IAAvB;AACD,G;;6BAED,Y,2BAAe;AACb,WAAO,KAAK,QAAL,GAAgB,IAAvB;AACD,G;;6BAED,kB,iCAAqB;AACnB,WAAO,KAAK,QAAL,GAAgB,eAAvB;AACD,G;;;;;kBAGU,IAAI,gBAAJ,8B","file":"CreateGroupStore.js","sourcesContent":["/*\n * Copyright (C) 2015 Actor LLC. <https://actor.im>\n */\n\nimport Immutable from 'immutable';\n\nimport { ReduceStore } from 'flux/utils';\nimport Dispatcher from '../dispatcher/ActorAppDispatcher';\nimport { ActionTypes, CreateGroupSteps } from '../constants/ActorAppConstants';\n\nclass CreateGroupStore extends ReduceStore {\n  getInitialState() {\n    return {\n      step: CreateGroupSteps.NAME_INPUT,\n      name: null,\n      selectedUserIds: new Immutable.Set()\n    };\n  }\n\n  reduce(state, action) {\n    switch (action.type) {\n      case ActionTypes.GROUP_CREATE_SET_NAME:\n        return {\n          ...state,\n          step: CreateGroupSteps.CONTACTS_SELECTION,\n          name: action.name\n        }\n\n      case ActionTypes.GROUP_CREATE_SET_MEMBERS:\n        return {\n          ...state,\n          selectedUserIds: action.selectedUserIds\n        }\n\n      case ActionTypes.GROUP_CREATE:\n        return {\n          ...state,\n          step: CreateGroupSteps.CREATION_STARTED\n        }\n\n      // TODO: Show create group error success messages in modal\n      case ActionTypes.GROUP_CREATE_SUCCESS:\n        return this.getInitialState();\n\n      case ActionTypes.GROUP_CREATE_ERROR:\n        console.error('Failed to create group', action.error);\n        return state;\n\n      case ActionTypes.GROUP_CREATE_MODAL_HIDE:\n        return this.getInitialState();\n\n\n      default:\n        return state;\n    }\n  }\n\n\n    getCurrentStep() {\n      return this.getState().step;\n    }\n\n    getGroupName() {\n      return this.getState().name;\n    }\n\n    getSelectedUserIds() {\n      return this.getState().selectedUserIds;\n    }\n}\n\nexport default new CreateGroupStore(Dispatcher);\n"]}