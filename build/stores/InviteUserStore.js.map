{"version":3,"sources":["../../src/stores/InviteUserStore.js"],"names":[],"mappings":";;;;;;AAIA;;AACA;;;;AACA;;;;;;;;;;;;IAEM,e;;;;;;;;;4BACJ,e,8BAAkB;AAChB,WAAO;AACL,cAAQ,KADH;AAEL,0BAAoB,KAFf;AAGL,aAAO,IAHF;AAIL,aAAO,IAJF;AAKL,iBAAW,IALN;AAML,aAAO;AANF,KAAP;AAQD,G;;4BAED,M,mBAAO,K,EAAO,M,EAAQ;AACpB,YAAO,OAAO,IAAd;AACE,WAAK,+BAAY,mBAAjB;AACE,4BACK,KADL;AAEE,iBAAO,OAAO;AAFhB;AAIF,WAAK,+BAAY,sBAAjB;AACE,4BACK,KADL;AAEE,kBAAQ,IAFV;AAGE,iBAAO,OAAO;AAHhB;AAKF,WAAK,+BAAY,sBAAjB;AACE,eAAO,KAAK,eAAL,EAAP;AACF,WAAK,+BAAY,8BAAjB;AACE,4BACK,KADL;AAEE,8BAAoB,IAFtB;AAGE,iBAAO,OAAO,KAHhB;AAIE,qBAAW,OAAO;AAJpB;AAMF,WAAK,+BAAY,wBAAjB;AACE,4BACK,KADL;AAEE,iBAAO,OAAO;AAFhB;AAIF,WAAK,+BAAY,8BAAjB;AACE,4BACK,KADL;AAEE,8BAAoB;AAFtB;;;AAMF,WAAK,+BAAY,WAAjB;AACE,cAAM,KAAN,CAAY,OAAO,GAAnB,IAA0B,qCAAkB,UAA5C;AACA,4BACK,KADL;AAGF,WAAK,+BAAY,mBAAjB;AACE,cAAM,KAAN,CAAY,OAAO,GAAnB,IAA0B,qCAAkB,OAA5C;AACA,4BACK,KADL;AAGF,WAAK,+BAAY,iBAAjB;AACE,cAAM,KAAN,CAAY,OAAO,GAAnB,IAA0B,qCAAkB,OAA5C;AACA,4BACK,KADL;AAGF,WAAK,+BAAY,iBAAjB;AACE,eAAO,MAAM,KAAN,CAAY,OAAO,GAAnB,CAAP;AACA,4BACK,KADL;AAGF;AACE,eAAO,KAAP;AAtDJ;AAwDD,G;;4BAED,W,0BAAc;AACZ,WAAO,KAAK,QAAL,GAAgB,MAAvB;AACD,G;;4BAED,yB,wCAA4B;AAC1B,WAAO,KAAK,QAAL,GAAgB,kBAAvB;AACD,G;;4BAED,Q,uBAAW;AACT,WAAO,KAAK,QAAL,GAAgB,KAAvB;AACD,G;;4BAED,Y,2BAAe;AACb,WAAO,KAAK,QAAL,GAAgB,SAAvB;AACD,G;;4BAED,kB,iCAAqB;AACnB,WAAO,KAAK,QAAL,GAAgB,KAAvB;AACD,G;;;;;kBAGY,IAAI,eAAJ,8B","file":"InviteUserStore.js","sourcesContent":["/*\n * Copyright (C) 2015 Actor LLC. <https://actor.im>\n */\n\nimport { ReduceStore } from 'flux/utils';\nimport Dispatcher from '../dispatcher/ActorAppDispatcher';\nimport { ActionTypes, AsyncActionStates } from '../constants/ActorAppConstants';\n\nclass InviteUserStore extends ReduceStore {\n  getInitialState() {\n    return {\n      isOpen: false,\n      isInviteByLinkOpen: false,\n      query: null,\n      group: null,\n      inviteUrl: null,\n      users: {}\n    };\n  }\n\n  reduce(state, action) {\n    switch(action.type) {\n      case ActionTypes.DIALOG_INFO_CHANGED:\n        return {\n          ...state,\n          group: action.info\n        };\n      case ActionTypes.INVITE_USER_MODAL_SHOW:\n        return {\n          ...state,\n          isOpen: true,\n          group: action.group\n        };\n      case ActionTypes.INVITE_USER_MODAL_HIDE:\n        return this.getInitialState();\n      case ActionTypes.INVITE_USER_BY_LINK_MODAL_SHOW:\n        return {\n          ...state,\n          isInviteByLinkOpen: true,\n          group: action.group,\n          inviteUrl: action.url\n        };\n      case ActionTypes.INVITE_USER_QUERY_CHANGE:\n        return {\n          ...state,\n          query: action.query\n        };\n      case ActionTypes.INVITE_USER_BY_LINK_MODAL_HIDE:\n        return {\n          ...state,\n          isInviteByLinkOpen: false\n        };\n\n      // Invite user\n      case ActionTypes.INVITE_USER:\n        state.users[action.uid] = AsyncActionStates.PROCESSING;\n        return {\n          ...state\n        };\n      case ActionTypes.INVITE_USER_SUCCESS:\n        state.users[action.uid] = AsyncActionStates.SUCCESS;\n        return {\n          ...state\n        };\n      case ActionTypes.INVITE_USER_ERROR:\n        state.users[action.uid] = AsyncActionStates.FAILURE;\n        return {\n          ...state\n        };\n      case ActionTypes.INVITE_USER_RESET:\n        delete state.users[action.uid];\n        return {\n          ...state\n        };\n      default:\n        return state;\n    }\n  }\n\n  isModalOpen() {\n    return this.getState().isOpen;\n  }\n\n  isInviteWithLinkModalOpen() {\n    return this.getState().isInviteByLinkOpen;\n  }\n\n  getGroup() {\n    return this.getState().group;\n  }\n\n  getInviteUrl() {\n    return this.getState().inviteUrl;\n  }\n\n  getInviteUserState() {\n    return this.getState().users;\n  }\n}\n\nexport default new InviteUserStore(Dispatcher);\n"]}