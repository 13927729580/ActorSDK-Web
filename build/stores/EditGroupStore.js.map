{"version":3,"sources":["../../src/stores/EditGroupStore.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AASA,IAAI,OAAO,GAAG,KAAK;IACf,MAAM,GAAG,EAAE;IACX,MAAM,GAAG,EAAE;IACX,MAAM,GAAG,EAAE,CAAC;;IAEV,cAAc;YAAd,cAAc;;AAClB,WADI,cAAc,CACN,UAAU,EAAE;0BADpB,cAAc;;4CAEhB,kBAAM,UAAU,CAAC;GAClB;;AAHG,gBAAc,WAKlB,MAAM,qBAAG;AACP,WAAO,OAAO,CAAC;GAChB;;AAPG,gBAAc,WASlB,QAAQ,uBAAG;AACT,WAAO,MAAM,CAAC;GACf;;AAXG,gBAAc,WAalB,QAAQ,uBAAG;AACT,WAAO,MAAM,CAAC;GACf;;AAfG,gBAAc,WAiBlB,QAAQ,uBAAG;AACT,WAAO,MAAM,CAAC;GACf;;AAnBG,gBAAc,WAqBlB,OAAO,sBAAG;AACR,QAAM,IAAI,GAAG,sBAAY,MAAM,EAAE,CAAC;AAClC,WAAO,MAAM,CAAC,OAAO,KAAK,IAAI,CAAC;GAChC;;AAxBG,gBAAc,WA0BlB,QAAQ,qBAAC,KAAK,EAAE;AACd,UAAM,GAAG,KAAK,CAAC;AACf,UAAM,GAAG,MAAM,CAAC,IAAI,CAAC;AACrB,UAAM,GAAG,MAAM,CAAC,KAAK,CAAC;GACvB;;AA9BG,gBAAc,WAgClB,YAAY,yBAAC,MAAM,EAAE;AACnB,YAAQ,MAAM,CAAC,IAAI;AACjB,WAAK,+BAAY,qBAAqB;AACpC,eAAO,GAAG,IAAI,CAAC;AACf,YAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;AAC5B,YAAI,CAAC,YAAY,EAAE,CAAC;AACpB,cAAM;;AAAA,AAER,WAAK,+BAAY,kBAAkB;AACjC,YAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;AAC5B,YAAI,CAAC,YAAY,EAAE,CAAC;AACpB,cAAM;;AAAA,AAER,WAAK,+BAAY,qBAAqB;AACpC,eAAO,GAAG,KAAK,CAAC;AAChB,YAAI,CAAC,YAAY,EAAE,CAAC;AACpB,cAAM;AAAA,KACT;GACF;;SAlDG,cAAc;;;kBAoDL,IAAI,cAAc,8BAAY","file":"EditGroupStore.js","sourcesContent":["/*\n * Copyright (C) 2015 Actor LLC. <https://actor.im>\n */\n\nimport { Store } from 'flux/utils';\nimport Dispatcher from '../dispatcher/ActorAppDispatcher';\nimport { ActionTypes } from '../constants/ActorAppConstants';\nimport ActorClient from '../utils/ActorClient';\n\nlet _isOpen = false,\n    _title = '',\n    _about = '',\n    _group = {};\n\nclass EditGroupStore extends Store {\n  constructor(Dispatcher) {\n    super(Dispatcher);\n  }\n\n  isOpen() {\n    return _isOpen;\n  }\n\n  getGroup() {\n    return _group;\n  }\n\n  getAbout() {\n    return _about;\n  }\n\n  getTitle() {\n    return _title;\n  }\n\n  isAdmin() {\n    const myID = ActorClient.getUid();\n    return _group.adminId === myID;\n  }\n\n  setGroup(group) {\n    _group = group;\n    _title = _group.name;\n    _about = _group.about;\n  }\n\n  __onDispatch(action) {\n    switch (action.type) {\n      case ActionTypes.GROUP_EDIT_MODAL_SHOW:\n        _isOpen = true;\n        this.setGroup(action.group);\n        this.__emitChange();\n        break;\n\n      case ActionTypes.GROUP_INFO_CHANGED:\n        this.setGroup(action.group);\n        this.__emitChange();\n        break;\n\n      case ActionTypes.GROUP_EDIT_MODAL_HIDE:\n        _isOpen = false;\n        this.__emitChange();\n        break;\n    }\n  };\n}\nexport default new EditGroupStore(Dispatcher);\n"]}