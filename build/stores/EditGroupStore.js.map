{"version":3,"sources":["../../src/stores/EditGroupStore.js"],"names":[],"mappings":";;;;AAIA;;AACA;;;;AACA;;AACA;;;;;;;;;;;;;;AAEA,IAAI,UAAU,KAAd;IACI,SAAS,EADb;IAEI,SAAS,EAFb;IAGI,SAAS,EAHb;;IAKM,c;;;AACJ,0BAAY,UAAZ,EAAwB;AAAA;;AAAA,4CACtB,kBAAM,UAAN,CADsB;AAEvB;;2BAED,M,qBAAS;AACP,WAAO,OAAP;AACD,G;;2BAED,Q,uBAAW;AACT,WAAO,MAAP;AACD,G;;2BAED,Q,uBAAW;AACT,WAAO,MAAP;AACD,G;;2BAED,Q,uBAAW;AACT,WAAO,MAAP;AACD,G;;2BAED,O,sBAAU;AACR,QAAM,OAAO,sBAAY,MAAZ,EAAb;AACA,WAAO,OAAO,OAAP,KAAmB,IAA1B;AACD,G;;2BAED,Q,qBAAS,K,EAAO;AACd,aAAS,KAAT;AACA,aAAS,OAAO,IAAhB;AACA,aAAS,OAAO,KAAhB;AACD,G;;2BAED,Y,yBAAa,M,EAAQ;AACnB,YAAQ,OAAO,IAAf;AACE,WAAK,+BAAY,qBAAjB;AACE,kBAAU,IAAV;AACA,aAAK,QAAL,CAAc,OAAO,KAArB;AACA,aAAK,YAAL;AACA;;AAEF,WAAK,+BAAY,kBAAjB;AACE,aAAK,QAAL,CAAc,OAAO,KAArB;AACA,aAAK,YAAL;AACA;;AAEF,WAAK,+BAAY,qBAAjB;AACE,kBAAU,KAAV;AACA,aAAK,YAAL;AACA;AAfJ;AAiBD,G;;;;;kBAEY,IAAI,cAAJ,8B","file":"EditGroupStore.js","sourcesContent":["/*\n * Copyright (C) 2015 Actor LLC. <https://actor.im>\n */\n\nimport { Store } from 'flux/utils';\nimport Dispatcher from '../dispatcher/ActorAppDispatcher';\nimport { ActionTypes } from '../constants/ActorAppConstants';\nimport ActorClient from '../utils/ActorClient';\n\nlet _isOpen = false,\n    _title = '',\n    _about = '',\n    _group = {};\n\nclass EditGroupStore extends Store {\n  constructor(Dispatcher) {\n    super(Dispatcher);\n  }\n\n  isOpen() {\n    return _isOpen;\n  }\n\n  getGroup() {\n    return _group;\n  }\n\n  getAbout() {\n    return _about;\n  }\n\n  getTitle() {\n    return _title;\n  }\n\n  isAdmin() {\n    const myID = ActorClient.getUid();\n    return _group.adminId === myID;\n  }\n\n  setGroup(group) {\n    _group = group;\n    _title = _group.name;\n    _about = _group.about;\n  }\n\n  __onDispatch(action) {\n    switch (action.type) {\n      case ActionTypes.GROUP_EDIT_MODAL_SHOW:\n        _isOpen = true;\n        this.setGroup(action.group);\n        this.__emitChange();\n        break;\n\n      case ActionTypes.GROUP_INFO_CHANGED:\n        this.setGroup(action.group);\n        this.__emitChange();\n        break;\n\n      case ActionTypes.GROUP_EDIT_MODAL_HIDE:\n        _isOpen = false;\n        this.__emitChange();\n        break;\n    }\n  }\n}\nexport default new EditGroupStore(Dispatcher);\n"]}