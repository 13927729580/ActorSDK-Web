{"version":3,"sources":["../../src/stores/EditGroupStore.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASA,IAAI,OAAO,GAAG,KAAK;IACf,MAAM,GAAG,EAAE;IACX,MAAM,GAAG,EAAE;IACX,MAAM,GAAG,EAAE,CAAC;;IAEV,cAAc;YAAd,cAAc;;AAClB,WADI,cAAc,CACN,UAAU,EAAE;0BADpB,cAAc;;uEAAd,cAAc,aAEV,UAAU;;UA8BlB,YAAY,GAAG,UAAA,MAAM,EAAI;AACvB,cAAQ,MAAM,CAAC,IAAI;AACjB,aAAK,mBA1CF,WAAW,CA0CG,qBAAqB;AACpC,iBAAO,GAAG,IAAI,CAAC;AACf,gBAAK,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;AAC5B,gBAAK,YAAY,EAAE,CAAC;AACpB,gBAAM;;AAAA,AAER,aAAK,mBAhDF,WAAW,CAgDG,kBAAkB;AACjC,gBAAK,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;AAC5B,gBAAK,YAAY,EAAE,CAAC;AACpB,gBAAM;;AAAA,AAER,aAAK,mBArDF,WAAW,CAqDG,qBAAqB;AACpC,iBAAO,GAAG,KAAK,CAAC;AAChB,gBAAK,YAAY,EAAE,CAAC;AACpB,gBAAM;AAAA,OACT;KACF;;;GA/CA;;eAHG,cAAc;;6BAKT;AACP,aAAO,OAAO,CAAC;KAChB;;;+BAEU;AACT,aAAO,MAAM,CAAC;KACf;;;+BAEU;AACT,aAAO,MAAM,CAAC;KACf;;;+BAEU;AACT,aAAO,MAAM,CAAC;KACf;;;8BAES;AACR,UAAM,IAAI,GAAG,sBAAY,MAAM,EAAE,CAAC;AAClC,aAAO,MAAM,CAAC,OAAO,KAAK,IAAI,CAAC;KAChC;;;6BAEQ,KAAK,EAAE;AACd,YAAM,GAAG,KAAK,CAAC;AACf,YAAM,GAAG,MAAM,CAAC,IAAI,CAAC;AACrB,YAAM,GAAG,MAAM,CAAC,KAAK,CAAC;KACvB;;;SA9BG,cAAc;UAVX,KAAK;;kBA8DC,IAAI,cAAc,8BAAY","file":"EditGroupStore.js","sourcesContent":["/*\n * Copyright (C) 2015 Actor LLC. <https://actor.im>\n */\n\nimport { Store } from 'flux/utils';\nimport Dispatcher from '../dispatcher/ActorAppDispatcher';\nimport { ActionTypes } from '../constants/ActorAppConstants';\nimport ActorClient from '../utils/ActorClient';\n\nlet _isOpen = false,\n    _title = '',\n    _about = '',\n    _group = {};\n\nclass EditGroupStore extends Store {\n  constructor(Dispatcher) {\n    super(Dispatcher);\n  }\n\n  isOpen() {\n    return _isOpen;\n  }\n\n  getGroup() {\n    return _group;\n  }\n\n  getAbout() {\n    return _about;\n  }\n\n  getTitle() {\n    return _title;\n  }\n\n  isAdmin() {\n    const myID = ActorClient.getUid();\n    return _group.adminId === myID;\n  }\n\n  setGroup(group) {\n    _group = group;\n    _title = _group.name;\n    _about = _group.about;\n  }\n\n  __onDispatch = action => {\n    switch (action.type) {\n      case ActionTypes.GROUP_EDIT_MODAL_SHOW:\n        _isOpen = true;\n        this.setGroup(action.group);\n        this.__emitChange();\n        break;\n\n      case ActionTypes.GROUP_INFO_CHANGED:\n        this.setGroup(action.group);\n        this.__emitChange();\n        break;\n\n      case ActionTypes.GROUP_EDIT_MODAL_HIDE:\n        _isOpen = false;\n        this.__emitChange();\n        break;\n    }\n  }\n}\nexport default new EditGroupStore(Dispatcher);\n"]}