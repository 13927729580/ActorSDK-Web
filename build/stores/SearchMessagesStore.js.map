{"version":3,"sources":["../../src/stores/SearchMessagesStore.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAIA;;AACA;;;;AACA;;;;IAEM;;;;;;;;gCACJ,6CAAkB;AAChB,WAAO;AACL,cAAQ,KAAR;AACA,iBAAW,KAAX;AACA,kBAAY,KAAZ;AACA,mBAAa,KAAb;AACA,aAAO,EAAP;AACA,eAAS,EAAT;KANF,CADgB;;;AADd,gCAYJ,yBAAO,OAAO,QAAQ;AACpB,YAAQ,OAAO,IAAP;AACN,WAAK,+BAAY,WAAZ;AACH,0CACK;AACH,kBAAQ,IAAR;AACA,sBAAY,KAAZ;UAHF,CADF;AADF,WAOO,+BAAY,WAAZ;AACH,eAAO,KAAK,eAAL,EAAP,CADF;AAPF,WASO,+BAAY,mBAAZ;AACH,0CACK;AACH,qBAAW,OAAO,QAAP;UAFb,CADF;AATF,WAcO,+BAAY,oBAAZ;AACH,0CACK;AACH,sBAAY,CAAC,MAAM,UAAN;UAFf,CADF;AAdF,WAmBO,+BAAY,WAAZ;AACH,0CACK;AACH,iBAAO,OAAO,KAAP;AACP,uBAAa,IAAb;UAHF,CADF;AAnBF,WAyBO,+BAAY,mBAAZ;AACH,0CACK;AACH,mBAAS,OAAO,KAAP,GAAe,OAAO,QAAP,GAAkB,EAAjC;AACT,uBAAa,KAAb;UAHF,CADF;AAzBF,WA+BO,+BAAY,iBAAZ;AACH,gBAAQ,GAAR,CAAY,MAAZ,EADF;AAEE,eAAO,KAAP,CAFF;AA/BF;AAmCI,eAAO,KAAP,CADF;AAlCF,KADoB;;;AAZlB,gCAoDJ,2BAAS;AACP,WAAO,KAAK,QAAL,GAAgB,MAAhB,CADA;;;AApDL,gCAwDJ,qCAAc;AACZ,WAAO,KAAK,QAAL,GAAgB,WAAhB,CADK;;;AAxDV,gCA4DJ,mCAAa;AACX,WAAO,KAAK,QAAL,GAAgB,UAAhB,CADI;;;AA5DT,gCAgEJ,+BAAW;AACT,WAAO,KAAK,QAAL,GAAgB,KAAhB,CADE;;;AAhEP,gCAoEJ,yCAAgB;AACd,WAAO,KAAK,QAAL,GAAgB,OAAhB,CADO;;;SApEZ;;;;;kBAyES,IAAI,mBAAJ","file":"SearchMessagesStore.js","sourcesContent":["/*\n * Copyright (C) 2015 Actor LLC. <https://actor.im>\n */\n\nimport { ReduceStore } from 'flux/utils';\nimport Dispatcher from '../dispatcher/ActorAppDispatcher';\nimport { ActionTypes } from '../constants/ActorAppConstants';\n\nclass SearchMessagesStore extends ReduceStore {\n  getInitialState() {\n    return {\n      isOpen: false,\n      isFocused: false,\n      isExpanded: false,\n      isSearching: false,\n      query: '',\n      results: []\n    };\n  }\n\n  reduce(state, action) {\n    switch (action.type) {\n      case ActionTypes.SEARCH_SHOW:\n        return {\n          ...state,\n          isOpen: true,\n          isExpanded: false\n        };\n      case ActionTypes.SEARCH_HIDE:\n        return this.getInitialState();\n      case ActionTypes.SEARCH_TOGGLE_FOCUS:\n        return {\n          ...state,\n          isFocused: action.isEnable\n        };\n      case ActionTypes.SEARCH_TOGGLE_EXPAND:\n        return {\n          ...state,\n          isExpanded: !state.isExpanded\n        };\n      case ActionTypes.SEARCH_TEXT:\n        return {\n          ...state,\n          query: action.query,\n          isSearching: true\n        };\n      case ActionTypes.SEARCH_TEXT_SUCCESS:\n        return {\n          ...state,\n          results: action.query ? action.response : [],\n          isSearching: false\n        };\n      case ActionTypes.SEARCH_TEXT_ERROR:\n        console.log(action);\n        return state;\n      default:\n        return state;\n    }\n  }\n\n  isOpen() {\n    return this.getState().isOpen;\n  }\n\n  isSearching() {\n    return this.getState().isSearching;\n  }\n\n  isExpanded() {\n    return this.getState().isExpanded;\n  }\n\n  getQuery() {\n    return this.getState().query;\n  }\n\n  getAllResults() {\n    return this.getState().results;\n  }\n}\n\nexport default new SearchMessagesStore(Dispatcher);\n"]}