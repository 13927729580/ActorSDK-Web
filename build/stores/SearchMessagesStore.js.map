{"version":3,"sources":["../../src/stores/SearchMessagesStore.js"],"names":[],"mappings":";;;;;;AAIA;;AACA;;;;AACA;;;;;;;;;;;;IAEM,mB;;;;;;;;;gCACJ,e,8BAAkB;AAChB,WAAO;AACL,cAAQ,KADH;AAEL,iBAAW,KAFN;AAGL,kBAAY,KAHP;AAIL,mBAAa,KAJR;AAKL,aAAO,EALF;AAML,eAAS;AANJ,KAAP;AAQD,G;;gCAED,M,mBAAO,K,EAAO,M,EAAQ;AACpB,YAAQ,OAAO,IAAf;AACE,WAAK,+BAAY,WAAjB;AACE,4BACK,KADL;AAEE,kBAAQ,IAFV;AAGE,sBAAY;AAHd;AAKF,WAAK,+BAAY,WAAjB;AACE,eAAO,KAAK,eAAL,EAAP;AACF,WAAK,+BAAY,mBAAjB;AACE,4BACK,KADL;AAEE,qBAAW,OAAO;AAFpB;AAIF,WAAK,+BAAY,oBAAjB;AACE,4BACK,KADL;AAEE,sBAAY,CAAC,MAAM;AAFrB;AAIF,WAAK,+BAAY,WAAjB;AACE,4BACK,KADL;AAEE,iBAAO,OAAO,KAFhB;AAGE,uBAAa;AAHf;AAKF,WAAK,+BAAY,mBAAjB;AACE,4BACK,KADL;AAEE,mBAAS,OAAO,KAAP,GAAe,OAAO,QAAtB,GAAiC,EAF5C;AAGE,uBAAa;AAHf;AAKF,WAAK,+BAAY,iBAAjB;AACE,gBAAQ,GAAR,CAAY,MAAZ;AACA,eAAO,KAAP;AACF;AACE,eAAO,KAAP;AAnCJ;AAqCD,G;;gCAED,M,qBAAS;AACP,WAAO,KAAK,QAAL,GAAgB,MAAvB;AACD,G;;gCAED,W,0BAAc;AACZ,WAAO,KAAK,QAAL,GAAgB,WAAvB;AACD,G;;gCAED,U,yBAAa;AACX,WAAO,KAAK,QAAL,GAAgB,UAAvB;AACD,G;;gCAED,Q,uBAAW;AACT,WAAO,KAAK,QAAL,GAAgB,KAAvB;AACD,G;;gCAED,a,4BAAgB;AACd,WAAO,KAAK,QAAL,GAAgB,OAAvB;AACD,G;;;;;kBAGY,IAAI,mBAAJ,8B","file":"SearchMessagesStore.js","sourcesContent":["/*\n * Copyright (C) 2015 Actor LLC. <https://actor.im>\n */\n\nimport { ReduceStore } from 'flux/utils';\nimport Dispatcher from '../dispatcher/ActorAppDispatcher';\nimport { ActionTypes } from '../constants/ActorAppConstants';\n\nclass SearchMessagesStore extends ReduceStore {\n  getInitialState() {\n    return {\n      isOpen: false,\n      isFocused: false,\n      isExpanded: false,\n      isSearching: false,\n      query: '',\n      results: []\n    };\n  }\n\n  reduce(state, action) {\n    switch (action.type) {\n      case ActionTypes.SEARCH_SHOW:\n        return {\n          ...state,\n          isOpen: true,\n          isExpanded: false\n        };\n      case ActionTypes.SEARCH_HIDE:\n        return this.getInitialState();\n      case ActionTypes.SEARCH_TOGGLE_FOCUS:\n        return {\n          ...state,\n          isFocused: action.isEnable\n        };\n      case ActionTypes.SEARCH_TOGGLE_EXPAND:\n        return {\n          ...state,\n          isExpanded: !state.isExpanded\n        };\n      case ActionTypes.SEARCH_TEXT:\n        return {\n          ...state,\n          query: action.query,\n          isSearching: true\n        };\n      case ActionTypes.SEARCH_TEXT_SUCCESS:\n        return {\n          ...state,\n          results: action.query ? action.response : [],\n          isSearching: false\n        };\n      case ActionTypes.SEARCH_TEXT_ERROR:\n        console.log(action);\n        return state;\n      default:\n        return state;\n    }\n  }\n\n  isOpen() {\n    return this.getState().isOpen;\n  }\n\n  isSearching() {\n    return this.getState().isSearching;\n  }\n\n  isExpanded() {\n    return this.getState().isExpanded;\n  }\n\n  getQuery() {\n    return this.getState().query;\n  }\n\n  getAllResults() {\n    return this.getState().results;\n  }\n}\n\nexport default new SearchMessagesStore(Dispatcher);\n"]}