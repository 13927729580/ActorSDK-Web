{"version":3,"sources":["../../src/stores/GroupStore.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AASA,IAAI,iBAAiB,GAAG,IAAI,CAAC;;IAEvB,UAAU;YAAV,UAAU;;AACd,WADI,UAAU,CACF,UAAU,EAAE;0BADpB,UAAU;;4CAEZ,kBAAM,UAAU,CAAC;GAClB;;;;;;;;AAAA;AAHG,YAAU,WAWd,QAAQ,qBAAC,GAAG,EAAE;AACZ,WAAO,sBAAY,QAAQ,CAAC,GAAG,CAAC,CAAC;GAClC;;;;;;;;AAbG,YAAU,WAoBd,QAAQ,uBAAG;AACT,WAAO,iBAAiB,CAAC;GAC1B;;AAtBG,YAAU,WAwBd,YAAY,yBAAC,MAAM,EAAE;AACnB,YAAQ,MAAM,CAAC,IAAI;;AAEjB,WAAK,+BAAY,eAAe;AAC9B,YAAI,CAAC,YAAY,EAAE,CAAC;AACpB,cAAM;AAAA,AACR,WAAK,+BAAY,uBAAuB;AACtC,yBAAiB,GAAG,MAAM,CAAC,QAAQ,CAAC;AACpC,YAAI,CAAC,YAAY,EAAE,CAAC;AACpB,cAAM;AAAA,AACR,WAAK,+BAAY,qBAAqB;AACpC,yBAAiB,GAAG,IAAI,CAAC;AACzB,YAAI,CAAC,YAAY,EAAE,CAAC;AACpB,cAAM;;AAAA,AAER,WAAK,+BAAY,WAAW,CAAC;AAC7B,WAAK,+BAAY,mBAAmB,CAAC;AACrC,WAAK,+BAAY,iBAAiB,CAAC;;AAEnC,WAAK,+BAAY,WAAW,CAAC;AAC7B,WAAK,+BAAY,mBAAmB,CAAC;AACrC,WAAK,+BAAY,iBAAiB,CAAC;;AAEnC,WAAK,+BAAY,YAAY,CAAC;AAC9B,WAAK,+BAAY,oBAAoB,CAAC;AACtC,WAAK,+BAAY,kBAAkB;AACjC,YAAI,CAAC,YAAY,EAAE,CAAC;AACpB,cAAM;AAAA,KACT;GACF;;SArDG,UAAU;;;kBAwDD,IAAI,UAAU,8BAAY","file":"GroupStore.js","sourcesContent":["/*\n * Copyright (C) 2015 Actor LLC. <https://actor.im>\n */\n\nimport { Store } from 'flux/utils';\nimport Dispatcher from '../dispatcher/ActorAppDispatcher';\nimport { ActionTypes } from '../constants/ActorAppConstants';\nimport ActorClient from '../utils/ActorClient';\n\nlet _integrationToken = null;\n\nclass GroupStore extends Store {\n  constructor(dispatcher) {\n    super(dispatcher);\n  }\n\n  /**\n   * Get group information\n   *\n   * @param gid {number} Group id\n   * @returns {object} Group information\n   */\n  getGroup(gid) {\n    return ActorClient.getGroup(gid);\n  }\n\n  /**\n   * Get group integration token\n   *\n   * @returns {string|null}\n   */\n  getToken() {\n    return _integrationToken;\n  }\n\n  __onDispatch(action) {\n    switch (action.type) {\n\n      case ActionTypes.GROUP_GET_TOKEN:\n        this.__emitChange();\n        break;\n      case ActionTypes.GROUP_GET_TOKEN_SUCCESS:\n        _integrationToken = action.response;\n        this.__emitChange();\n        break;\n      case ActionTypes.GROUP_GET_TOKEN_ERROR:\n        _integrationToken = null;\n        this.__emitChange();\n        break;\n\n      case ActionTypes.GROUP_CLEAR:\n      case ActionTypes.GROUP_CLEAR_SUCCESS:\n      case ActionTypes.GROUP_CLEAR_ERROR:\n\n      case ActionTypes.GROUP_LEAVE:\n      case ActionTypes.GROUP_LEAVE_SUCCESS:\n      case ActionTypes.GROUP_LEAVE_ERROR:\n\n      case ActionTypes.GROUP_DELETE:\n      case ActionTypes.GROUP_DELETE_SUCCESS:\n      case ActionTypes.GROUP_DELETE_ERROR:\n        this.__emitChange();\n        break;\n    }\n  };\n}\n\nexport default new GroupStore(Dispatcher);\n"]}