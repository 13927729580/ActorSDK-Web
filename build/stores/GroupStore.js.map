{"version":3,"sources":["../../src/stores/GroupStore.js"],"names":[],"mappings":";;;;AAIA;;AACA;;;;AACA;;AACA;;;;;;;;;;;;;;AAEA,IAAI,oBAAoB,IAAxB;;IAEM,U;;;AACJ,sBAAY,UAAZ,EAAwB;AAAA;;AAAA,4CACtB,kBAAM,UAAN,CADsB;AAEvB;;;;;;;;;;uBAQD,Q,qBAAS,G,EAAK;AACZ,WAAO,sBAAY,QAAZ,CAAqB,GAArB,CAAP;AACD,G;;;;;;;;;uBAOD,Q,uBAAW;AACT,WAAO,iBAAP;AACD,G;;uBAED,Y,yBAAa,M,EAAQ;AACnB,YAAQ,OAAO,IAAf;;AAEE,WAAK,+BAAY,eAAjB;AACE,aAAK,YAAL;AACA;AACF,WAAK,+BAAY,uBAAjB;AACE,4BAAoB,OAAO,QAA3B;AACA,aAAK,YAAL;AACA;AACF,WAAK,+BAAY,qBAAjB;AACE,4BAAoB,IAApB;AACA,aAAK,YAAL;AACA;;AAEF,WAAK,+BAAY,WAAjB;AACA,WAAK,+BAAY,mBAAjB;AACA,WAAK,+BAAY,iBAAjB;;AAEA,WAAK,+BAAY,WAAjB;AACA,WAAK,+BAAY,mBAAjB;AACA,WAAK,+BAAY,iBAAjB;;AAEA,WAAK,+BAAY,YAAjB;AACA,WAAK,+BAAY,oBAAjB;AACA,WAAK,+BAAY,kBAAjB;AACE,aAAK,YAAL;AACA;AA1BJ;AA4BD,G;;;;;kBAGY,IAAI,UAAJ,8B","file":"GroupStore.js","sourcesContent":["/*\n * Copyright (C) 2015 Actor LLC. <https://actor.im>\n */\n\nimport { Store } from 'flux/utils';\nimport Dispatcher from '../dispatcher/ActorAppDispatcher';\nimport { ActionTypes } from '../constants/ActorAppConstants';\nimport ActorClient from '../utils/ActorClient';\n\nlet _integrationToken = null;\n\nclass GroupStore extends Store {\n  constructor(dispatcher) {\n    super(dispatcher);\n  }\n\n  /**\n   * Get group information\n   *\n   * @param gid {number} Group id\n   * @returns {object} Group information\n   */\n  getGroup(gid) {\n    return ActorClient.getGroup(gid);\n  }\n\n  /**\n   * Get group integration token\n   *\n   * @returns {string|null}\n   */\n  getToken() {\n    return _integrationToken;\n  }\n\n  __onDispatch(action) {\n    switch (action.type) {\n\n      case ActionTypes.GROUP_GET_TOKEN:\n        this.__emitChange();\n        break;\n      case ActionTypes.GROUP_GET_TOKEN_SUCCESS:\n        _integrationToken = action.response;\n        this.__emitChange();\n        break;\n      case ActionTypes.GROUP_GET_TOKEN_ERROR:\n        _integrationToken = null;\n        this.__emitChange();\n        break;\n\n      case ActionTypes.GROUP_CLEAR:\n      case ActionTypes.GROUP_CLEAR_SUCCESS:\n      case ActionTypes.GROUP_CLEAR_ERROR:\n\n      case ActionTypes.GROUP_LEAVE:\n      case ActionTypes.GROUP_LEAVE_SUCCESS:\n      case ActionTypes.GROUP_LEAVE_ERROR:\n\n      case ActionTypes.GROUP_DELETE:\n      case ActionTypes.GROUP_DELETE_SUCCESS:\n      case ActionTypes.GROUP_DELETE_ERROR:\n        this.__emitChange();\n        break;\n    }\n  }\n}\n\nexport default new GroupStore(Dispatcher);\n"]}