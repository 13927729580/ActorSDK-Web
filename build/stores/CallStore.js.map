{"version":3,"sources":["../../src/stores/CallStore.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAIA;;AACA;;;;AACA;;;;IAEM;;;;;;;;sBACJ,6CAAkB;AAChB,WAAO;AACL,cAAQ,KAAR;AACA,kBAAY,KAAZ;AACA,UAAI,IAAJ;AACA,YAAM,IAAN;AACA,aAAO,IAAP;AACA,eAAS,IAAT;AACA,eAAS,KAAT;AACA,kBAAY,KAAZ;KARF,CADgB;;;AADd,sBAcJ,yBAAO,OAAO,QAAQ;AACpB,YAAO,OAAO,IAAP;AACL,WAAK,+BAAY,eAAZ;AACH,0CACK;AACH,kBAAQ,IAAR;AACA,cAAI,OAAO,EAAP;UAHN,CADF;AADF,WAOO,+BAAY,eAAZ;AACH,eAAO,KAAK,eAAL,EAAP,CADF;AAPF,WASO,+BAAY,YAAZ;AACH,0CACK;AACH,gBAAM,OAAO,IAAP,CAAY,IAAZ;AACN,iBAAO,OAAO,IAAP,CAAY,KAAZ;AACP,mBAAS,OAAO,IAAP,CAAY,OAAZ;;AAET,sBAAY,OAAO,IAAP,CAAY,UAAZ;UANd,CADF;AATF,WAkBO,+BAAY,gBAAZ;AACH,0CACK;AACH,mBAAS,CAAC,MAAM,OAAN;UAFZ,CADF;AAlBF,WAuBO,+BAAY,iBAAZ;AACH,0CACK;AACH,sBAAY,CAAC,MAAM,UAAN;UAFf,CADF;AAvBF;AA6BI,eAAO,KAAP,CADF;AA5BF,KADoB;;;SAdlB;;;;;kBAiDS,IAAI,SAAJ","file":"CallStore.js","sourcesContent":["/*\n * Copyright (C) 2015-2016 Actor LLC. <https://actor.im>\n */\n\nimport { ReduceStore } from 'flux/utils';\nimport Dispatcher from '../dispatcher/ActorAppDispatcher';\nimport { ActionTypes } from '../constants/ActorAppConstants';\n\nclass CallStore extends ReduceStore {\n  getInitialState() {\n    return {\n      isOpen: false,\n      isFloating: false,\n      id: null,\n      peer: null,\n      state: null,\n      members: null,\n      isMuted: false,\n      isOutgoing: false\n    };\n  }\n\n  reduce(state, action) {\n    switch(action.type) {\n      case ActionTypes.CALL_MODAL_OPEN:\n        return {\n          ...state,\n          isOpen: true,\n          id: action.id\n        };\n      case ActionTypes.CALL_MODAL_HIDE:\n        return this.getInitialState();\n      case ActionTypes.CALL_CHANGED:\n        return {\n          ...state,\n          peer: action.call.peer,\n          state: action.call.state,\n          members: action.call.members,\n          // isMuted: action.call.isMuted,\n          isOutgoing: action.call.isOutgoing\n        };\n      case ActionTypes.CALL_MUTE_TOGGLE:\n        return {\n          ...state,\n          isMuted: !state.isMuted\n        };\n      case ActionTypes.CALL_FLOAT_TOGGLE:\n        return {\n          ...state,\n          isFloating: !state.isFloating\n        };\n      default:\n        return state;\n    }\n  }\n}\n\nexport default new CallStore(Dispatcher);\n"]}