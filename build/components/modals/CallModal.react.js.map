{"version":3,"sources":["../../../src/components/modals/CallModal.react.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAeM,SAAS;YAAT,SAAS;;AACb,WADI,SAAS,CACD,KAAK,EAAE;0BADf,SAAS;;uEAAT,SAAS,aAEL,KAAK;;UAgBb,WAAW,GAAG;aAAM,6BAAmB,IAAI,EAAE;KAAA;;UAE7C,SAAS,GAAG,UAAC,KAAK,EAAK;AACrB,UAAI,KAAK,CAAC,OAAO,KAAK,4BAAS,GAAG,EAAE;AAClC,aAAK,CAAC,cAAc,EAAE,CAAC;AACvB,cAAK,WAAW,EAAE,CAAC;OACpB;KACF;;UAED,YAAY,GAAG,YAAM;UACX,MAAM,GAAK,MAAK,KAAK,CAArB,MAAM;;AACd,aAAO,CAAC,KAAK,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC;AACtC,mCAAmB,UAAU,CAAC,MAAM,CAAC,CAAC;KACvC;;UAED,aAAa,GAAG,YAAM;UACZ,MAAM,GAAK,MAAK,KAAK,CAArB,MAAM;;AACd,aAAO,CAAC,KAAK,CAAC,eAAe,EAAE,MAAM,CAAC,CAAC;KACxC;;UAED,SAAS,GAAG,YAAM;UACR,MAAM,GAAK,MAAK,KAAK,CAArB,MAAM;;AACd,aAAO,CAAC,KAAK,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;AACnC,mCAAmB,OAAO,CAAC,MAAM,CAAC,CAAC;KACpC;;;GAvCA;;eAHG,SAAS;;6BA4CJ;mBACsB,IAAI,CAAC,KAAK;UAA/B,MAAM,UAAN,MAAM;UAAE,QAAQ,UAAR,QAAQ;;AAExB,UAAI,WAAW,YAAA,CAAC;AAChB,cAAQ,QAAQ;AACd,aAAK,6BAAU,QAAQ;AACrB,qBAAW,GACT;;cAAK,SAAS,EAAC,mBAAmB;YAChC;;gBAAQ,SAAS,EAAC,mCAAmC,EAAC,OAAO,EAAE,IAAI,CAAC,YAAY,AAAC;;aAAgB;YACjG;;gBAAQ,SAAS,EAAC,mCAAmC,EAAC,OAAO,EAAE,IAAI,CAAC,aAAa,AAAC;;aAAiB;WAC/F,AACP,CAAC;AACF,gBAAM;AAAA,AACR,aAAK,6BAAU,QAAQ;AACrB,qBAAW,GACT;;cAAK,SAAS,EAAC,mBAAmB;YAChC;;gBAAQ,SAAS,EAAC,mCAAmC,EAAC,OAAO,EAAE,IAAI,CAAC,SAAS,AAAC;;aAAa;WACvF,AACP,CAAC;AACF,gBAAM;AAAA,AACR,gBAAQ;OACT;;AAED,UAAI,MAAM,EAAE;AACV,eACE;;YAAO,SAAS,EAAC,2BAA2B;AACrC,0BAAc,EAAE,GAAG,AAAC;AACpB,kBAAM,EAAE,MAAM,AAAC;UAEpB;;cAAK,SAAS,EAAC,mBAAmB;YAChC;;gBAAI,SAAS,EAAC,0BAA0B;cAAK,QAAQ;aAAa;WAC9D;UAEN,uCAAK,SAAS,EAAC,iBAAiB,GAC1B;UAEL,WAAW;SACN,CACR;OACH,MAAM;AACL,eAAO,IAAI,CAAC;OACb;KACF;;;qCA/EuB;AACtB,aAAO;AACL,cAAM,EAAE,oBAAU,MAAM,EAAE;AAC1B,cAAM,EAAE,oBAAU,SAAS,EAAE;AAC7B,gBAAQ,EAAE,oBAAU,WAAW,EAAE;AACjC,mBAAW,EAAE,oBAAU,cAAc,EAAE;AACvC,gBAAQ,EAAE,oBAAU,WAAW,EAAE;AACjC,iBAAS,EAAE,oBAAU,YAAY,EAAE;OACpC,CAAC;KACH;;;SAhBG,SAAS;;;AAAT,SAAS,CAKN,SAAS,GAAG;SAAM,qBAAW;CAAA;;kBAoFvB,iBAAU,MAAM,CAAC,SAAS,EAAE,EAAC,IAAI,EAAE,KAAK,EAAC,CAAC","file":"CallModal.react.js","sourcesContent":["/*\n * Copyright (C) 2015-2016 Actor LLC. <https://actor.im>\n */\n\nimport React, { Component } from 'react';\nimport { Container } from 'flux/utils';\n// import { FormattedMessage } from 'react-intl';\nimport Modal from 'react-modal';\n\nimport { KeyCodes, CallTypes } from '../../constants/ActorAppConstants';\n\nimport CallActionCreators from '../../actions/CallActionCreators';\n\nimport CallStore from '../../stores/CallStore'\n\nclass CallModal extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  static getStores = () => [CallStore];\n\n  static calculateState() {\n    return {\n      isOpen: CallStore.isOpen(),\n      callId: CallStore.getCallId(),\n      callType: CallStore.getCallType(),\n      callMembers: CallStore.getCallMembers(),\n      callPeer: CallStore.getCallPeer(),\n      callState: CallStore.getCallState()\n    };\n  }\n\n  handleClose = () => CallActionCreators.hide();\n\n  onKeyDown = (event) => {\n    if (event.keyCode === KeyCodes.ESC) {\n      event.preventDefault();\n      this.handleClose();\n    }\n  };\n\n  handleAnswer = () => {\n    const { callId } = this.state;\n    console.debug('handleAnswer', callId);\n    CallActionCreators.answerCall(callId);\n  };\n\n  handleDecline = () => {\n    const { callId } = this.state;\n    console.debug('handleDecline', callId);\n  };\n\n  handleEnd = () => {\n    const { callId } = this.state;\n    console.debug('handleEnd', callId);\n    CallActionCreators.endCall(callId);\n  };\n\n  render() {\n    const { isOpen, callType } = this.state;\n\n    let modalFooter;\n    switch (callType) {\n      case CallTypes.INCOMING:\n        modalFooter = (\n          <div className=\"modal-new__footer\">\n            <button className=\"button button--rised button--wide\" onClick={this.handleAnswer}>Answer</button>\n            <button className=\"button button--rised button--wide\" onClick={this.handleDecline}>Decline</button>\n          </div>\n        );\n        break;\n      case CallTypes.OUTGOING:\n        modalFooter = (\n          <div className=\"modal-new__footer\">\n            <button className=\"button button--rised button--wide\" onClick={this.handleEnd}>End</button>\n          </div>\n        );\n        break;\n      default:\n    }\n\n    if (isOpen) {\n      return (\n        <Modal className=\"modal-new modal-new--call\"\n               closeTimeoutMS={150}\n               isOpen={isOpen}>\n\n          <div className=\"modal-new__header\">\n            <h3 className=\"modal-new__header__title\">{`${callType} call`}</h3>\n          </div>\n\n          <div className=\"modal-new__body\">\n          </div>\n\n          {modalFooter}\n        </Modal>\n      );\n    } else {\n      return null;\n    }\n  }\n}\n\nexport default Container.create(CallModal, {pure: false});\n"]}