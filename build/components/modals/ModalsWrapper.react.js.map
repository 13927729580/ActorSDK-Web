{"version":3,"sources":["../../../src/components/modals/ModalsWrapper.react.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmBA,IAAM,SAAS,GAAG,SAAZ,SAAS,GAAS;AACtB,SAAO;AACL,iBAAa,EAAE,sBAAa,MAAM,EAAE;AACpC,gBAAY,EAAE,yBAAe,MAAM,EAAE;GACtC,CAAA;CACF,CAAC;;IAEI,aAAa;YAAb,aAAa;;AACjB,WADI,aAAa,CACL,KAAK,EAAE;0BADf,aAAa;;uEAAb,aAAa,aAET,KAAK;;UAgBb,YAAY,GAAG;aAAM,MAAK,QAAQ,CAAC,SAAS,EAAE,CAAC;KAAA;;UAE/C,aAAa,GAAG,UAAC,KAAK,EAAK;AACzB,cAAQ,KAAK,CAAC,OAAO;AACnB,aAAK,mBA1CF,QAAQ,CA0CG,GAAG;AACf,eAAK,CAAC,cAAc,EAAE,CAAC;AACvB,gBAAK,WAAW,EAAE,CAAC;AACnB,gBAAM;AAAA,AACR,aAAK,mBA9CF,QAAQ,CA8CG,CAAC;AACb,cAAI,KAAK,CAAC,OAAO,EAAE;AACjB,iBAAK,CAAC,cAAc,EAAE,CAAC;AACvB,kBAAK,WAAW,EAAE,CAAC;AACnB,8CAAwB,IAAI,EAAE,CAAC;WAChC;AACD,gBAAM;AAAA,AACR,aAAK,mBArDF,QAAQ,CAqDG,CAAC;AACb,cAAI,KAAK,CAAC,OAAO,EAAE;AACjB,iBAAK,CAAC,cAAc,EAAE,CAAC;AACvB,kBAAK,WAAW,EAAE,CAAC;AACnB,4CAAsB,IAAI,EAAE,CAAC;WAC9B;AACD,gBAAM;AAAA,AACR,gBAAQ;OACT;KACF;;UAED,WAAW,GAAG,YAAM;wBACsB,MAAK,KAAK;UAA1C,aAAa,eAAb,aAAa;UAAE,YAAY,eAAZ,YAAY;;AAEnC,UAAI,aAAa,EAAE;AACjB,wCAAsB,KAAK,EAAE,CAAC;OAC/B;AACD,UAAI,YAAY,EAAE;AAChB,0CAAwB,KAAK,EAAE,CAAC;OACjC;KACF;;AAjDC,UAAK,KAAK,GAAG,SAAS,EAAE,CAAC;;GAC1B;;eALG,aAAa;;yCAOI;AACnB,cAAQ,CAAC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;;AAEhE,4BAAa,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;AAC5C,+BAAe,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;KAC/C;;;2CAEsB;AACrB,cAAQ,CAAC,mBAAmB,CAAC,SAAS,EAAE,IAAI,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;KACpE;;;6BAuCQ;mBACiC,IAAI,CAAC,KAAK;UAA1C,aAAa,UAAb,aAAa;UAAE,YAAY,UAAZ,YAAY;;AAEnC,UAAM,gBAAgB,GAAG,0BAAW,eAAe,EAAE;AACnD,+BAAuB,EAAE,aAAa,IAAI,YAAY;OACvD,CAAC,CAAC;;AAEH,aACE;;UAAK,SAAS,EAAE,gBAAgB,AAAC;QAC/B;;YAAK,SAAS,EAAC,sBAAsB,EAAC,OAAO,EAAE,IAAI,CAAC,WAAW,AAAC;UAC9D;;cAAG,SAAS,EAAC,2BAA2B;;WAAU;UAClD;;cAAK,SAAS,EAAC,MAAM;YAAE,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC;WAAO;SAC7D;QAEL,aAAa,GAAG,yDAAa,GAAG,IAAI;QACpC,YAAY,GAAG,wDAAY,GAAG,IAAI;OAC/B,CACN;KACH;;;SAzEG,aAAa;UAtBH,SAAS;;AAkGzB,qBAAW,OAAO,CAAC,aAAa,aA9FvB,SAAS,CA8F0B,CAAC;;kBAE9B,aAAa","file":"ModalsWrapper.react.js","sourcesContent":["/*\n * Copyright (C) 2015 Actor LLC. <https://actor.im>\n */\n\nimport React, { Component } from 'react';\nimport classnames from 'classnames';\nimport { KeyCodes } from '../../constants/ActorAppConstants';\nimport ReactMixin from 'react-mixin';\nimport { IntlMixin } from 'react-intl';\n\nimport ContactActionCreators from '../../actions/ContactActionCreators';\nimport GroupListActionCreators from '../../actions/GroupListActionCreators';\n\nimport ContactStore from '../../stores/PeopleStore';\nimport GroupListStore from '../../stores/GroupListStore';\n\nimport PeopleList from './PeopleList'\nimport GroupList from './GroupList'\n\nconst getStates = () => {\n  return {\n    isPeoplesOpen: ContactStore.isOpen(),\n    isGroupsOpen: GroupListStore.isOpen()\n  }\n};\n\nclass ModalsWrapper extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = getStates();\n  }\n\n  componentWillMount() {\n    document.addEventListener('keydown', this.handleKeyDown, false);\n\n    ContactStore.addListener(this.handleChange);\n    GroupListStore.addListener(this.handleChange);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('keydown', this.handleKeyDown, false);\n  }\n\n  handleChange = () => this.setState(getStates());\n\n  handleKeyDown = (event) => {\n    switch (event.keyCode) {\n      case KeyCodes.ESC:\n        event.preventDefault();\n        this.handleClose();\n        break;\n      case KeyCodes.G:\n        if (event.ctrlKey) {\n          event.preventDefault();\n          this.handleClose();\n          GroupListActionCreators.open();\n        }\n        break;\n      case KeyCodes.P:\n        if (event.ctrlKey) {\n          event.preventDefault();\n          this.handleClose();\n          ContactActionCreators.open();\n        }\n        break;\n      default:\n    }\n  };\n\n  handleClose = () => {\n    const { isPeoplesOpen, isGroupsOpen } = this.state;\n\n    if (isPeoplesOpen) {\n      ContactActionCreators.close();\n    }\n    if (isGroupsOpen) {\n      GroupListActionCreators.close();\n    }\n  };\n\n  render() {\n    const { isPeoplesOpen, isGroupsOpen } = this.state;\n\n    const wrapperClassName = classnames('modal-wrapper', {\n      'modal-wrapper--opened': isPeoplesOpen || isGroupsOpen\n    });\n\n    return (\n      <div className={wrapperClassName}>\n        <div className=\"modal-wrapper__close\" onClick={this.handleClose}>\n          <i className=\"close_icon material-icons\">close</i>\n          <div className=\"text\">{this.getIntlMessage('button.close')}</div>\n        </div>\n\n        {isPeoplesOpen ? <PeopleList/> : null}\n        {isGroupsOpen ? <GroupList/> : null}\n      </div>\n    );\n  }\n}\n\nReactMixin.onClass(ModalsWrapper, IntlMixin);\n\nexport default ModalsWrapper;\n"]}