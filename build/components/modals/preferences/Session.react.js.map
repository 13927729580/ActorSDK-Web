{"version":3,"sources":["../../../../src/components/modals/preferences/Session.react.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAeM,WAAW;YAAX,WAAW;;AACf,WADI,WAAW,CACH,KAAK,EAAE;0BADf,WAAW;;uEAAX,WAAW,aAEP,KAAK;;;;;GACZ;;eAHG,WAAW;;6BAqBN;mBACgC,IAAI,CAAC,KAAK;UAAzC,QAAQ,UAAR,QAAQ;UAAE,MAAM,UAAN,MAAM;UAAE,QAAQ,UAAR,QAAQ;UAC1B,qBAAqB,GAAK,IAAI,CAAC,KAAK,CAApC,qBAAqB;;AAE7B,UAAM,aAAa,GAAG,AAAC,MAAM,KAAK,aAAa,GAC7C;;;QAAQ,IAAI,CAAC,cAAc,CAAC,mCAAmC,CAAC;OAAS,GACvE,IAAI,CAAC;;AAET,aACE;;UAAI,SAAS,EAAC,uBAAuB;QACnC;;YAAK,SAAS,EAAC,OAAO;UACnB,QAAQ;UACR,aAAa;SACV;QAEN;;;UACE;;;YAAI,IAAI,CAAC,cAAc,CAAC,6BAA6B,CAAC;;WAAM;;UAAE,QAAQ,CAAC,QAAQ,EAAE;SAC3E;QAER;6BAAU,IAAI;YAAC,YAAY,EAAE,qBAAqB,AAAC;UACjD;+BAAU,OAAO;;YACf;;gBAAG,SAAS,EAAC,6CAA6C,EAAC,OAAO,EAAE,IAAI,CAAC,WAAW,AAAC;cAClF,IAAI,CAAC,cAAc,CAAC,8BAA8B,CAAC;aAClD;WACa;UACnB;+BAAU,UAAU;;YAClB;;gBAAG,SAAS,EAAC,sDAAsD;;aAAc;WAC7D;UACtB;+BAAU,OAAO;;YACf;;gBAAG,SAAS,EAAC,iDAAiD;;aAAU;WACvD;UACnB;+BAAU,OAAO;;YACf;;gBAAG,SAAS,EAAC,iDAAiD;;aAAY;WACzD;SACL;OACb,CACN;KACF;;;SA1DG,WAAW;;;AAAX,WAAW,CAKR,SAAS,GAAG;SAAM,4BAAkB;CAAA;;AALvC,WAAW,CAMR,cAAc,GAAG,UAAC,SAAS,EAAE,KAAK,EAAK;AAC5C,SAAO;AACL,yBAAqB,EAAE,2BAAiB,wBAAwB,CAAC,KAAK,CAAC,EAAE,CAAC;GAC3E,CAAA;CACF;;AAVG,WAAW,CAYR,SAAS,GAAG;AACjB,UAAQ,EAAE,gBAAM,SAAS,CAAC,MAAM,CAAC,UAAU;AAC3C,QAAM,EAAE,gBAAM,SAAS,CAAC,MAAM,CAAC,UAAU;AACzC,IAAE,EAAE,gBAAM,SAAS,CAAC,MAAM,CAAC,UAAU;AACrC,UAAQ,EAAE,gBAAM,SAAS,CAAC,MAAM,CAAC,UAAU;CAC5C;;;;;OAED,WAAW,GAAG;WAAM,oCAA0B,gBAAgB,CAAC,OAAK,KAAK,CAAC,EAAE,CAAC;GAAA;;;AA0C/E,qBAAW,OAAO,CAAC,WAAW,uBAAY,CAAC;;kBAE5B,iBAAU,MAAM,CAAC,WAAW,EAAE,EAAC,IAAI,EAAE,KAAK,EAAE,SAAS,EAAE,IAAI,EAAC,CAAC","file":"Session.react.js","sourcesContent":["/*\n * Copyright (C) 2015 Actor LLC. <https://actor.im>\n */\n\nimport React, { Component } from 'react';\nimport { Container } from 'flux/utils';\nimport ReactMixin from 'react-mixin';\nimport { IntlMixin } from 'react-intl';\n\nimport PreferencesActionCreators from '../../../actions/PreferencesActionCreators';\n\nimport PreferencesStore from '../../../stores/PreferencesStore';\n\nimport Stateful from '../../common/Stateful';\n\nclass SessionItem extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  static getStores = () => [PreferencesStore];\n  static calculateState = (prevState, props) => {\n    return {\n      terminateSessionState: PreferencesStore.getTerminateSessionState(props.id)\n    }\n  };\n\n  static propTypes = {\n    appTitle: React.PropTypes.string.isRequired,\n    holder: React.PropTypes.string.isRequired,\n    id: React.PropTypes.number.isRequired,\n    authTime: React.PropTypes.object.isRequired\n  };\n\n  onTerminate = () => PreferencesActionCreators.terminateSession(this.props.id);\n\n  render() {\n    const { appTitle, holder, authTime } = this.props;\n    const { terminateSessionState } = this.state;\n\n    const currentDevice = (holder === 'THIS_DEVICE') ? (\n      <small>{this.getIntlMessage('preferencesSessionsCurrentSession')}</small>\n    ) : null;\n\n    return (\n      <li className=\"session-list__session\">\n        <div className=\"title\">\n          {appTitle}\n          {currentDevice}\n        </div>\n\n        <small>\n          <b>{this.getIntlMessage('preferencesSessionsAuthTime')}:</b> {authTime.toString()}\n        </small>\n\n        <Stateful.Root currentState={terminateSessionState}>\n          <Stateful.Pending>\n            <a className=\"session-list__session__terminate link--blue\" onClick={this.onTerminate}>\n              {this.getIntlMessage('preferencesSessionsTerminate')}\n            </a>\n          </Stateful.Pending>\n          <Stateful.Processing>\n            <i className=\"session-list__session__terminate material-icons spin\">autorenew</i>\n          </Stateful.Processing>\n          <Stateful.Success>\n            <i className=\"session-list__session__terminate material-icons\">check</i>\n          </Stateful.Success>\n          <Stateful.Failure>\n            <i className=\"session-list__session__terminate material-icons\">warning</i>\n          </Stateful.Failure>\n        </Stateful.Root>\n      </li>\n    )\n  }\n}\n\nReactMixin.onClass(SessionItem, IntlMixin);\n\nexport default Container.create(SessionItem, {pure: false, withProps: true});\n"]}