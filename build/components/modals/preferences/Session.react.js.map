{"version":3,"sources":["../../../../src/components/modals/preferences/Session.react.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAaM,WAAW;YAAX,WAAW;;AACf,WADI,WAAW,CACH,KAAK,EAAE;0BADf,WAAW;;uEAAX,WAAW,aAEP,KAAK;;;;;GACZ;;eAHG,WAAW;;6BAyBN;mBACgC,IAAI,CAAC,KAAK;UAAzC,QAAQ,UAAR,QAAQ;UAAE,MAAM,UAAN,MAAM;UAAE,QAAQ,UAAR,QAAQ;UAC1B,qBAAqB,GAAK,IAAI,CAAC,KAAK,CAApC,qBAAqB;UACrB,IAAI,GAAK,IAAI,CAAC,OAAO,CAArB,IAAI;;AAEZ,UAAM,aAAa,GAAG,AAAC,MAAM,KAAK,aAAa,GAC7C;;;QAAQ,IAAI,CAAC,QAAQ,CAAC,mCAAmC,CAAC;OAAS,GACjE,IAAI,CAAC;;AAET,aACE;;UAAI,SAAS,EAAC,uBAAuB;QACnC;;YAAK,SAAS,EAAC,OAAO;UACnB,QAAQ;UACR,aAAa;SACV;QAEN;;;UACE;;;YAAI,IAAI,CAAC,QAAQ,CAAC,6BAA6B,CAAC;;WAAM;;UAAE,QAAQ,CAAC,QAAQ,EAAE;SACrE;QAER;6BAAU,IAAI;YAAC,YAAY,EAAE,qBAAqB,AAAC;UACjD;+BAAU,OAAO;;YACf;;gBAAG,SAAS,EAAC,6CAA6C,EAAC,OAAO,EAAE,IAAI,CAAC,WAAW,AAAC;cAClF,IAAI,CAAC,QAAQ,CAAC,8BAA8B,CAAC;aAC5C;WACa;UACnB;+BAAU,UAAU;;YAClB;;gBAAG,SAAS,EAAC,sDAAsD;;aAAc;WAC7D;UACtB;+BAAU,OAAO;;YACf;;gBAAG,SAAS,EAAC,iDAAiD;;aAAU;WACvD;UACnB;+BAAU,OAAO;;YACf;;gBAAG,SAAS,EAAC,iDAAiD;;aAAY;WACzD;SACL;OACb,CACN;KACF;;;SA/DG,WAAW;;;AAAX,WAAW,CAKR,SAAS,GAAG;SAAM,4BAAkB;CAAA;;AALvC,WAAW,CAMR,cAAc,GAAG,UAAC,SAAS,EAAE,KAAK,EAAK;AAC5C,SAAO;AACL,yBAAqB,EAAE,2BAAiB,wBAAwB,CAAC,KAAK,CAAC,EAAE,CAAC;GAC3E,CAAA;CACF;;AAVG,WAAW,CAYR,SAAS,GAAG;AACjB,UAAQ,EAAE,iBAAU,MAAM,CAAC,UAAU;AACrC,QAAM,EAAE,iBAAU,MAAM,CAAC,UAAU;AACnC,IAAE,EAAE,iBAAU,MAAM,CAAC,UAAU;AAC/B,UAAQ,EAAE,iBAAU,MAAM,CAAC,UAAU;CACtC;AAjBG,WAAW,CAmBR,YAAY,GAAG;AACpB,MAAI,EAAE,iBAAU,MAAM;CACvB;;;;;OAED,WAAW,GAAG;WAAM,oCAA0B,gBAAgB,CAAC,OAAK,KAAK,CAAC,EAAE,CAAC;GAAA;;;kBA2ChE,iBAAU,MAAM,CAAC,WAAW,EAAE,EAAC,IAAI,EAAE,KAAK,EAAE,SAAS,EAAE,IAAI,EAAC,CAAC","file":"Session.react.js","sourcesContent":["/*\n * Copyright (C) 2015-2016 Actor LLC. <https://actor.im>\n */\n\nimport React, { Component, PropTypes } from 'react';\nimport { Container } from 'flux/utils';\n\nimport PreferencesActionCreators from '../../../actions/PreferencesActionCreators';\n\nimport PreferencesStore from '../../../stores/PreferencesStore';\n\nimport Stateful from '../../common/Stateful';\n\nclass SessionItem extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  static getStores = () => [PreferencesStore];\n  static calculateState = (prevState, props) => {\n    return {\n      terminateSessionState: PreferencesStore.getTerminateSessionState(props.id)\n    }\n  };\n\n  static propTypes = {\n    appTitle: PropTypes.string.isRequired,\n    holder: PropTypes.string.isRequired,\n    id: PropTypes.number.isRequired,\n    authTime: PropTypes.object.isRequired\n  };\n\n  static contextTypes = {\n    intl: PropTypes.object\n  };\n\n  onTerminate = () => PreferencesActionCreators.terminateSession(this.props.id);\n\n  render() {\n    const { appTitle, holder, authTime } = this.props;\n    const { terminateSessionState } = this.state;\n    const { intl } = this.context;\n\n    const currentDevice = (holder === 'THIS_DEVICE') ? (\n      <small>{intl.messages['preferencesSessionsCurrentSession']}</small>\n    ) : null;\n\n    return (\n      <li className=\"session-list__session\">\n        <div className=\"title\">\n          {appTitle}\n          {currentDevice}\n        </div>\n\n        <small>\n          <b>{intl.messages['preferencesSessionsAuthTime']}:</b> {authTime.toString()}\n        </small>\n\n        <Stateful.Root currentState={terminateSessionState}>\n          <Stateful.Pending>\n            <a className=\"session-list__session__terminate link--blue\" onClick={this.onTerminate}>\n              {intl.messages['preferencesSessionsTerminate']}\n            </a>\n          </Stateful.Pending>\n          <Stateful.Processing>\n            <i className=\"session-list__session__terminate material-icons spin\">autorenew</i>\n          </Stateful.Processing>\n          <Stateful.Success>\n            <i className=\"session-list__session__terminate material-icons\">check</i>\n          </Stateful.Success>\n          <Stateful.Failure>\n            <i className=\"session-list__session__terminate material-icons\">warning</i>\n          </Stateful.Failure>\n        </Stateful.Root>\n      </li>\n    )\n  }\n}\n\nexport default Container.create(SessionItem, {pure: false, withProps: true});\n"]}