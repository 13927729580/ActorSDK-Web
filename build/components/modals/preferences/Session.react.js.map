{"version":3,"sources":["../../../../src/components/modals/preferences/Session.react.js"],"names":[],"mappings":";;;;AAIA;;;;AACA;;AACA;;AAEA;;;;AAEA;;;;;;;;;;;;;;IAEM,W;;;AAcJ,uBAAY,KAAZ,EAAmB;AAAA;;AAAA,iDACjB,sBAAM,KAAN,CADiB;;AAGjB,UAAK,sBAAL,GAA8B,MAAK,sBAAL,CAA4B,IAA5B,OAA9B;AAHiB;AAIlB;;wBAED,sB,qCAAyB;AACvB,wCAA0B,gBAA1B,CAA2C,KAAK,KAAL,CAAW,EAAtD;AACD,G;;wBAED,W,0BAAc;AAAA,QACJ,QADI,GACS,KAAK,KADd,CACJ,QADI;;;AAGZ,WACE;AAAA;AAAA,QAAK,WAAU,OAAf;AACG,cADH;AAEG,WAAK,uBAAL;AAFH,KADF;AAMD,G;;wBAED,uB,sCAA0B;AAAA,QAChB,MADgB,GACL,KAAK,KADA,CAChB,MADgB;;AAExB,QAAI,WAAW,aAAf,EAA8B,OAAO,IAAP;;AAE9B,WACE,6DAAkB,IAAG,uCAArB,EAA6D,SAAQ,OAArE,GADF;AAGD,G;;wBAED,c,6BAAiB;AAAA,QACP,QADO,GACM,KAAK,KADX,CACP,QADO;;;AAGf,WACE;AAAA;AAAA;AACE;AAAA;AAAA;AAAG,qEAAkB,IAAG,wCAArB,GAAH;AAAA;AAAA,OADF;AAAA;AAC2E,eAAS,QAAT;AAD3E,KADF;AAKD,G;;wBAED,W,0BAAc;AAAA,QACJ,cADI,GACe,KAAK,KADpB,CACJ,cADI;;;AAGZ,WACE;AACE,oBAAc,cADhB;AAEE,eACE;AAAA;AAAA,UAAG,WAAU,6CAAb,EAA2D,SAAS,KAAK,sBAAzE;AACE,qEAAkB,IAAG,yCAArB;AADF,OAHJ;AAOE,kBACE;AAAA;AAAA,UAAG,WAAU,sDAAb;AAAA;AAAA,OARJ;AAUE,eACE;AAAA;AAAA,UAAG,WAAU,iDAAb;AAAA;AAAA,OAXJ;AAaE,eACE;AAAA;AAAA,UAAG,WAAU,iDAAb;AAAA;AAAA;AAdJ,MADF;AAmBD,G;;wBAED,M,qBAAS;AACP,WACE;AAAA;AAAA,QAAI,WAAU,uBAAd;AACG,WAAK,WAAL,EADH;AAEG,WAAK,cAAL,EAFH;AAGG,WAAK,WAAL;AAHH,KADF;AAOD,G;;;;;AAtFG,W,CACG,S,GAAY;AACjB,YAAU,iBAAU,MAAV,CAAiB,UADV;AAEjB,UAAQ,iBAAU,MAAV,CAAiB,UAFR;AAGjB,MAAI,iBAAU,MAAV,CAAiB,UAHJ;AAIjB,YAAU,iBAAU,MAAV,CAAiB,UAJV;AAKjB,kBAAgB,iBAAU,KAAV,CAAgB,CAC9B,qCAAkB,OADY,EAE9B,qCAAkB,UAFY,EAG9B,qCAAkB,OAHY,EAI9B,qCAAkB,OAJY,CAAhB,EAKb;AAVc,C;kBAwFN,W","file":"Session.react.js","sourcesContent":["/*\n * Copyright (C) 2015-2016 Actor LLC. <https://actor.im>\n */\n\nimport React, { Component, PropTypes } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { AsyncActionStates } from '../../../constants/ActorAppConstants';\n\nimport PreferencesActionCreators from '../../../actions/PreferencesActionCreators';\n\nimport Stateful from '../../common/Stateful.react';\n\nclass SessionItem extends Component {\n  static propTypes = {\n    appTitle: PropTypes.string.isRequired,\n    holder: PropTypes.string.isRequired,\n    id: PropTypes.number.isRequired,\n    authTime: PropTypes.object.isRequired,\n    terminateState: PropTypes.oneOf([\n      AsyncActionStates.PENDING,\n      AsyncActionStates.PROCESSING,\n      AsyncActionStates.SUCCESS,\n      AsyncActionStates.FAILURE\n    ]).isRequired\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.handleTerminateSession = this.handleTerminateSession.bind(this);\n  }\n\n  handleTerminateSession() {\n    PreferencesActionCreators.terminateSession(this.props.id);\n  }\n\n  renderTitle() {\n    const { appTitle } = this.props;\n\n    return (\n      <div className=\"title\">\n        {appTitle}\n        {this.renderCurrentDeviceMark()}\n      </div>\n    );\n  }\n\n  renderCurrentDeviceMark() {\n    const { holder } = this.props;\n    if (holder !== 'THIS_DEVICE') return null;\n\n    return (\n      <FormattedMessage id=\"preferences.security.sessions.current\" tagName=\"small\"/>\n    );\n  }\n\n  renderAuthTime() {\n    const { authTime } = this.props;\n\n    return (\n      <small>\n        <b><FormattedMessage id=\"preferences.security.sessions.authTime\"/>:</b> {authTime.toString()}\n      </small>\n    );\n  }\n\n  renderState() {\n    const { terminateState } = this.props;\n\n    return (\n      <Stateful\n        currentState={terminateState}\n        pending={\n          <a className=\"session-list__session__terminate link--blue\" onClick={this.handleTerminateSession}>\n            <FormattedMessage id=\"preferences.security.sessions.terminate\"/>\n          </a>\n        }\n        processing={\n          <i className=\"session-list__session__terminate material-icons spin\">autorenew</i>\n        }\n        success={\n          <i className=\"session-list__session__terminate material-icons\">check</i>\n        }\n        failure={\n          <i className=\"session-list__session__terminate material-icons\">warning</i>\n        }\n      />\n    );\n  }\n\n  render() {\n    return (\n      <li className=\"session-list__session\">\n        {this.renderTitle()}\n        {this.renderAuthTime()}\n        {this.renderState()}\n      </li>\n    )\n  }\n}\n\nexport default SessionItem;\n"]}