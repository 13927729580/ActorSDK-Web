{"version":3,"sources":["../../../src/components/common/Image.react.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAIA;;;;AAEA;;;;;;;;;;IAEM;;;AAUJ,WAVI,KAUJ,CAAY,KAAZ,EAAmB;wCAVf,OAUe;;+DACjB,sBAAM,KAAN,GADiB;;AAGjB,UAAK,KAAL,GAAa;AACX,iBAAW,IAAX;KADF,CAHiB;;AAOjB,gCAAa,MAAM,GAAN,CAAb,CAAwB,IAAxB,CAA6B,UAAC,GAAD,EAAS;AACpC,YAAK,QAAL,CAAc;AACZ,gBADY;AAEZ,mBAAW,KAAX;OAFF,EADoC;KAAT,CAA7B,CAPiB;;GAAnB;;AAVI,kBAyBJ,2BAAS;iBACoB,KAAK,KAAL,CADpB;QACC,6BADD;QACY,iBADZ;;AAEP,QAAI,SAAJ,EAAe,OAAO,IAAP,CAAf;;AAEA,WACE,gEAAS,KAAK,KAAL,IAAY,KAAK,GAAL,GAArB,CADF,CAJO;;;SAzBL;;;MACG,YAAY;AACjB,OAAK,iBAAU,MAAV,CAAiB,UAAjB;AACL,SAAO,iBAAU,MAAV;AACP,UAAQ,iBAAU,MAAV;AACR,UAAQ,iBAAU,IAAV;AACR,WAAS,iBAAU,IAAV;AACT,WAAS,iBAAU,IAAV;;kBA4BE","file":"Image.react.js","sourcesContent":["/*\n * Copyright (C) 2016 Actor LLC. <https://actor.im>\n */\n\nimport React, { Component, PropTypes} from 'react';\n\nimport convertImage from '../../utils/convertImage';\n\nclass Image extends Component {\n  static propTypes = {\n    src: PropTypes.string.isRequired,\n    width: PropTypes.number,\n    height: PropTypes.number,\n    onLoad: PropTypes.func,\n    onError: PropTypes.func,\n    onClick: PropTypes.func\n  }\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isLoading: true\n    };\n\n    convertImage(props.src).then((src) => {\n      this.setState({\n        src,\n        isLoading: false\n      });\n    });\n  }\n\n  render() {\n    const { isLoading, src } = this.state;\n    if (isLoading) return null;\n\n    return (\n      <img {...this.props} src={src} />\n    );\n  }\n}\n\nexport default Image;\n"]}