{"version":3,"sources":["../../../src/components/common/Image.react.js"],"names":[],"mappings":";;;;;;AAIA;;;;AAEA;;;;;;;;;;;;;;IAEM,K;;;AAUJ,iBAAY,KAAZ,EAAmB;AAAA;;AAAA,iDACjB,sBAAM,KAAN,CADiB;;AAGjB,UAAK,KAAL,GAAa;AACX,iBAAW;AADA,KAAb;;AAIA,gCAAa,MAAM,GAAnB,EAAwB,IAAxB,CAA6B,UAAC,GAAD,EAAS;AACpC,YAAK,QAAL,CAAc;AACZ,gBADY;AAEZ,mBAAW;AAFC,OAAd;AAID,KALD;AAPiB;AAalB;;kBAED,M,qBAAS;AAAA,iBACoB,KAAK,KADzB;AAAA,QACC,SADD,UACC,SADD;AAAA,QACY,GADZ,UACY,GADZ;;AAEP,QAAI,SAAJ,EAAe,OAAO,IAAP;;AAEf,WACE,kDAAS,KAAK,KAAd,IAAqB,KAAK,GAA1B,IADF;AAGD,G;;;;;AAhCG,K,CACG,S,GAAY;AACjB,OAAK,iBAAU,MAAV,CAAiB,UADL;AAEjB,SAAO,iBAAU,MAFA;AAGjB,UAAQ,iBAAU,MAHD;AAIjB,UAAQ,iBAAU,IAJD;AAKjB,WAAS,iBAAU,IALF;AAMjB,WAAS,iBAAU;AANF,C;kBAkCN,K","file":"Image.react.js","sourcesContent":["/*\n * Copyright (C) 2016 Actor LLC. <https://actor.im>\n */\n\nimport React, { Component, PropTypes } from 'react';\n\nimport convertImage from '../../utils/convertImage';\n\nclass Image extends Component {\n  static propTypes = {\n    src: PropTypes.string.isRequired,\n    width: PropTypes.number,\n    height: PropTypes.number,\n    onLoad: PropTypes.func,\n    onError: PropTypes.func,\n    onClick: PropTypes.func\n  }\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isLoading: true\n    };\n\n    convertImage(props.src).then((src) => {\n      this.setState({\n        src,\n        isLoading: false\n      });\n    });\n  }\n\n  render() {\n    const { isLoading, src } = this.state;\n    if (isLoading) return null;\n\n    return (\n      <img {...this.props} src={src} />\n    );\n  }\n}\n\nexport default Image;\n"]}