{"version":3,"sources":["../../../src/components/common/Scroller.react.js"],"names":[],"mappings":";;;;AAIA;;;;AACA;;;;AACA;;;;;;;;;;;;;;IAEM,Q;;;AAeJ,oBAAY,KAAZ,EAAmB;AAAA;;AAAA,iDACjB,sBAAM,KAAN,CADiB;;AAGjB,UAAK,QAAL,GAAgB,MAAK,QAAL,CAAc,IAAd,OAAhB;AACA,UAAK,WAAL,GAAmB,MAAK,WAAL,CAAiB,IAAjB,OAAnB;AAJiB;AAKlB;;qBAED,qB,kCAAsB,S,EAAW;AAC/B,WAAO,UAAU,QAAV,KAAuB,KAAK,KAAL,CAAW,QAAzC;AACD,G;;qBAED,iB,gCAAoB;AAClB,SAAK,KAAL,CAAW,QAAX;AACA,WAAO,gBAAP,CAAwB,QAAxB,EAAkC,KAAK,QAAvC,EAAiD,KAAjD;AACD,G;;qBAED,oB,mCAAuB;AACrB,WAAO,mBAAP,CAA2B,QAA3B,EAAqC,KAAK,QAA1C,EAAoD,KAApD;AACD,G;;qBAED,kB,iCAAqB;AACnB,SAAK,KAAL,CAAW,QAAX;AACD,G;;qBAED,Q,uBAAW;AACT,SAAK,KAAL,CAAW,QAAX;AACD,G;;qBAED,W,wBAAY,I,EAAM;AAChB,SAAK,SAAL,GAAiB,IAAjB;AACD,G;;qBAED,a,4BAAgB;AACd,WAAO;AACL,iBAAW,KAAK,SAAL,CAAe,SADrB;AAEL,oBAAc,KAAK,SAAL,CAAe,YAFxB;AAGL,oBAAc,KAAK,SAAL,CAAe;AAHxB,KAAP;AAKD,G;;qBAED,qB,oCAAwB;AACtB,WAAO,KAAK,SAAL,CAAe,qBAAf,EAAP;AACD,G;;qBAED,M,qBAAS;AACP,QAAM,YAAY,0BAAW,qBAAX,EAAkC,KAAK,KAAL,CAAW,SAA7C,CAAlB;;AAEA,WACE;AAAA;MAAA,EAAK,WAAU,mBAAf;MACE;AAAA;QAAA,EAAK,WAAW,SAAhB,EAA2B,KAAK,KAAK,WAArC,EAAkD,UAAU,KAAK,KAAL,CAAW,QAAvE;QACG,KAAK,KAAL,CAAW;AADd;AADF,KADF;AAOD,G;;qBAED,Q,qBAAS,M,EAAQ;AACf,YAAQ,KAAR,iBAA4B,MAA5B;AACA,SAAK,SAAL,CAAe,SAAf,GAA2B,MAA3B;AACD,G;;qBAED,c,6BAAiB;AACf,YAAQ,KAAR,CAAc,mBAAd;AACA,SAAK,SAAL,CAAe,SAAf,GAA2B,KAAK,SAAL,CAAe,YAA1C;AACD,G;;;;;AA/EG,Q,CACG,S,GAAY;AACjB,aAAW,iBAAU,MADJ;AAEjB,YAAU,iBAAU,IAAV,CAAe,UAFR;AAGjB,YAAU,iBAAU,IAAV,CAAe,UAHR;AAIjB,YAAU,iBAAU,IAAV,CAAe,UAJR;AAKjB,YAAU,iBAAU,IAAV,CAAe;AALR,C;AADf,Q,CASG,Y,GAAe;AACpB,0BADoB;AAEpB,0BAFoB;AAGpB;AAHoB,C;kBAyET,Q","file":"Scroller.react.js","sourcesContent":["/*\n * Copyright (C) 2015-2016 Actor LLC. <https://actor.im>\n */\n\nimport React, { Component, PropTypes } from 'react';\nimport classNames from 'classnames';\nimport noop from 'lodash/noop';\n\nclass Scroller extends Component {\n  static propTypes = {\n    className: PropTypes.string,\n    children: PropTypes.node.isRequired,\n    onUpdate: PropTypes.func.isRequired,\n    onScroll: PropTypes.func.isRequired,\n    onResize: PropTypes.func.isRequired\n  };\n\n  static defaultProps = {\n    onUpdate: noop,\n    onScroll: noop,\n    onResize: noop\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.onResize = this.onResize.bind(this);\n    this.onReference = this.onReference.bind(this);\n  }\n\n  shouldComponentUpdate(nextProps) {\n    return nextProps.children !== this.props.children;\n  }\n\n  componentDidMount() {\n    this.props.onUpdate();\n    window.addEventListener('resize', this.onResize, false);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.onResize, false);\n  }\n\n  componentDidUpdate() {\n    this.props.onUpdate();\n  }\n\n  onResize() {\n    this.props.onResize();\n  }\n\n  onReference(node) {\n    this.container = node;\n  }\n\n  getDimensions() {\n    return {\n      scrollTop: this.container.scrollTop,\n      scrollHeight: this.container.scrollHeight,\n      offsetHeight: this.container.offsetHeight\n    };\n  }\n\n  getBoundingClientRect() {\n    return this.container.getBoundingClientRect();\n  }\n\n  render() {\n    const className = classNames('scroller__container', this.props.className);\n\n    return (\n      <div className=\"scroller__wrapper\">\n        <div className={className} ref={this.onReference} onScroll={this.props.onScroll}>\n          {this.props.children}\n        </div>\n      </div>\n    );\n  }\n\n  scrollTo(offset) {\n    console.debug(`Scroll to: ${offset}`);\n    this.container.scrollTop = offset;\n  }\n\n  scrollToBottom() {\n    console.debug('Scroll to: bottom');\n    this.container.scrollTop = this.container.scrollHeight;\n  }\n}\n\nexport default Scroller;\n"]}