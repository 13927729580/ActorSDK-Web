{"version":3,"sources":["../../../src/components/common/MenuOverlay.react.js"],"names":[],"mappings":";;;;AAIA;;;;AACA;;AACA;;;;AAEA;;;;AACA;;;;AAEA;;;;AACA;;;;;;;;;;;;;;IAEM,W;;;cACG,S,wBAAY;AACjB,WAAO,gDAAP;AACD,G;;cAEM,c,6BAAiB;AACtB,QAAM,UAAU,wBAAc,UAAd,EAAhB;;AAEA,WAAO;AACL,6BAAuB,wBAAc,qBAAd,CAAoC,QAAQ,GAA5C,CADlB;AAEL,2BAAqB,wBAAc,mBAAd,EAFhB;AAGL,kBAAY,wBAAc,aAAd,EAHP;AAIL,kBAAY,wBAAc,aAAd,EAJP;AAKL,mBAAa,wBAAc,OAAd,EALR;AAML;AANK,KAAP;AAQD,G;;AAED,uBAAY,KAAZ,EAAmB;AAAA;;AAAA,4CACjB,sBAAM,KAAN,CADiB;AAElB;;wBAED,M,qBAAS;AAAA,iBAC8F,KAAK,KADnG;AAAA,QACC,qBADD,UACC,qBADD;AAAA,QACwB,mBADxB,UACwB,mBADxB;AAAA,QAC6C,OAD7C,UAC6C,OAD7C;AAAA,QACsD,UADtD,UACsD,UADtD;AAAA,QACkE,WADlE,UACkE,WADlE;AAAA,QAC+E,UAD/E,UAC+E,UAD/E;;AAEP,QAAM,cAAc,sBAAY,cAAZ,EAApB;;AAEA,QAAM,uBAAuB,0BAAW,cAAX,EAA2B;AACtD,8BAAwB,yBAAyB;AADK,KAA3B,CAA7B;;AAIA,WACE;AAAA;AAAA,QAAK,WAAW,oBAAhB;AAEI,8BACI,0DAAgB,SAAS,OAAzB;AACgB,oBAAY,UAD5B;AAEgB,cAAM,WAFtB;AAGgB,0BAHhB,GADJ,GAKI,IAPR;AAUI,4BACI,6DAAmB,MAAM,WAAzB;AACmB,oBAAY,UAD/B;AAEmB,0BAFnB,GADJ,GAII;AAdR,KADF;AAmBD,G;;;;;kBAGY,iBAAU,MAAV,CAAiB,WAAjB,EAA8B,EAAE,MAAM,KAAR,EAA9B,C","file":"MenuOverlay.react.js","sourcesContent":["/*\n * Copyright (C) 2015 Actor LLC. <https://actor.im>\n */\n\nimport React, { Component } from 'react';\nimport { Container } from 'flux/utils';\nimport classnames from 'classnames';\n\nimport MessageActions from './dropdown/MessageActions.react';\nimport RecentContextMenu from './dropdown/RecentContextMenu.react'\n\nimport DropdownStore from '../../stores/DropdownStore';\nimport DialogStore from '../../stores/DialogStore';\n\nclass MenuOverlay extends Component {\n  static getStores() {\n    return [DropdownStore, DialogStore];\n  }\n\n  static calculateState() {\n    const message = DropdownStore.getMessage();\n\n    return {\n      isMessageDropdownOpen: DropdownStore.isMessageDropdownOpen(message.rid),\n      isRecentContextOpen: DropdownStore.isRecentContextOpen(),\n      targetRect: DropdownStore.getTargetRect(),\n      contextPos: DropdownStore.getContextPos(),\n      contextPeer: DropdownStore.getPeer(),\n      message\n    };\n  }\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { isMessageDropdownOpen, isRecentContextOpen, message, targetRect, contextPeer, contextPos } = this.state;\n    const currentPeer = DialogStore.getCurrentPeer();\n\n    const menuOverlayClassName = classnames('menu-overlay', {\n      'menu-overlay--opened': isMessageDropdownOpen || isRecentContextOpen\n    });\n\n    return (\n      <div className={menuOverlayClassName}>\n        {\n          isMessageDropdownOpen\n            ? <MessageActions message={message}\n                              targetRect={targetRect}\n                              peer={currentPeer}\n                              hideOnScroll/>\n            : null\n        }\n        {\n          isRecentContextOpen\n            ? <RecentContextMenu peer={contextPeer}\n                                 contextPos={contextPos}\n                                 hideOnScroll/>\n            : null\n        }\n      </div>\n    );\n  }\n}\n\nexport default Container.create(MenuOverlay, { pure: false });\n"]}