{"version":3,"sources":["../../../../src/components/dialog/messages/Text.react.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAWA,IAAM,WAAW,GAAG,SAAd,WAAW,CAAI,IAAI,EAAK;AAC5B,MAAM,UAAU,GAAG,sBAAY,cAAc,CAAC,IAAI,CAAC,CAAC;AACpD,MAAI,aAAa,GAAG,UAAU,CAAC;;AAE/B,cANO,KAAK,CAMN,aAAa,GAAG,IAAI,CAAC;AAC3B,cAPO,KAAK,CAON,YAAY,GAAG,IAAI,CAAC;AAC1B,cARO,KAAK,CAQN,mBAAmB,CAAC,KAAK,CAAC,CAAC;AACjC,eAAa,GAAG,YATT,KAAK,CASU,cAAc,CAAC,aAAa,CAAC,CAAC;AACpD,eAAa,GAAG,YAVT,KAAK,CAUU,eAAe,CAAC,aAAa,CAAC,CAAC;AACrD,SAAO,aAAa,CAAC;CACtB,CAAC;;AAEF,IAAM,mBAAmB,GAAG,wBAAQ,WAAW,EAAE;AAC/C,QAAM,EAAE,IAAI;AACZ,QAAM,EAAE,EAAE,GAAG,EAAE,GAAG,IAAI;AACtB,KAAG,EAAE,KAAK;CACX,CAAC,CAAC;;IAEG,IAAI;YAAJ,IAAI;;AAMR,WANI,IAAI,CAMI,KAAK,EAAE;0BANf,IAAI;;kEAAJ,IAAI,aAOA,KAAK;GACZ;;eARG,IAAI;;6BAUC;mBACwB,IAAI,CAAC,KAAK;UAAjC,OAAO,UAAP,OAAO;UAAE,SAAS,UAAT,SAAS;;AAE1B,aACE,uCAAK,SAAS,EAAE,SAAS,AAAC;AACrB,+BAAuB,EAAE,EAAC,MAAM,EAAE,mBAAmB,CAAC,OAAO,CAAC,IAAI,CAAC,EAAC,AAAC,GACpE,CACN;KACH;;;SAlBG,IAAI;UAzBM,SAAS;;AAyBnB,IAAI,CACD,SAAS,GAAG;AACjB,SAAO,EAAE,gBAAM,SAAS,CAAC,MAAM,CAAC,UAAU;AAC1C,WAAS,EAAE,gBAAM,SAAS,CAAC,MAAM;CAClC;kBAiBY,IAAI","file":"Text.react.js","sourcesContent":["/*\n * Copyright (C) 2015 Actor LLC. <https://actor.im>\n */\n\nimport React, { Component } from 'react';\nimport memoize from 'memoizee';\nimport ActorClient from '../../../utils/ActorClient';\n\nimport { Path } from '../../../constants/ActorAppConstants';\nimport { emoji } from '../../../utils/EmojiUtils';\n\nconst processText = (text) => {\n  const markedText = ActorClient.renderMarkdown(text);\n  let emojifiedText = markedText;\n\n  emoji.include_title = true;\n  emoji.include_text = true;\n  emoji.change_replace_mode('css');\n  emojifiedText = emoji.replace_colons(emojifiedText);\n  emojifiedText = emoji.replace_unified(emojifiedText);\n  return emojifiedText;\n};\n\nconst memoizedProcessText = memoize(processText, {\n  length: 1000,\n  maxAge: 60 * 60 * 1000,\n  max: 10000\n});\n\nclass Text extends Component {\n  static propTypes = {\n    content: React.PropTypes.object.isRequired,\n    className: React.PropTypes.string\n  };\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { content, className } = this.props;\n\n    return (\n      <div className={className}\n           dangerouslySetInnerHTML={{__html: memoizedProcessText(content.text)}}>\n      </div>\n    );\n  }\n}\n\nexport default Text;\n"]}