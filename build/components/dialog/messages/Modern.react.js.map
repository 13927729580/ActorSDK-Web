{"version":3,"sources":["../../../../src/components/dialog/messages/Modern.react.js"],"names":[],"mappings":"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","file":"Modern.react.js","sourcesContent":["/*\n * Copyright (C) 2015-2016 Actor LLC. <https://actor.im>\n */\n\nimport { map } from 'lodash';\nimport React, { Component, PropTypes } from 'react';\nimport classnames from 'classnames';\n\nconst ColorTypes = {\n  HEX: 'hex',\n  NAMED: 'named'\n};\n\n/**\n * @param color\n * @returns {string | null} Color value\n */\nfunction getColor(color) {\n  if (color) {\n    switch (color.type) {\n      case ColorTypes.HEX:\n        return color.hex;\n      case ColorTypes.NAMED:\n        return color.name;\n      default:\n        return null;\n    }\n  } else {\n    return null;\n  }\n}\n\n/**\n * Class that represents component for display modern text message attachment field\n * @param {String} title Field title\n * @param {String} value Field value\n * @param {Boolean} isShort Display short version of field\n */\nclass Field extends Component {\n  static propTypes = {\n    title: PropTypes.string,\n    value: PropTypes.string,\n    isShort: PropTypes.bool\n  };\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { title, value, isShort } = this.props;\n\n    const fieldClassName = classnames('field', {\n      'field--short': isShort,\n      'col-xs-6': isShort,\n      'col-xs-12': !isShort\n    });\n\n    return (\n      <div className={fieldClassName}>\n        {title ? <div className=\"field__title\">{title}</div> : null}\n        {value ? <div className=\"field__value\">{value}</div> : null}\n      </div>\n    )\n  }\n}\n\n/**\n * Class that represents component for display modern text message attachments\n * @param {Array} fields Array of objects contains attachment fields\n * @param {Object} paragraphStyle Contains attachment styles\n * @param {String} text Attachment text\n * @param {String} title Attachment title\n * @param {String} titleUrl Attachment title url\n */\nclass Attach extends Component {\n  static propTypes = {\n    paragraphStyle: PropTypes.object,\n    text: PropTypes.string,\n    title: PropTypes.string,\n    titleUrl: PropTypes.string,\n    fields: PropTypes.array\n  };\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { paragraphStyle, titleUrl, title, text, fields } = this.props;\n\n    const attachmentClassName = classnames('attachment', {\n      'attachment--paragraph': paragraphStyle.showParagraph\n    });\n\n    const attachmentStyles = {\n      borderColor: getColor(paragraphStyle.color) || 'transparent',\n      backgroundColor: getColor(paragraphStyle.bgColor) || 'transparent'\n    };\n\n    const attachmentFields = map(fields, (field, index) => <Field key={index} {...field}/>);\n\n    return (\n      <div className={attachmentClassName} style={attachmentStyles}>\n        <div className=\"attachment__title\">\n          {\n            titleUrl\n              ? <a href={titleUrl}>{title}</a>\n              : title\n          }\n        </div>\n        {text ? text : null}\n        {attachmentFields ? <div className=\"attachment_fields row\">{attachmentFields}</div> : null}\n      </div>\n    );\n  }\n}\n\n/**\n * Class that represents component for display modern text messages content\n * @param {Array} attaches Array of objects contains modern message attached paragraphs\n * @param {Object} paragraphStyle Contains message styles\n * @param {String} text Message text\n * @param {String} className Component class name\n */\nclass TextModern extends Component {\n  static propTypes = {\n    attaches: PropTypes.array,\n    paragraphStyle: PropTypes.object,\n    text: PropTypes.string,\n    className: PropTypes.string\n  };\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { paragraphStyle, attaches, text, className } = this.props;\n    const modernClassName = classnames('modern', {\n      'modern--paragraph': paragraphStyle.showParagraph\n    });\n\n    const modernStyles = {\n      borderColor: getColor(paragraphStyle.color) || 'transparent',\n      backgroundColor: getColor(paragraphStyle.bgColor) || 'transparent'\n    };\n\n    const modernAttachments = map(attaches, (attachment, index) => <Attach key={index} {...attachment}/>);\n\n    return (\n      <div className={className}>\n        <div className={modernClassName} style={modernStyles}>\n          {text ? <p>{text}</p> : null}\n          {modernAttachments}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default TextModern;\n"]}