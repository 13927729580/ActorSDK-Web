{"version":3,"sources":["../../../../src/components/dialog/messages/Modern.react.js"],"names":[],"mappings":"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","file":"Modern.react.js","sourcesContent":["/*\n * Copyright (C) 2015-2016 Actor LLC. <https://actor.im>\n */\n\nimport { map } from 'lodash';\nimport React, { Component, PropTypes } from 'react';\nimport classnames from 'classnames';\n\nconst ColorTypes = {\n  HEX: 'hex',\n  NAMED: 'named'\n};\n\n/**\n * @param color\n * @returns {string | null} Color value\n */\nfunction getColor(color) {\n  if (color) {\n    switch (color.type) {\n      case ColorTypes.HEX:\n        return color.hex;\n      case ColorTypes.NAMED:\n        return color.name;\n      default:\n        return null;\n    }\n  } else {\n    return null;\n  }\n}\n\n/**\n * Class that represents component for display modern text message attachment field\n * @param {String} title Field title\n * @param {String} value Field value\n * @param {Boolean} isShort Display short version of field\n */\nclass Field extends Component {\n  static propTypes = {\n    title: PropTypes.string,\n    value: PropTypes.string,\n    isShort: PropTypes.bool\n  };\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { title, value, isShort } = this.props;\n\n    const fieldClassName = classnames('field', {\n      'field--short': isShort,\n      'col-xs-6': isShort,\n      'col-xs-12': !isShort\n    });\n\n    return (\n      <div className={fieldClassName}>\n        {title ? <div className=\"field__title\">{title}</div> : null}\n        {value ? <div className=\"field__value\">{value}</div> : null}\n      </div>\n    )\n  }\n}\n\n/**\n * Class that represents component for display modern text message attachments\n * @param {Array} fields Array of objects contains attachment fields\n * @param {Object} paragraphStyle Contains attachment styles\n * @param {String} text Attachment text\n * @param {String} title Attachment title\n * @param {String} titleUrl Attachment title url\n */\nclass Attach extends Component {\n  static propTypes = {\n    paragraphStyle: PropTypes.object,\n    text: PropTypes.string,\n    title: PropTypes.string,\n    titleUrl: PropTypes.string,\n    fields: PropTypes.array\n  };\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { paragraphStyle, titleUrl, title, text, fields } = this.props;\n\n    const attachmentClassName = classnames('attachment', {\n      'attachment--paragraph': paragraphStyle.showParagraph\n    });\n\n    const attachmentStyles = {\n      borderColor: getColor(paragraphStyle.color) || 'transparent',\n      backgroundColor: getColor(paragraphStyle.bgColor) || 'transparent'\n    };\n\n    const attachmentFields = map(fields, (field, index) => <Field key={index} {...field}/>);\n\n    return (\n      <div className={attachmentClassName} style={attachmentStyles}>\n        <div className=\"attachment__title\">\n          {\n            titleUrl\n              ? <a href={titleUrl}>{title}</a>\n              : title\n          }\n        </div>\n        {text ? text : null}\n        {attachmentFields ? <div className=\"attachment_fields row\">{attachmentFields}</div> : null}\n      </div>\n    );\n  }\n}\n\n/**\n * Class that represents component for display modern text messages content\n * @param {Array} attaches Array of objects contains modern message attached paragraphs\n * @param {Object} paragraphStyle Contains message styles\n * @param {String} text Message text\n * @param {String} className Component class name\n */\nclass TextModern extends Component {\n  static propTypes = {\n    attaches: PropTypes.array,\n    paragraphStyle: PropTypes.object,\n    text: PropTypes.string,\n    className: PropTypes.string\n  };\n\n  render() {\n    const { paragraphStyle, attaches, text, className } = this.props;\n    const modernClassName = classnames('modern', {\n      'modern--paragraph': paragraphStyle.showParagraph\n    });\n\n    const modernStyles = {\n      borderColor: getColor(paragraphStyle.color) || 'transparent',\n      backgroundColor: getColor(paragraphStyle.bgColor) || 'transparent'\n    };\n\n    const modernAttachments = map(attaches, (attachment, index) => <Attach key={index} {...attachment}/>);\n\n    return (\n      <div className={className}>\n        <div className={modernClassName} style={modernStyles}>\n          {text ? <p>{text}</p> : null}\n          {modernAttachments}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default TextModern;\n"]}