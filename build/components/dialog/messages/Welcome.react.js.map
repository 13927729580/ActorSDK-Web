{"version":3,"sources":["../../../../src/components/dialog/messages/Welcome.react.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAcM,OAAO;YAAP,OAAO;;AACX,WADI,OAAO,CACC,KAAK,EAAE;0BADf,OAAO;;kEAAP,OAAO,aAEH,KAAK;GACZ;;eAHG,OAAO;;6BASF;UACC,IAAI,GAAK,IAAI,CAAC,KAAK,CAAnB,IAAI;;AAEZ,UAAI,WAAW,YAAA,CAAC;AAChB,cAAQ,IAAI,CAAC,IAAI;AACf,aAAK,mBArBF,SAAS,CAqBG,IAAI;AACjB,cAAM,IAAI,GAAG,oBAAU,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;AACxC,qBAAW,GAAG,yCAxBF,oBAAoB,IAwBI,OAAO,EAAE,IAAI,CAAC,cAAc,CAAC,yBAAyB,CAAC,AAAC,EAAC,IAAI,EAAE,IAAI,CAAC,IAAI,AAAC,GAAE,CAAC;AAChH,gBAAM;AAAA,AACR,aAAK,mBAzBF,SAAS,CAyBG,KAAK;AAClB,cAAM,KAAK,GAAG,qBAAW,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;AAC3C,cAAM,IAAI,GAAG,oBAAU,OAAO,EAAE,CAAC;AACjC,cAAM,KAAK,GAAG,oBAAU,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;AAC/C,cAAM,OAAO,GAAG,KAAK,CAAC,OAAO,KAAK,IAAI,GAAG,IAAI,CAAC,cAAc,CAAC,2BAA2B,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC;AACvG,qBAAW,GAAG,CACZ,yCAhCU,oBAAoB,IAgCR,OAAO,EAAE,IAAI,CAAC,cAAc,CAAC,4BAA4B,CAAC,AAAC;AAC3D,gBAAI,EAAE,KAAK,CAAC,IAAI,AAAC;AACjB,mBAAO,EAAE,OAAO,AAAC,GAAE,EAEzC;;;YACG,IAAI,CAAC,cAAc,CAAC,qCAAqC,CAAC;YAC3D;;gBAAG,OAAO,EAAE;yBAAM,4BAAkB,IAAI,CAAC,KAAK,CAAC;iBAAA,AAAC;cAAE,IAAI,CAAC,cAAc,CAAC,sCAAsC,CAAC;aAAK;YACjH,IAAI,CAAC,cAAc,CAAC,mCAAmC,CAAC;WACvD,CACL,CAAC;AACF,gBAAM;AAAA,OACT;;AAED,aACE;;UAAI,SAAS,EAAC,8BAA8B;QAC1C;;YAAK,SAAS,EAAC,eAAe;UAC5B;;cAAK,SAAS,EAAC,gBAAgB;YAC7B,uCAAK,SAAS,EAAC,iBAAiB;AAC3B,qCAAuB,EAAE,EAAC,MAAM,EAAE,kDAAkD,EAAC,AAAC,GAAE;WACzF;SACF;QACN;;YAAK,SAAS,EAAC,sBAAsB;UAClC,WAAW;SACR;OACH,CACN;KACF;;;SAlDG,OAAO;UAVG,SAAS;;AAUnB,OAAO,CAKJ,SAAS,GAAG;AACjB,MAAI,EAAE,OAhBiB,SAAS,CAgBhB,MAAM,CAAC,UAAU;CAClC;;AA8CH,qBAAW,OAAO,CAAC,OAAO,aA7DjB,SAAS,CA6DoB,CAAC;;kBAExB,OAAO","file":"Welcome.react.js","sourcesContent":["/*\n * Copyright (C) 2015 Actor LLC. <https://actor.im>\n */\n\nimport React, { Component, PropTypes } from 'react';\nimport ReactMixin from 'react-mixin';\nimport { IntlMixin, FormattedHTMLMessage } from 'react-intl'\nimport { PeerTypes } from '../../../constants/ActorAppConstants';\n\nimport InviteUserActions from '../../../actions/InviteUserActions';\n\nimport UserStore from '../../../stores/UserStore';\nimport GroupStore from '../../../stores/GroupStore';\n\nclass Welcome extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  static propTypes = {\n    peer: PropTypes.object.isRequired\n  };\n\n  render() {\n    const { peer } = this.props;\n\n    let welcomeText;\n    switch (peer.type) {\n      case PeerTypes.USER:\n        const user = UserStore.getUser(peer.id);\n        welcomeText = <FormattedHTMLMessage message={this.getIntlMessage('message.welcome.private')} name={user.name}/>;\n        break;\n      case PeerTypes.GROUP:\n        const group = GroupStore.getGroup(peer.id);\n        const myID = UserStore.getMyId();\n        const admin = UserStore.getUser(group.adminId);\n        const creator = group.adminId === myID ? this.getIntlMessage('message.welcome.group.you') : admin.name;\n        welcomeText = [\n          <FormattedHTMLMessage message={this.getIntlMessage('message.welcome.group.main')}\n                                name={group.name}\n                                creator={creator}/>\n        ,\n          <p>\n            {this.getIntlMessage('message.welcome.group.actions.start')}\n            <a onClick={() => InviteUserActions.show(group)}>{this.getIntlMessage('message.welcome.group.actions.invite')}</a>\n            {this.getIntlMessage('message.welcome.group.actions.end')}\n          </p>\n        ];\n        break;\n    }\n\n    return(\n      <li className=\"message message--welcome row\">\n        <div className=\"message__info\">\n          <div className=\"welcome-avatar\">\n            <svg className=\"icon icon--gray\"\n                 dangerouslySetInnerHTML={{__html: '<use xlink:href=\"assets/images/icons.svg#star\"/>'}}/>\n          </div>\n        </div>\n        <div className=\"message__body col-xs\">\n          {welcomeText}\n        </div>\n      </li>\n    )\n  }\n}\n\nReactMixin.onClass(Welcome, IntlMixin);\n\nexport default Welcome;\n"]}