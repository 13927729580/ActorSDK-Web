{"version":3,"sources":["../../../../src/components/dialog/messages/Welcome.react.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAIA;;;;AACA;;AACA;;AAEA;;;;AAEA;;AAEA;;;;AAEA;;;;AACA;;;;;;;;;;IAEM;;;AASJ,WATI,OASJ,CAAY,KAAZ,EAAmB,OAAnB,EAA4B;wCATxB,SASwB;;+DAC1B,sBAAM,KAAN,EAAa,OAAb,GAD0B;;AAG1B,UAAK,aAAL,GAAqB,MAAK,aAAL,CAAmB,IAAnB,OAArB,CAH0B;AAI1B,UAAK,qBAAL,GAA6B,kDAAsB,IAAtB,OAA7B,CAJ0B;;GAA5B;;AATI,oBAgBJ,yCAAgB;QACN,OAAS,KAAK,KAAL,CAAT,KADM;;AAEd,QAAM,QAAQ,qBAAW,QAAX,CAAoB,KAAK,EAAL,CAA5B,CAFQ;AAGd,gCAAkB,IAAlB,CAAuB,KAAvB,EAHc;;;AAhBZ,oBAsBJ,yCAAe,IAAI;AACjB,QAAM,OAAO,oBAAU,OAAV,CAAkB,EAAlB,CAAP,CADW;AAEjB,WACE,iEAAsB,IAAG,yBAAH,EAA6B,QAAQ,EAAE,MAAM,KAAK,IAAL,EAAhB,EAAnD,CADF,CAFiB;;;AAtBf,oBA6BJ,2CAAgB,IAAI;QACV,OAAS,KAAK,OAAL,CAAT,KADU;;AAElB,QAAM,QAAQ,qBAAW,QAAX,CAAoB,EAApB,CAAR,CAFY;AAGlB,QAAM,OAAO,oBAAU,OAAV,EAAP,CAHY;AAIlB,QAAM,QAAQ,oBAAU,OAAV,CAAkB,MAAM,OAAN,CAA1B,CAJY;AAKlB,QAAM,UAAU,MAAM,OAAN,KAAkB,IAAlB,GAAyB,KAAK,QAAL,CAAc,2BAAd,CAAzB,GAAsE,MAAM,IAAN,CALpE;;AAOlB,WACE;;;MACE,iEAAsB,IAAG,4BAAH,EAAgC,QAAQ,EAAE,MAAM,MAAM,IAAN,EAAY,gBAApB,EAAR,EAAtD,CADF;MAEE;;UAAG,KAAK,CAAL,EAAH;QACG,KAAK,QAAL,CAAc,qCAAd,CADH;QAEE;;YAAG,SAAS,KAAK,aAAL,EAAZ;UAAiC,KAAK,QAAL,CAAc,sCAAd,CAAjC;SAFF;QAGG,KAAK,QAAL,CAAc,mCAAd,CAHH;OAFF;KADF,CAPkB;;;AA7BhB,oBAgDJ,mCAAa;QACH,OAAS,KAAK,KAAL,CAAT,KADG;;;AAGX,YAAQ,KAAK,IAAL;AACN,WAAK,6BAAU,IAAV;AACH,eAAO,KAAK,cAAL,CAAoB,KAAK,EAAL,CAA3B,CADF;AADF,WAGO,6BAAU,KAAV;AACH,eAAO,KAAK,eAAL,CAAqB,KAAK,EAAL,CAA5B,CADF;AAHF,KAHW;;;AAhDT,oBA2DJ,2BAAS;AACP,WACE;;QAAK,WAAU,8BAAV,EAAL;MACE;;UAAK,WAAU,eAAV,EAAL;QACE;;YAAK,WAAU,gBAAV,EAAL;UACE,mDAAS,WAAU,iBAAV,EAA4B,OAAM,MAAN,EAArC,CADF;SADF;OADF;MAME;;UAAK,WAAU,sBAAV,EAAL;QACG,KAAK,UAAL,EADH;OANF;KADF,CADO;;;SA3DL;;;QACG,YAAY;AACjB,QAAM,iBAAU,MAAV,CAAiB,UAAjB;;AAFJ,QAKG,eAAe;AACpB,QAAM,iBAAU,MAAV;;kBAqEK","file":"Welcome.react.js","sourcesContent":["/*\n * Copyright (C) 2015-2016 Actor LLC. <https://actor.im>\n */\n\nimport React, { Component, PropTypes } from 'react';\nimport { FormattedHTMLMessage } from 'react-intl'\nimport { shouldComponentUpdate } from 'react-addons-pure-render-mixin';\n\nimport SvgIcon from '../../common/SvgIcon.react';\n\nimport { PeerTypes } from '../../../constants/ActorAppConstants';\n\nimport InviteUserActions from '../../../actions/InviteUserActions';\n\nimport UserStore from '../../../stores/UserStore';\nimport GroupStore from '../../../stores/GroupStore';\n\nclass Welcome extends Component {\n  static propTypes = {\n    peer: PropTypes.object.isRequired\n  };\n\n  static contextTypes = {\n    intl: PropTypes.object\n  };\n\n  constructor(props, context) {\n    super(props, context);\n\n    this.onInviteClick = this.onInviteClick.bind(this);\n    this.shouldComponentUpdate = shouldComponentUpdate.bind(this);\n  }\n\n  onInviteClick() {\n    const { peer } = this.props;\n    const group = GroupStore.getGroup(peer.id);\n    InviteUserActions.show(group);\n  }\n\n  renderUserText(id) {\n    const user = UserStore.getUser(id);\n    return (\n      <FormattedHTMLMessage id=\"message.welcome.private\" values={{ name: user.name }}/>\n    );\n  }\n\n  renderGroupText(id) {\n    const { intl } = this.context;\n    const group = GroupStore.getGroup(id);\n    const myID = UserStore.getMyId();\n    const admin = UserStore.getUser(group.adminId);\n    const creator = group.adminId === myID ? intl.messages['message.welcome.group.you'] : admin.name;\n\n    return (\n      <div>\n        <FormattedHTMLMessage id=\"message.welcome.group.main\" values={{ name: group.name, creator }}/>\n        <p key={2}>\n          {intl.messages['message.welcome.group.actions.start']}\n          <a onClick={this.onInviteClick}>{intl.messages['message.welcome.group.actions.invite']}</a>\n          {intl.messages['message.welcome.group.actions.end']}\n        </p>\n      </div>\n    );\n  }\n\n  renderText() {\n    const { peer } = this.props;\n\n    switch (peer.type) {\n      case PeerTypes.USER:\n        return this.renderUserText(peer.id);\n      case PeerTypes.GROUP:\n        return this.renderGroupText(peer.id);\n    }\n  }\n\n  render() {\n    return(\n      <div className=\"message message--welcome row\">\n        <div className=\"message__info\">\n          <div className=\"welcome-avatar\">\n            <SvgIcon className=\"icon icon--gray\" glyph=\"star\" />\n          </div>\n        </div>\n        <div className=\"message__body col-xs\">\n          {this.renderText()}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Welcome;\n"]}