{"version":3,"sources":["../../../../src/components/dialog/messages/Welcome.react.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAgBM,OAAO;YAAP,OAAO;;AACX,WADI,OAAO,CACC,KAAK,EAAE;0BADf,OAAO;;kEAAP,OAAO,aAEH,KAAK;GACZ;;eAHG,OAAO;;6BAaF;UACC,IAAI,GAAK,IAAI,CAAC,KAAK,CAAnB,IAAI;UACJ,IAAI,GAAK,IAAI,CAAC,OAAO,CAArB,IAAI;;AAEZ,UAAI,WAAW,YAAA,CAAC;AAChB,cAAQ,IAAI,CAAC,IAAI;AACf,aAAK,6BAAU,IAAI;AACjB,cAAM,IAAI,GAAG,oBAAU,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;AACxC,qBAAW,GAAG,iEAAsB,EAAE,EAAC,yBAAyB,EAAC,MAAM,EAAE,EAAC,IAAI,EAAE,IAAI,CAAC,IAAI,EAAC,AAAC,GAAE,CAAC;AAC9F,gBAAM;AAAA,AACR,aAAK,6BAAU,KAAK;AAClB,cAAM,KAAK,GAAG,qBAAW,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;AAC3C,cAAM,IAAI,GAAG,oBAAU,OAAO,EAAE,CAAC;AACjC,cAAM,KAAK,GAAG,oBAAU,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;AAC/C,cAAM,OAAO,GAAG,KAAK,CAAC,OAAO,KAAK,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,2BAA2B,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC;AACjG,qBAAW,GAAG,CACZ,iEAAsB,EAAE,EAAC,4BAA4B,EAAC,GAAG,EAAE,CAAC,AAAC;AACvC,kBAAM,EAAE,EAAC,IAAI,EAAE,KAAK,CAAC,IAAI,EAAE,OAAO,EAAP,OAAO,EAAC,AAAC,GAAE,EAE5D;;cAAG,GAAG,EAAE,CAAC,AAAC;YACP,IAAI,CAAC,QAAQ,CAAC,qCAAqC,CAAC;YACrD;;gBAAG,OAAO,EAAE;yBAAM,4BAAkB,IAAI,CAAC,KAAK,CAAC;iBAAA,AAAC;cAAE,IAAI,CAAC,QAAQ,CAAC,sCAAsC,CAAC;aAAK;YAC3G,IAAI,CAAC,QAAQ,CAAC,mCAAmC,CAAC;WACjD,CACL,CAAC;AACF,gBAAM;AAAA,OACT;;AAED,aACE;;UAAI,SAAS,EAAC,8BAA8B;QAC1C;;YAAK,SAAS,EAAC,eAAe;UAC5B;;cAAK,SAAS,EAAC,gBAAgB;YAC7B,uCAAK,SAAS,EAAC,iBAAiB;AAC3B,qCAAuB,EAAE,EAAC,MAAM,EAAE,kDAAkD,EAAC,AAAC,GAAE;WACzF;SACF;QACN;;YAAK,SAAS,EAAC,sBAAsB;UAClC,WAAW;SACR;OACH,CACN;KACF;;;SAtDG,OAAO;;;AAAP,OAAO,CAKJ,SAAS,GAAG;AACjB,MAAI,EAAE,iBAAU,MAAM,CAAC,UAAU;CAClC;AAPG,OAAO,CASJ,YAAY,GAAG;AACpB,MAAI,EAAE,iBAAU,MAAM;CACvB;;AA8CH,qBAAW,OAAO,CAAC,OAAO,uCAAkB,CAAC;;kBAE9B,OAAO","file":"Welcome.react.js","sourcesContent":["/*\n * Copyright (C) 2015-2016 Actor LLC. <https://actor.im>\n */\n\nimport React, { Component, PropTypes } from 'react';\nimport ReactMixin from 'react-mixin';\nimport { FormattedHTMLMessage } from 'react-intl'\nimport PureRenderMixin from 'react-addons-pure-render-mixin';\n\nimport { PeerTypes } from '../../../constants/ActorAppConstants';\n\nimport InviteUserActions from '../../../actions/InviteUserActions';\n\nimport UserStore from '../../../stores/UserStore';\nimport GroupStore from '../../../stores/GroupStore';\n\nclass Welcome extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  static propTypes = {\n    peer: PropTypes.object.isRequired\n  };\n\n  static contextTypes = {\n    intl: PropTypes.object\n  };\n\n  render() {\n    const { peer } = this.props;\n    const { intl } = this.context;\n\n    let welcomeText;\n    switch (peer.type) {\n      case PeerTypes.USER:\n        const user = UserStore.getUser(peer.id);\n        welcomeText = <FormattedHTMLMessage id=\"message.welcome.private\" values={{name: user.name}}/>;\n        break;\n      case PeerTypes.GROUP:\n        const group = GroupStore.getGroup(peer.id);\n        const myID = UserStore.getMyId();\n        const admin = UserStore.getUser(group.adminId);\n        const creator = group.adminId === myID ? intl.messages['message.welcome.group.you'] : admin.name;\n        welcomeText = [\n          <FormattedHTMLMessage id=\"message.welcome.group.main\" key={1}\n                                values={{name: group.name, creator}}/>\n        ,\n          <p key={2}>\n            {intl.messages['message.welcome.group.actions.start']}\n            <a onClick={() => InviteUserActions.show(group)}>{intl.messages['message.welcome.group.actions.invite']}</a>\n            {intl.messages['message.welcome.group.actions.end']}\n          </p>\n        ];\n        break;\n    }\n\n    return(\n      <li className=\"message message--welcome row\">\n        <div className=\"message__info\">\n          <div className=\"welcome-avatar\">\n            <svg className=\"icon icon--gray\"\n                 dangerouslySetInnerHTML={{__html: '<use xlink:href=\"assets/images/icons.svg#star\"/>'}}/>\n          </div>\n        </div>\n        <div className=\"message__body col-xs\">\n          {welcomeText}\n        </div>\n      </li>\n    )\n  }\n}\n\nReactMixin.onClass(Welcome, PureRenderMixin);\n\nexport default Welcome;\n"]}