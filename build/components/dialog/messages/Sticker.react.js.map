{"version":3,"sources":["../../../../src/components/dialog/messages/Sticker.react.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAUM,OAAO;YAAP,OAAO;;AAQX,WARI,OAAO,CAQC,KAAK,EAAE;0BARf,OAAO;;uEAAP,OAAO,aASH,KAAK;;AAEX,UAAK,KAAK,GAAG;AACX,cAAQ,EAAE,KAAK;KAChB,CAAA;;GACF;;eAdG,OAAO;;6BAgBF;;;mBAC6B,IAAI,CAAC,KAAK;UAAtC,SAAS,UAAT,SAAS;UAAE,CAAC,UAAD,CAAC;UAAE,CAAC,UAAD,CAAC;UAAE,OAAO,UAAP,OAAO;UACxB,QAAQ,GAAK,IAAI,CAAC,KAAK,CAAvB,QAAQ;;AAChB,UAAM,SAAS,GAAG;;UAAK,SAAS,EAAC,WAAW;QAAC,0CAAM;QAAA,0CAAM;QAAA,0CAAM;QAAA,0CAAM;QAAA,0CAAM;OAAM,CAAC;AAClF,UAAM,gBAAgB,GAAG,0BAAW,SAAS,EAAE;AAC7C,yBAAiB,EAAE,QAAQ;OAC5B,CAAC,CAAC;;AAEH,UAAM,SAAS,GAAG,GAAG,CAAC;AACtB,UAAM,UAAU,GAAG,GAAG,CAAC;AACvB,UAAI,KAAK,GAAG,CAAC,CAAC;AACd,UAAI,MAAM,GAAG,CAAC,CAAC;;AAEf,UAAI,KAAK,GAAG,MAAM,EAAE;AAClB,YAAI,KAAK,GAAG,SAAS,EAAE;AACrB,gBAAM,IAAI,SAAS,GAAG,KAAK,CAAC;AAC5B,eAAK,GAAG,SAAS,CAAC;SACnB;OACF,MAAM;AACL,YAAI,MAAM,GAAG,UAAU,EAAE;AACvB,eAAK,IAAI,UAAU,GAAG,MAAM,CAAC;AAC7B,gBAAM,GAAG,UAAU,CAAC;SACrB;OACF;;AAED,aACE;;UAAK,SAAS,EAAE,SAAS,AAAC;QACxB;;YAAK,SAAS,EAAE,gBAAgB,AAAC,EAAC,KAAK,EAAE,EAAC,KAAK,EAAL,KAAK,EAAE,MAAM,EAAN,MAAM,EAAC,AAAC;UACtD,SAAS;UACV,uCAAK,GAAG,EAAE,OAAO,AAAC,EAAC,KAAK,EAAE,KAAK,AAAC,EAAC,MAAM,EAAE,MAAM,AAAC,EAAC,MAAM,EAAE;qBAAM,OAAK,QAAQ,CAAC,EAAC,QAAQ,EAAE,IAAI,EAAC,CAAC;aAAA,AAAC,GAAE;SAC7F;OACF,CACN;KACH;;;SAjDG,OAAO;UANG,SAAS;;AAMnB,OAAO,CACJ,SAAS,GAAG;AACjB,WAAS,EAAE,OARY,SAAS,CAQX,MAAM;AAC3B,SAAO,EAAE,OATc,SAAS,CASb,MAAM,CAAC,UAAU;AACpC,GAAC,EAAE,OAVoB,SAAS,CAUnB,MAAM,CAAC,UAAU;AAC9B,GAAC,EAAE,OAXoB,SAAS,CAWnB,MAAM,CAAC,UAAU;CAC/B;kBA8CY,OAAO","file":"Sticker.react.js","sourcesContent":["/*\n * Copyright (C) 2015 Actor LLC. <https://actor.im>\n */\n\nimport React, { Component, PropTypes } from 'react';\nimport classnames from 'classnames';\n\n/**\n * Class that represents a component for display sticker message content\n */\nclass Sticker extends Component {\n  static propTypes = {\n    className: PropTypes.string,\n    fileUrl: PropTypes.string.isRequired,\n    h: PropTypes.number.isRequired,\n    w: PropTypes.number.isRequired,\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isLoaded: false\n    }\n  }\n\n  render() {\n    const { className, w, h, fileUrl} = this.props;\n    const { isLoaded } = this.state;\n    const preloader = <div className=\"preloader\"><div/><div/><div/><div/><div/></div>;\n    const stickerClassName = classnames('sticker', {\n      'sticker--loaded': isLoaded\n    });\n\n    const MAX_WIDTH = 200;\n    const MAX_HEIGHT = 200;\n    let width = w;\n    let height = h;\n\n    if (width > height) {\n      if (width > MAX_WIDTH) {\n        height *= MAX_WIDTH / width;\n        width = MAX_WIDTH;\n      }\n    } else {\n      if (height > MAX_HEIGHT) {\n        width *= MAX_HEIGHT / height;\n        height = MAX_HEIGHT;\n      }\n    }\n\n    return (\n      <div className={className}>\n        <div className={stickerClassName} style={{width, height}}>\n          {preloader}\n          <img src={fileUrl} width={width} height={height} onLoad={() => this.setState({isLoaded: true})}/>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Sticker;\n"]}