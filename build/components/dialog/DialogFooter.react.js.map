{"version":3,"sources":["../../../src/components/dialog/DialogFooter.react.js"],"names":[],"mappings":";;;;AAIA;;AACA;;;;AACA;;AAEA;;;;AACA;;;;;;;;;;;;;;IAEM,Y;;;AAgBJ,wBAAY,KAAZ,EAAmB,OAAnB,EAA4B;AAAA;;AAAA,iDAC1B,sBAAM,KAAN,EAAa,OAAb,CAD0B;;AAAA,QAGlB,MAHkB,GAGP,QAAQ,QAAR,CAAiB,UAHV,CAGlB,MAHkB;;AAI1B,QAAI,UAAU,CAAC,wBAAW,MAAX,CAAf,EAAmC;AACjC,YAAK,UAAL,GAAkB;AAChB,uBAAe,OAAO,MAAP,2BADC;AAEhB,wBAAgB,OAAO,OAAP;AAFA,OAAlB;AAID,KALD,MAKO;AACL,YAAK,UAAL,GAAkB;AAChB,8CADgB;AAEhB;AAFgB,OAAlB;AAID;AAdyB;AAe3B;;yBAED,M,qBAAS;AAAA,iBACwC,KAAK,KAD7C;AAAA,QACC,IADD,UACC,IADD;AAAA,QACO,QADP,UACO,QADP;AAAA,QACiB,SADjB,UACiB,SADjB;AAAA,QAC4B,OAD5B,UAC4B,OAD5B;;AAEP,QAAI,CAAC,QAAL,EAAe;AACb,aACE;AAAA;QAAA,EAAQ,WAAU,qCAAlB;QACE,6DAAkB,IAAG,mBAArB;AADF,OADF;AAKD;;AAED,QAAI,KAAK,SAAT,EAAoB;AAClB,aACE;AAAA;QAAA,EAAQ,WAAU,6DAAlB,EAAgF,SAAS,SAAzF;QACE,6DAAkB,IAAG,iBAArB;AADF,OADF;AAKD;;AAED,QAAI,KAAK,KAAL,IAAc,CAAC,KAAK,SAAxB,EAAmC;AACjC,aACE;AAAA;QAAA,EAAQ,WAAU,6DAAlB,EAAgF,SAAS,OAAzF;QACE,6DAAkB,IAAG,eAArB;AADF,OADF;AAKD;;AAxBM,sBA0BmC,KAAK,UA1BxC;AAAA,QA0BC,aA1BD,eA0BC,aA1BD;AAAA,QA0BgB,cA1BhB,eA0BgB,cA1BhB;;;AA4BP,WACE;AAAA;MAAA,EAAQ,WAAU,cAAlB;MACE,8BAAC,aAAD,OADF;MAEE,8BAAC,cAAD;AAFF,KADF;AAMD,G;;;;;AAnEG,Y,CACG,Y,GAAe;AACpB,YAAU,iBAAU,MAAV,CAAiB;AADP,C;AADlB,Y,CAKG,S,GAAY;AACjB,QAAM,iBAAU,MAAV,CAAiB,UADN;AAEjB,YAAU,iBAAU,IAAV,CAAe,UAFR;AAGjB,aAAW,iBAAU,IAAV,CAAe,UAHT;AAIjB,WAAS,iBAAU,IAAV,CAAe;AAJP,C;AALf,Y,CAYG,Y,GAAe;AACpB,aAAW;AADS,C;kBA0DT,Y","file":"DialogFooter.react.js","sourcesContent":["/*\n * Copyright (C) 2015-2016 Actor LLC. <https://actor.im>\n */\n\nimport { isFunction } from 'lodash';\nimport React, { Component, PropTypes } from 'react';\nimport { FormattedMessage } from 'react-intl';\n\nimport DefaultTyping from './TypingSection.react';\nimport DefaultCompose from './ComposeSection.react';\n\nclass DialogFooter extends Component {\n  static contextTypes = {\n    delegate: PropTypes.object.isRequired\n  };\n\n  static propTypes = {\n    info: PropTypes.object.isRequired,\n    isMember: PropTypes.bool.isRequired,\n    onUnblock: PropTypes.func.isRequired,\n    onStart: PropTypes.func.isRequired\n  };\n\n  static defaultProps = {\n    isBlocked: false\n  };\n\n  constructor(props, context) {\n    super(props, context);\n\n    const { dialog } = context.delegate.components;\n    if (dialog && !isFunction(dialog)) {\n      this.components = {\n        TypingSection: dialog.typing || DefaultTyping,\n        ComposeSection: dialog.compose || DefaultCompose\n      };\n    } else {\n      this.components = {\n        TypingSection: DefaultTyping,\n        ComposeSection: DefaultCompose\n      };\n    }\n  }\n\n  render() {\n    const { info, isMember, onUnblock, onStart } = this.props;\n    if (!isMember) {\n      return (\n        <footer className=\"chat__footer chat__footer--disabled\">\n          <FormattedMessage id=\"compose.notMemger\" />\n        </footer>\n      );\n    }\n\n    if (info.isBlocked) {\n      return (\n        <footer className=\"chat__footer chat__footer--disabled chat__footer--clickable\" onClick={onUnblock}>\n          <FormattedMessage id=\"compose.unblock\" />\n        </footer>\n      );\n    }\n\n    if (info.isBot && !info.isStarted) {\n      return (\n        <footer className=\"chat__footer chat__footer--disabled chat__footer--clickable\" onClick={onStart}>\n          <FormattedMessage id=\"compose.start\" />\n        </footer>\n      );\n    }\n\n    const { TypingSection, ComposeSection } = this.components;\n\n    return (\n      <footer className=\"chat__footer\">\n        <TypingSection />\n        <ComposeSection />\n      </footer>\n    );\n  }\n}\n\nexport default DialogFooter;\n"]}