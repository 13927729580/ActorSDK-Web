{"version":3,"sources":["../../../src/components/dialog/MessagesList.react.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;IASM,YAAY;YAAZ,YAAY;;WAAZ,YAAY;0BAAZ,YAAY;;;;;AAAZ,cAAY,WAehB,aAAa,4BAAG;iBACgC,IAAI,CAAC,KAAK;QAAjD,IAAI,UAAJ,IAAI;QAAE,QAAQ,UAAR,QAAQ;QAAE,mBAAmB,UAAnB,mBAAmB;;AAE1C,QAAI,QAAQ,IAAI,mBAAmB,EAAE;AACnC,aAAO,mDAAS,IAAI,EAAE,IAAI,AAAC,GAAG,CAAC;KAChC;;AAED,WAAO,IAAI,CAAC;GACb;;AAvBG,cAAY,WAyBhB,aAAa,4BAAG;kBAC0B,IAAI,CAAC,KAAK;QAA3C,mBAAmB,WAAnB,mBAAmB;QAAE,QAAQ,WAAR,QAAQ;;AAEpC,QAAI,CAAC,mBAAmB,IAAI,QAAQ,CAAC,MAAM,IAAI,EAAE,EAAE;AACjD,aAAO,sDAAW,CAAC;KACpB;;AAED,WAAO,IAAI,CAAC;GACb;;AAjCG,cAAY,WAmChB,cAAc,6BAAG;;;kBACiD,IAAI,CAAC,KAAK;QAAnE,QAAQ,WAAR,QAAQ;QAAE,gBAAgB,WAAhB,gBAAgB;QAAE,IAAI,WAAJ,IAAI;QAAE,OAAO,WAAP,OAAO;QAAE,UAAU,WAAV,UAAU;QACrD,WAAW,GAAI,IAAI,CAAC,KAAK,CAAC,UAAU,CAApC,WAAW;;AAElB,QAAM,MAAM,GAAG,EAAE,CAAC;AAClB,yBAAQ,QAAQ,EAAE,UAAC,OAAO,EAAE,KAAK,EAAK;AACpC,UAAM,WAAW,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC;AACnC,UAAI,WAAW,IAAI,WAAW,CAAC,WAAW,EAAE;AAC1C,cAAM,CAAC,IAAI,CACT;;YAAI,SAAS,EAAC,cAAc,EAAC,GAAG,QAAM,KAAK,AAAG;UAC3C,WAAW,CAAC,WAAW;SACrB,CACN,CAAC;OACH;;AAED,YAAM,CAAC,IAAI,CACT,8BAAC,WAAW;AACV,WAAG,EAAE,OAAO,CAAC,OAAO,AAAC;AACrB,eAAO,EAAE,OAAO,AAAC;AACjB,eAAO,EAAE,OAAO,CAAC,KAAK,CAAC,AAAC;AACxB,kBAAU,EAAE,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,AAAC;AAC9C,gBAAQ,EAAE,OAAK,KAAK,CAAC,QAAQ,AAAC;AAC9B,0BAAkB,EAAE,OAAK,KAAK,CAAC,yBAAyB,AAAC;AACzD,YAAI,EAAE,IAAI,AAAC;QACX,CACH,CAAC;KACH,CAAC,CAAC;;AAEH,WAAO,MAAM,CAAC;GACf;;AAhEG,cAAY,WAkEhB,MAAM,qBAAG;AACP,WACE;;QAAI,SAAS,EAAC,gBAAgB;MAC3B,IAAI,CAAC,aAAa,EAAE;MACpB,IAAI,CAAC,aAAa,EAAE;MACpB,IAAI,CAAC,cAAc,EAAE;KACnB,CACN;GACF;;SA1EG,YAAY;;;AAAZ,YAAY,CACT,SAAS,GAAG;AACjB,UAAQ,EAAE,iBAAU,KAAK,CAAC,UAAU;AACpC,kBAAgB,EAAE,iBAAU,MAAM,CAAC,UAAU;AAC7C,MAAI,EAAE,iBAAU,MAAM,CAAC,UAAU;AACjC,SAAO,EAAE,iBAAU,KAAK,CAAC,UAAU;AACnC,UAAQ,EAAE,iBAAU,IAAI,CAAC,UAAU;AACnC,qBAAmB,EAAE,iBAAU,IAAI,CAAC,UAAU;AAC9C,YAAU,EAAE,iBAAU,KAAK,CAAC;AAC1B,eAAW,EAAE,iBAAU,IAAI,CAAC,UAAU;GACvC,CAAC,CAAC,UAAU;AACb,UAAQ,EAAE,iBAAU,IAAI,CAAC,UAAU;AACnC,2BAAyB,EAAE,iBAAU,IAAI,CAAC,UAAU;CACrD;kBAgEY,YAAY","file":"MessagesList.react.js","sourcesContent":["/*\n * Copyright (C) 2015-2016 Actor LLC. <https://actor.im>\n */\n\nimport { forEach } from 'lodash';\nimport React, { Component, PropTypes } from 'react';\nimport Loading from './messages/Loading.react';\nimport Welcome from './messages/Welcome.react';\n\nclass MessagesList extends Component {\n  static propTypes = {\n    messages: PropTypes.array.isRequired,\n    selectedMessages: PropTypes.object.isRequired,\n    peer: PropTypes.object.isRequired,\n    overlay: PropTypes.array.isRequired,\n    isMember: PropTypes.bool.isRequired,\n    isAllMessagesLoaded: PropTypes.bool.isRequired,\n    components: PropTypes.shape({\n      MessageItem: PropTypes.func.isRequired\n    }).isRequired,\n    onSelect: PropTypes.func.isRequired,\n    onMessageVisibilityChange: PropTypes.func.isRequired\n  }\n\n  renderWelcome() {\n    const {peer, isMember, isAllMessagesLoaded} = this.props;\n\n    if (isMember && isAllMessagesLoaded) {\n      return <Welcome peer={peer} />;\n    }\n\n    return null;\n  }\n\n  renderLoading() {\n    const {isAllMessagesLoaded, messages} = this.props;\n\n    if (!isAllMessagesLoaded && messages.length >= 30) {\n      return <Loading />;\n    }\n\n    return null;\n  }\n\n  renderMessages() {\n    const {messages, selectedMessages, peer, overlay, components} = this.props;\n    const {MessageItem} = this.props.components;\n\n    const result = [];\n    forEach(messages, (message, index) => {\n      const overlayItem = overlay[index];\n      if (overlayItem && overlayItem.dateDivider) {\n        result.push(\n          <li className=\"date-divider\" key={`o${index}`}>\n            {overlayItem.dateDivider}\n          </li>\n        );\n      }\n\n      result.push(\n        <MessageItem\n          key={message.sortKey}\n          message={message}\n          overlay={overlay[index]}\n          isSelected={selectedMessages.has(message.rid)}\n          onSelect={this.props.onSelect}\n          onVisibilityChange={this.props.onMessageVisibilityChange}\n          peer={peer}\n        />\n      );\n    });\n\n    return result;\n  }\n\n  render() {\n    return (\n      <ul className=\"messages__list\">\n        {this.renderWelcome()}\n        {this.renderLoading()}\n        {this.renderMessages()}\n      </ul>\n    )\n  }\n}\n\nexport default MessagesList;\n"]}