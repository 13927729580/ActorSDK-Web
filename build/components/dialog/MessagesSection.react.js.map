{"version":3,"sources":["../../../src/components/dialog/MessagesSection.react.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAIA;;;;AACA;;AAEA;;;;AACA;;;;AAEA;;;;AACA;;;;AAEA;;;;;;IAEM;;;kBAMG,iCAAY;AACjB,WAAO,wBAAP,CADiB;;;AANf,kBAUG,2CAAiB;AACtB,WAAO;AACL,WAAK,oBAAU,OAAV,EAAL;AACA,gBAAU,uBAAa,QAAb,EAAV;KAFF,CADsB;;;AAOxB,WAjBI,eAiBJ,CAAY,KAAZ,EAAmB;wCAjBf,iBAiBe;;+DACjB,sBAAM,KAAN,GADiB;;AAGjB,UAAK,QAAL,GAAgB,MAAK,QAAL,CAAc,IAAd,OAAhB,CAHiB;AAIjB,UAAK,UAAL,GAAkB,MAAK,UAAL,CAAgB,IAAhB,OAAlB,CAJiB;;GAAnB;;AAjBI,4BAwBJ,6BAAS,KAAK;AACZ,oCAAsB,cAAtB,CAAqC,GAArC,EADY;;;AAxBV,4BA4BJ,mCAAa;AACX,mCAAqB,gBAArB,CAAsC,KAAK,KAAL,CAAW,IAAX,CAAtC,CADW;;;AA5BT,4BAgCJ,2BAAS;iBACoB,KAAK,KAAL,CADpB;QACC,mBADD;QACO,2BADP;iBAOH,KAAK,KAAL,CAPG;QAGL,iBAHK;iCAIL,SAJK;QAKH,oCALG;QAKO,kCALP;QAKgB,0CALhB;QAK6B,oCAL7B;QAKuC,oCALvC;QAKiD,sCALjD;QAK4D,8BAL5D;QAKmE,oCALnE;;;AASP,WACE;AACE,WAAK,GAAL;AACA,YAAM,IAAN;AACA,gBAAU,QAAV;AACA,gBAAU,QAAV;AACA,eAAS,OAAT;AACA,gBAAU,QAAV;AACA,mBAAa,WAAb;AACA,aAAO,KAAP;AACA,gBAAU,QAAV;AACA,gBAAU,QAAV;AACA,iBAAW,SAAX;AACA,gBAAU,KAAK,QAAL;AACV,kBAAY,KAAK,UAAL;KAbd,CADF,CATO;;;SAhCL;;;;;gBACG,YAAY;AACjB,QAAM,iBAAU,MAAV,CAAiB,UAAjB;AACN,YAAU,iBAAU,IAAV,CAAe,UAAf;;kBA0DC,iBAAU,MAAV,CAAiB,eAAjB,EAAkC,EAAE,WAAW,IAAX,EAApC","file":"MessagesSection.react.js","sourcesContent":["/*\n * Copyright (C) 2015-2016 Actor LLC. <https://actor.im>\n */\n\nimport React, { Component, PropTypes } from 'react';\nimport { Container } from 'flux/utils';\n\nimport DialogActionCreators from '../../actions/DialogActionCreators';\nimport MessageActionCreators from '../../actions/MessageActionCreators';\n\nimport UserStore from '../../stores/UserStore';\nimport MessageStore from '../../stores/MessageStore';\n\nimport MessagesList from './MessagesList.react';\n\nclass MessagesSection extends Component {\n  static propTypes = {\n    peer: PropTypes.object.isRequired,\n    isMember: PropTypes.bool.isRequired\n  };\n\n  static getStores() {\n    return [MessageStore];\n  }\n\n  static calculateState() {\n    return {\n      uid: UserStore.getMyId(),\n      messages: MessageStore.getState()\n    };\n  }\n\n  constructor(props) {\n    super(props);\n\n    this.onSelect = this.onSelect.bind(this);\n    this.onLoadMore = this.onLoadMore.bind(this);\n  }\n\n  onSelect(rid) {\n    MessageActionCreators.toggleSelected(rid);\n  }\n\n  onLoadMore() {\n    DialogActionCreators.loadMoreMessages(this.props.peer);\n  }\n\n  render() {\n    const { peer, isMember } = this.props;\n    const {\n      uid,\n      messages: {\n        messages, overlay, receiveDate, readDate, isLoaded, isLoading, count, selected\n      }\n    } = this.state;\n\n    return (\n      <MessagesList\n        uid={uid}\n        peer={peer}\n        isMember={isMember}\n        messages={messages}\n        overlay={overlay}\n        readDate={readDate}\n        receiveDate={receiveDate}\n        count={count}\n        selected={selected}\n        isLoaded={isLoaded}\n        isLoading={isLoading}\n        onSelect={this.onSelect}\n        onLoadMore={this.onLoadMore}\n      />\n    );\n  }\n}\n\nexport default Container.create(MessagesSection, { withProps: true });\n"]}