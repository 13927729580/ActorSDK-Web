{"version":3,"sources":["../../../src/components/dialog/MessagesSection.react.js"],"names":[],"mappings":";;;;AAIA;;;;AACA;;AAEA;;;;AACA;;;;AAEA;;;;AACA;;;;AACA;;;;AAEA;;;;;;;;;;;;;;IAEM,e;;;kBAMG,S,wBAAY;AACjB,WAAO,oDAAP;AACD,G;;kBAEM,c,6BAAiB;AACtB,WAAO;AACL,WAAK,oBAAU,OAAV,EADA;AAEL,gBAAU,uBAAa,QAAb,EAFL;AAGL,mBAAa,2BAAiB,QAAjB;AAHR,KAAP;AAKD,G;;AAED,2BAAY,KAAZ,EAAmB;AAAA;;AAAA,iDACjB,sBAAM,KAAN,CADiB;;AAGjB,UAAK,MAAL,GAAc,MAAK,MAAL,CAAY,IAAZ,OAAd;AACA,UAAK,QAAL,GAAgB,MAAK,QAAL,CAAc,IAAd,OAAhB;AACA,UAAK,UAAL,GAAkB,MAAK,UAAL,CAAgB,IAAhB,OAAlB;AALiB;AAMlB;;4BAED,M,mBAAO,O,EAAS,I,EAAM;AAAA,QACZ,IADY,GACH,KAAK,KADF,CACZ,IADY;;AAEpB,oCAAsB,OAAtB,CAA8B,IAA9B,EAAoC,OAApC,EAA6C,IAA7C;AACD,G;;4BAED,Q,qBAAS,G,EAAK;AACZ,oCAAsB,cAAtB,CAAqC,GAArC;AACD,G;;4BAED,U,yBAAa;AACX,mCAAqB,gBAArB,CAAsC,KAAK,KAAL,CAAW,IAAjD;AACD,G;;4BAED,M,qBAAS;AAAA,iBACoB,KAAK,KADzB;AAAA,QACC,IADD,UACC,IADD;AAAA,QACO,QADP,UACO,QADP;AAAA,iBAEgC,KAAK,KAFrC;AAAA,QAEC,GAFD,UAEC,GAFD;AAAA,QAEM,QAFN,UAEM,QAFN;AAAA,QAEgB,WAFhB,UAEgB,WAFhB;;;AAIP,WACE;AACE,WAAK,GADP;AAEE,YAAM,IAFR;AAGE,gBAAU,QAHZ;AAIE,mBAAa,WAJf;AAKE,gBAAU,QALZ;AAME,gBAAU,KAAK,QANjB;AAOE,kBAAY,KAAK,UAPnB;AAQE,cAAQ,KAAK;AARf,MADF;AAYD,G;;;;;AAvDG,e,CACG,S,GAAY;AACjB,QAAM,iBAAU,MAAV,CAAiB,UADN;AAEjB,YAAU,iBAAU,IAAV,CAAe;AAFR,C;kBAyDN,iBAAU,MAAV,CAAiB,eAAjB,EAAkC,EAAE,WAAW,IAAb,EAAlC,C","file":"MessagesSection.react.js","sourcesContent":["/*\n * Copyright (C) 2015-2016 Actor LLC. <https://actor.im>\n */\n\nimport React, { Component, PropTypes } from 'react';\nimport { Container } from 'flux/utils';\n\nimport DialogActionCreators from '../../actions/DialogActionCreators';\nimport MessageActionCreators from '../../actions/MessageActionCreators';\n\nimport UserStore from '../../stores/UserStore';\nimport MessageStore from '../../stores/MessageStore';\nimport EditMessageStore from '../../stores/EditMessageStore';\n\nimport MessagesList from './MessagesList.react';\n\nclass MessagesSection extends Component {\n  static propTypes = {\n    peer: PropTypes.object.isRequired,\n    isMember: PropTypes.bool.isRequired\n  };\n\n  static getStores() {\n    return [MessageStore, EditMessageStore];\n  }\n\n  static calculateState() {\n    return {\n      uid: UserStore.getMyId(),\n      messages: MessageStore.getState(),\n      editMessage: EditMessageStore.getState()\n    };\n  }\n\n  constructor(props) {\n    super(props);\n\n    this.onEdit = this.onEdit.bind(this);\n    this.onSelect = this.onSelect.bind(this);\n    this.onLoadMore = this.onLoadMore.bind(this);\n  }\n\n  onEdit(message, text) {\n    const { peer } = this.props;\n    MessageActionCreators.endEdit(peer, message, text);\n  }\n\n  onSelect(rid) {\n    MessageActionCreators.toggleSelected(rid);\n  }\n\n  onLoadMore() {\n    DialogActionCreators.loadMoreMessages(this.props.peer);\n  }\n\n  render() {\n    const { peer, isMember } = this.props;\n    const { uid, messages, editMessage } = this.state;\n\n    return (\n      <MessagesList\n        uid={uid}\n        peer={peer}\n        messages={messages}\n        editMessage={editMessage}\n        isMember={isMember}\n        onSelect={this.onSelect}\n        onLoadMore={this.onLoadMore}\n        onEdit={this.onEdit}\n      />\n    );\n  }\n}\n\nexport default Container.create(MessagesSection, { withProps: true });\n"]}