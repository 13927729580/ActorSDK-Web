{"version":3,"sources":["../../../src/components/dialog/MessagesSection.react.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAIA;;;;AACA;;AAEA;;;;AACA;;;;AAEA;;;;AACA;;;;AAEA;;;;;;IAEM;;;kBAMG,iCAAY;AACjB,WAAO,wBAAP,CADiB;;;AANf,kBAUG,2CAAiB;AACtB,WAAO;AACL,WAAK,oBAAU,OAAV,EAAL;AACA,gBAAU,uBAAa,QAAb,EAAV;KAFF,CADsB;;;AAOxB,WAjBI,eAiBJ,CAAY,KAAZ,EAAmB;wCAjBf,iBAiBe;;+DACjB,sBAAM,KAAN,GADiB;;AAGjB,UAAK,QAAL,GAAgB,MAAK,QAAL,CAAc,IAAd,OAAhB,CAHiB;AAIjB,UAAK,UAAL,GAAkB,MAAK,UAAL,CAAgB,IAAhB,OAAlB,CAJiB;;GAAnB;;AAjBI,4BAwBJ,6BAAS,KAAK;QACJ,WAAa,KAAK,KAAL,CAAW,QAAX,CAAb,SADI;;AAEZ,QAAI,SAAS,GAAT,CAAa,GAAb,CAAJ,EAAuB;AACrB,sCAAsB,WAAtB,CAAkC,SAAS,MAAT,CAAgB,GAAhB,CAAlC,EADqB;KAAvB,MAEO;AACL,sCAAsB,WAAtB,CAAkC,SAAS,GAAT,CAAa,GAAb,CAAlC,EADK;KAFP;;;AA1BE,4BAiCJ,mCAAa;QACH,OAAS,KAAK,KAAL,CAAT,KADG;;AAEX,mCAAqB,gBAArB,CAAsC,IAAtC,EAFW;;;AAjCT,4BAsCJ,2BAAS;iBACoB,KAAK,KAAL,CADpB;QACC,mBADD;QACO,2BADP;iBAID,KAAK,KAAL,CAJC;QAEC,iBAFD;iCAEM,SAFN;QAGL,oCAHK;QAGK,kCAHL;QAGc,oCAHd;QAGwB,0CAHxB;QAGqC,oCAHrC;QAG+C,8BAH/C;QAGsD,oCAHtD;;;AAMP,WACE;AACE,WAAK,GAAL;AACA,YAAM,IAAN;AACA,gBAAU,QAAV;AACA,gBAAU,QAAV;AACA,eAAS,OAAT;AACA,aAAO,KAAP;AACA,gBAAU,QAAV;AACA,gBAAU,QAAV;AACA,mBAAa,WAAb;AACA,gBAAU,QAAV;AACA,gBAAU,KAAK,QAAL;AACV,kBAAY,KAAK,UAAL;KAZd,CADF,CANO;;;SAtCL;;;;;gBACG,YAAY;AACjB,QAAM,iBAAU,MAAV,CAAiB,UAAjB;AACN,YAAU,iBAAU,IAAV,CAAe,UAAf;;kBA4DC,iBAAU,MAAV,CAAiB,eAAjB,EAAkC,EAAE,WAAW,IAAX,EAApC","file":"MessagesSection.react.js","sourcesContent":["/*\n * Copyright (C) 2015-2016 Actor LLC. <https://actor.im>\n */\n\nimport React, { Component, PropTypes } from 'react';\nimport { Container } from 'flux/utils';\n\nimport MessageActionCreators from '../../actions/MessageActionCreators';\nimport DialogActionCreators from '../../actions/DialogActionCreators';\n\nimport UserStore from '../../stores/UserStore';\nimport MessageStore from '../../stores/MessageStore';\n\nimport MessagesList from './MessagesList.react';\n\nclass MessagesSection extends Component {\n  static propTypes = {\n    peer: PropTypes.object.isRequired,\n    isMember: PropTypes.bool.isRequired\n  };\n\n  static getStores() {\n    return [MessageStore];\n  }\n\n  static calculateState() {\n    return {\n      uid: UserStore.getMyId(),\n      messages: MessageStore.getState()\n    };\n  }\n\n  constructor(props) {\n    super(props);\n\n    this.onSelect = this.onSelect.bind(this);\n    this.onLoadMore = this.onLoadMore.bind(this);\n  }\n\n  onSelect(rid) {\n    const { selected } = this.state.messages;\n    if (selected.has(rid)) {\n      MessageActionCreators.setSelected(selected.remove(rid));\n    } else {\n      MessageActionCreators.setSelected(selected.add(rid));\n    }\n  }\n\n  onLoadMore() {\n    const { peer } = this.props;\n    DialogActionCreators.loadMoreMessages(peer);\n  }\n\n  render() {\n    const { peer, isMember } = this.props;\n    const { uid, messages: {\n      messages, overlay, isLoaded, receiveDate, readDate, count, selected\n    } } = this.state;\n\n    return (\n      <MessagesList\n        uid={uid}\n        peer={peer}\n        isMember={isMember}\n        messages={messages}\n        overlay={overlay}\n        count={count}\n        selected={selected}\n        isLoaded={isLoaded}\n        receiveDate={receiveDate}\n        readDate={readDate}\n        onSelect={this.onSelect}\n        onLoadMore={this.onLoadMore}\n      />\n    );\n  }\n}\n\nexport default Container.create(MessagesSection, { withProps: true });\n"]}