{"version":3,"sources":["../../../src/components/search/SearchInput.react.js"],"names":[],"mappings":"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","file":"SearchInput.react.js","sourcesContent":["/*\n * Copyright (C) 2015 Actor LLC. <https://actor.im>\n */\n\nimport React, { Component, PropTypes } from 'react';\nimport classnames from 'classnames';\n\nimport { KeyCodes } from '../../constants/ActorAppConstants';\n\nclass SearchInput extends Component {\n  static contextTypes = {\n    intl: PropTypes.object.isRequired\n  };\n\n  static propTypes = {\n    className: PropTypes.string,\n    value: PropTypes.string.isRequired,\n    isOpen: PropTypes.bool.isRequired,\n    isFocused: PropTypes.bool.isRequired,\n    onChange: PropTypes.func.isRequired,\n    onToggleOpen: PropTypes.func.isRequired,\n    onToggleFocus: PropTypes.func.isRequired\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.onChange = this.onChange.bind(this);\n    this.onFocus = this.onFocus.bind(this);\n    this.onBlur = this.onBlur.bind(this);\n    this.onKeyDown = this.onKeyDown.bind(this);\n    this.onClear = this.onClear.bind(this);\n  }\n\n  componentDidMount() {\n    document.addEventListener('keydown', this.onKeyDown, false);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('keydown', this.onKeyDown, false);\n  }\n\n  onChange(event) {\n    this.props.onChange(event.target.value);\n  }\n\n  onFocus() {\n    if (this.props.value.length) {\n      this.props.onToggleOpen(true);\n    }\n\n    this.props.onToggleFocus(true);\n  }\n\n  onBlur() {\n    if (!this.props.value.length) {\n      this.props.onToggleOpen(false);\n    }\n\n    this.props.onToggleFocus(false);\n  }\n\n  onClear() {\n    this.props.onChange('');\n    this.props.onToggleOpen(false);\n    this.props.onToggleFocus(false);\n  }\n\n  onKeyDown(event) {\n    if (this.props.isOpen && event.keyCode === KeyCodes.ESC) {\n      event.preventDefault();\n      this.onClear();\n    }\n  }\n\n  renderClose() {\n    if (!this.props.value.length) {\n      return null;\n    }\n\n    return (\n      <i className=\"close-icon material-icons\" onClick={this.onClear}>close</i>\n    );\n  }\n\n  render() {\n    const { className, value, isFocused } = this.props;\n    const { intl } = this.context;\n\n    const searchClassName = classnames('toolbar__search', className, {\n      'toolbar__search--focused': isFocused || value.length\n    });\n\n    return (\n      <div className={searchClassName}>\n        <input\n          className=\"input input--search\"\n          type=\"search\"\n          tabIndex=\"1\"\n          value={value}\n          placeholder={intl.messages['search.placeholder']}\n          onFocus={this.onFocus}\n          onBlur={this.onBlur}\n          onChange={this.onChange}\n        />\n        <i className=\"search-icon material-icons\">search</i>\n        {this.renderClose()}\n      </div>\n    );\n  }\n}\n\nexport default SearchInput;\n"]}