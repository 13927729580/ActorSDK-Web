{"version":3,"sources":["../../../src/components/search/SearchInput.react.js"],"names":[],"mappings":"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","file":"SearchInput.react.js","sourcesContent":["/*\n * Copyright (C) 2015 Actor LLC. <https://actor.im>\n */\n\nimport React, { Component, PropTypes } from 'react';\nimport classnames from 'classnames';\n\nimport { KeyCodes } from '../../constants/ActorAppConstants';\n\nclass SearchInput extends Component {\n  static contextTypes = {\n    intl: PropTypes.object.isRequired\n  };\n\n  static propTypes = {\n    className: PropTypes.string,\n    value: PropTypes.string.isRequired,\n    isOpen: PropTypes.bool.isRequired,\n    isFocused: PropTypes.bool.isRequired,\n    onChange: PropTypes.func.isRequired,\n    onToggleOpen: PropTypes.func.isRequired,\n    onToggleFocus: PropTypes.func.isRequired\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.onChange = this.onChange.bind(this);\n    this.onFocus = this.onFocus.bind(this);\n    this.onBlur = this.onBlur.bind(this);\n    this.onKeyDown = this.onKeyDown.bind(this);\n    this.onClear = this.onClear.bind(this);\n  }\n\n  componentDidMount() {\n    document.addEventListener('keydown', this.onKeyDown, false);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('keydown', this.onKeyDown, false);\n  }\n\n  onChange(event) {\n    this.props.onChange(event.target.value);\n  }\n\n  onFocus() {\n    if (this.props.value.length) {\n      this.props.onToggleOpen(true);\n    }\n\n    this.props.onToggleFocus(true);\n  }\n\n  onBlur() {\n    if (!this.props.value.length) {\n      this.props.onToggleOpen(false);\n    }\n\n    this.props.onToggleFocus(false);\n  }\n\n  onClear() {\n    this.props.onChange('');\n    this.props.onToggleOpen(false);\n    this.props.onToggleFocus(false);\n  }\n\n  onKeyDown(event) {\n    if (this.props.isOpen && event.keyCode === KeyCodes.ESC) {\n      event.preventDefault();\n      this.onClear();\n    }\n  }\n\n  renderClose() {\n    if (!this.props.value.length) {\n      return null;\n    }\n\n    return (\n      <i className=\"close-icon material-icons\" onClick={this.onClear}>close</i>\n    );\n  }\n\n  render() {\n    const { className, value, isFocused } = this.props;\n    const { intl } = this.context;\n\n    const searchClassName = classnames('toolbar__search', className, {\n      'toolbar__search--focused': isFocused || value.length\n    });\n\n    return (\n      <div className={searchClassName}>\n        <input\n          className=\"input input--search\"\n          type=\"search\"\n          tabIndex=\"1\"\n          value={value}\n          placeholder={intl.messages['search.placeholder']}\n          onFocus={this.onFocus}\n          onBlur={this.onBlur}\n          onChange={this.onChange}\n        />\n        <i className=\"search-icon material-icons\">search</i>\n        {this.renderClose()}\n      </div>\n    );\n  }\n}\n\nexport default SearchInput;\n"]}