{"version":3,"sources":["../../src/components/Activity.react.js"],"names":[],"mappings":";;;;AAIA;;;;AACA;;AACA;;AACA;;AAEA;;;;AACA;;;;AACA;;;;AAEA;;;;AACA;;;;;;;;;;;;;;IAEM,e;;;kBACG,S,wBAAY;AACjB,WAAO,2EAAP;AACD,G;;kBAEM,c,6BAAiB;AACtB,WAAO;AACL,YAAM,sBAAY,cAAZ,EADD;AAEL,YAAM,0BAAgB,QAAhB,EAFD;AAGL,cAAQ,wBAAc,MAAd;AAHH,KAAP;AAKD,G;;AAED,2BAAY,KAAZ,EAAmB;AAAA;;AAAA,iDACjB,sBAAM,KAAN,CADiB;;AAGjB,UAAK,qBAAL,GAA6B,kDAAsB,IAAtB,OAA7B;AAHiB;AAIlB;;4BAED,kB,iCAAqB;AACnB,iBAAa,YAAM;AACjB,aAAO,aAAP,CAAqB,IAAI,KAAJ,CAAU,QAAV,CAArB;AACD,KAFD;AAGD,G;;4BAED,U,yBAAa;AAAA,iBACY,KAAK,KADjB;AAAA,QACH,IADG,UACH,IADG;AAAA,QACG,IADH,UACG,IADH;;;AAGX,YAAQ,KAAK,IAAb;AACE,WAAK,6BAAU,IAAf;AACE,eAAO,uDAAa,MAAM,IAAnB,GAAP;AACF,WAAK,6BAAU,KAAf;AACE,eAAO,wDAAc,OAAO,IAArB,GAAP;AACF;AACE,eAAO,IAAP;AANJ;AAQD,G;;4BAED,M,qBAAS;AAAA,kBACkB,KAAK,KADvB;AAAA,QACC,IADD,WACC,IADD;AAAA,QACO,MADP,WACO,MADP;;AAEP,QAAI,CAAC,MAAD,IAAW,CAAC,IAAhB,EAAsB;AACpB,aAAO,2CAAS,WAAU,UAAnB,GAAP;AACD;;AAED,WACE;AAAA;MAAA,EAAS,WAAU,0BAAnB;MACG,KAAK,UAAL;AADH,KADF;AAKD,G;;;;;kBAGY,iBAAU,MAAV,CAAiB,eAAjB,C","file":"Activity.react.js","sourcesContent":["/*\n * Copyright (C) 2015-2016 Actor LLC. <https://actor.im>\n */\n\nimport React, { Component } from 'react';\nimport { shouldComponentUpdate } from 'react-addons-pure-render-mixin';\nimport { Container } from 'flux/utils';\nimport { PeerTypes } from '../constants/ActorAppConstants';\n\nimport ActivityStore from '../stores/ActivityStore';\nimport DialogStore from '../stores/DialogStore';\nimport DialogInfoStore from '../stores/DialogInfoStore';\n\nimport UserProfile from './activity/UserProfile.react';\nimport GroupProfile from './activity/GroupProfile.react';\n\nclass ActivitySection extends Component {\n  static getStores() {\n    return [DialogStore, DialogInfoStore, ActivityStore];\n  }\n\n  static calculateState() {\n    return {\n      peer: DialogStore.getCurrentPeer(),\n      info: DialogInfoStore.getState(),\n      isOpen: ActivityStore.isOpen()\n    };\n  }\n\n  constructor(props) {\n    super(props);\n\n    this.shouldComponentUpdate = shouldComponentUpdate.bind(this);\n  }\n\n  componentDidUpdate() {\n    setImmediate(() => {\n      window.dispatchEvent(new Event('resize'));\n    });\n  }\n\n  renderBody() {\n    const { peer, info } = this.state;\n\n    switch (peer.type) {\n      case PeerTypes.USER:\n        return <UserProfile user={info} />;\n      case PeerTypes.GROUP:\n        return <GroupProfile group={info}/>;\n      default:\n        return null;\n    }\n  }\n\n  render() {\n    const { peer, isOpen } = this.state;\n    if (!isOpen || !peer) {\n      return <section className=\"activity\" />;\n    }\n\n    return (\n      <section className=\"activity activity--shown\">\n        {this.renderBody()}\n      </section>\n    );\n  }\n}\n\nexport default Container.create(ActivitySection);\n"]}