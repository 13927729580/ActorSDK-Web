{"version":3,"sources":["../../src/components/Toolbar.react.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAiBM,cAAc;YAAd,cAAc;;AAClB,WADI,cAAc,CACN,KAAK,EAAE;0BADf,cAAc;;uEAAd,cAAc,aAEV,KAAK;;UAab,OAAO,GAAG,YAAM;AACd,UAAI,CAAC,MAAK,KAAK,CAAC,cAAc,EAAE;AAC9B,yCAAuB,IAAI,EAAE,CAAC;OAC/B,MAAM;AACL,yCAAuB,IAAI,EAAE,CAAC;OAC/B;KACF;;;GAlBA;;eAHG,cAAc;;6BAuBT;mBACyC,IAAI,CAAC,KAAK;UAAlD,UAAU,UAAV,UAAU;UAAE,cAAc,UAAd,cAAc;UAAE,OAAO,UAAP,OAAO;;AAE3C,UAAM,mBAAmB,GAAG,0BAAW,qBAAqB,EAAE;AAC5D,gBAAQ,EAAE,cAAc;OACzB,CAAC,CAAC;;AAEH,UAAI,UAAU,KAAK,IAAI,EAAE;AACvB,eACE;;YAAQ,SAAS,EAAC,aAAa;UAC7B,sDAAY,KAAK,EAAE,UAAU,CAAC,MAAM,AAAC;AACzB,uBAAW,EAAE,UAAU,CAAC,WAAW,AAAC;AACpC,gBAAI,EAAC,QAAQ;AACb,iBAAK,EAAE,UAAU,CAAC,IAAI,AAAC,GAAE;UAGrC;;cAAK,SAAS,EAAC,sBAAsB;YACnC,wCAAM,SAAS,EAAC,sBAAsB,EAAC,uBAAuB,EAAE,EAAC,MAAM,EAAE,iCAAgB,UAAU,CAAC,IAAI,CAAC,EAAC,AAAC,GAAE;YAC7G;;gBAAM,SAAS,EAAC,wBAAwB;cAAE,OAAO;aAAQ;WACrD;UAEN;;cAAK,SAAS,EAAC,mBAAmB;YAChC;;gBAAK,SAAS,EAAC,uCAAuC;cACpD;;kBAAQ,SAAS,EAAE,mBAAmB,AAAC,EAAC,OAAO,EAAE,IAAI,CAAC,OAAO,AAAC;gBAC5D;;oBAAG,SAAS,EAAC,gBAAgB;;iBAAS;eAC/B;cACT;;kBAAQ,SAAS,EAAC,0BAA0B;gBAC1C;;oBAAG,SAAS,EAAC,gBAAgB;;iBAAc;eACpC;aACL;WACF;SACC,CACT;OACH,MAAM;AACL,eACE,0CAAQ,SAAS,EAAC,SAAS,GAAE,CAC7B;OACH;KACF;;;qCAtDuB;AACtB,aAAO;AACL,kBAAU,EAAE,0BAAgB,OAAO,EAAE;AACrC,sBAAc,EAAE,wBAAc,MAAM,EAAE;AACtC,eAAO,EAAE,sBAAY,UAAU,EAAE;OAClC,CAAC;KACH;;;SAbG,cAAc;;;AAAd,cAAc,CAKX,SAAS,GAAG;SAAM,2EAA6C;CAAA;;kBA2DzD,iBAAU,MAAM,CAAC,cAAc,EAAE,EAAC,IAAI,EAAE,KAAK,EAAC,CAAC","file":"Toolbar.react.js","sourcesContent":["/*\n * Copyright (C) 2015-2016 Actor LLC. <https://actor.im>\n */\n\nimport React, { Component } from 'react';\nimport { Container } from 'flux/utils';\nimport classnames from 'classnames';\nimport { escapeWithEmoji } from '../utils/EmojiUtils';\n\nimport ActivityActionCreators from '../actions/ActivityActionCreators';\n\nimport AvatarItem from '../components/common/AvatarItem.react';\n\nimport DialogInfoStore from '../stores/DialogInfoStore';\nimport OnlineStore from '../stores/OnlineStore';\nimport ActivityStore from '../stores/ActivityStore';\n\nclass ToolbarSection extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  static getStores = () => [DialogInfoStore, ActivityStore, OnlineStore];\n\n  static calculateState() {\n    return {\n      dialogInfo: DialogInfoStore.getInfo(),\n      isActivityOpen: ActivityStore.isOpen(),\n      message: OnlineStore.getMessage()\n    };\n  }\n\n  onClick = () => {\n    if (!this.state.isActivityOpen) {\n      ActivityActionCreators.show();\n    } else {\n      ActivityActionCreators.hide();\n    }\n  };\n\n  render() {\n    const { dialogInfo, isActivityOpen, message } = this.state;\n\n    const infoButtonClassName = classnames('button button--icon', {\n      'active': isActivityOpen\n    });\n\n    if (dialogInfo !== null) {\n      return (\n        <header className=\"toolbar row\">\n          <AvatarItem image={dialogInfo.avatar}\n                      placeholder={dialogInfo.placeholder}\n                      size=\"medium\"\n                      title={dialogInfo.name}/>\n\n\n          <div className=\"toolbar__peer col-xs\">\n            <span className=\"toolbar__peer__title\" dangerouslySetInnerHTML={{__html: escapeWithEmoji(dialogInfo.name)}}/>\n            <span className=\"toolbar__peer__message\">{message}</span>\n          </div>\n\n          <div className=\"toolbar__controls\">\n            <div className=\"toolbar__controls__buttons pull-right\">\n              <button className={infoButtonClassName} onClick={this.onClick}>\n                <i className=\"material-icons\">info</i>\n              </button>\n              <button className=\"button button--icon hide\">\n                <i className=\"material-icons\">more_vert</i>\n              </button>\n            </div>\n          </div>\n        </header>\n      );\n    } else {\n      return (\n        <header className=\"toolbar\"/>\n      );\n    }\n  }\n}\n\nexport default Container.create(ToolbarSection, {pure: false});\n"]}