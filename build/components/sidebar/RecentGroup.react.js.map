{"version":3,"sources":["../../../src/components/sidebar/RecentGroup.react.js"],"names":[],"mappings":";;;;AAIA;;;;AACA;;AACA;;AACA;;;;AACA;;;;AACA;;;;;;;;;;;;;;IAEM,W;;;AAYJ,uBAAY,KAAZ,EAAmB;AAAA;;AAAA,iDACjB,sBAAM,KAAN,CADiB;;AAGjB,UAAK,qBAAL,GAA6B,kDAAsB,IAAtB,OAA7B;AAHiB;AAIlB;;wBAED,gB,+BAAmB;AAAA,iBACc,KAAK,KADnB;AAAA,QACT,KADS,UACT,KADS;AAAA,QACF,WADE,UACF,WADE;;AAEjB,QAAI,CAAC,WAAL,EAAkB;AAChB,aAAO,IAAP;AACD;;AAED,WACE;AAAA;MAAA;AACE,mBAAU,KADZ;AAEE,yBAAiB,IAFnB;AAGE,yBAAiB,CAHnB;AAIE,iBAAS,6DAAkB,wBAAsB,KAAtB,WAAlB,GAJX;MAKE;AAAA;QAAA,EAAG,WAAU,sDAAb,EAAoE,SAAS,WAA7E;QAAA;AAAA;AALF,KADF;AAWD,G;;wBAED,gB,+BAAmB;AAAA,kBACe,KAAK,KADpB;AAAA,QACT,KADS,WACT,KADS;AAAA,QACF,YADE,WACF,YADE;;;AAGjB,QAAM,eAAe,6DAAkB,yBAAuB,KAAzC,GAArB;AACA,QAAI,CAAC,YAAL,EAAmB;AACjB,aACE;AAAA;QAAA,EAAK,WAAU,uBAAf;QACE;AAAA;UAAA,EAAK,WAAU,sBAAf;UACG;AADH;AADF,OADF;AAOD;;AAED,QAAM,iBAAiB,6DAAkB,wBAAsB,KAAtB,SAAlB,GAAvB;;AAEA,WACE;AAAA;MAAA,EAAK,WAAU,uBAAf;MACE;AAAA;QAAA,EAAK,WAAU,sDAAf,EAAsE,SAAS,YAA/E;QACE;AAAA;UAAA;AACE,uBAAU,OADZ;AAEE,6BAAiB,IAFnB;AAGE,6BAAiB,CAHnB;AAIE,qBAAS;AAJX;UAMG;AANH;AADF,OADF;MAWG,KAAK,gBAAL;AAXH,KADF;AAeD,G;;wBAED,e,8BAAkB;AAAA,kBACsC,KAAK,KAD3C;AAAA,QACR,KADQ,WACR,KADQ;AAAA,QACD,OADC,WACD,OADC;AAAA,QACQ,WADR,WACQ,WADR;AAAA,QACqB,YADrB,WACqB,YADrB;;AAEhB,QAAI,CAAC,MAAM,MAAX,EAAmB;AACjB,UAAI,KAAK,KAAL,CAAW,eAAf,EAAgC;AAC9B,eAAO,KAAK,KAAL,CAAW,eAAX,EAAP;AACD;;AAED,aAAO,IAAP;AACD;;AAED,WAAO,MAAM,GAAN,CAAU,UAAC,MAAD,EAAY;AAC3B,UAAM,OAAO,OAAO,IAAP,CAAY,IAAzB;AACA,UAAM,UAAU,oBAAU,YAAV,CAAuB,IAAvB,CAAhB;AACA,UAAM,WAAW,oBAAU,MAAV,CAAiB,IAAjB,EAAuB,WAAvB,CAAjB;;AAEA,aACE;AACE,gBAAQ,MADV;AAEE,sBAAc,QAAQ,OAAR,CAFhB;AAGE,kBAAU,QAHZ;AAIE,kBAAU,YAJZ;AAKE,aAAK;AALP,QADF;AASD,KAdM,CAAP;AAeD,G;;wBAED,M,qBAAS;AACP,WACE;AAAA;MAAA,EAAK,WAAU,eAAf;MACG,KAAK,gBAAL,EADH;MAEG,KAAK,eAAL;AAFH,KADF;AAMD,G;;;;;AAxGG,W,CACG,S,GAAY;AACjB,SAAO,iBAAU,MAAV,CAAiB,UADP;AAEjB,SAAO,iBAAU,KAAV,CAAgB,UAFN;AAGjB,WAAS,iBAAU,MAAV,CAAiB,UAHT;AAIjB,eAAa,iBAAU,MAJN;AAKjB,gBAAc,iBAAU,IALP;AAMjB,eAAa,iBAAU,IANN;AAOjB,gBAAc,iBAAU,IAAV,CAAe,UAPZ;AAQjB,mBAAiB,iBAAU;AARV,C;kBA0GN,W","file":"RecentGroup.react.js","sourcesContent":["/*\n * Copyright (C) 2016 Actor LLC. <https://actor.im>\n */\n\nimport React, { Component, PropTypes } from 'react';\nimport { shouldComponentUpdate } from 'react-addons-pure-render-mixin';\nimport { FormattedMessage } from 'react-intl';\nimport Tooltip from 'rc-tooltip';\nimport PeerUtils from '../../utils/PeerUtils';\nimport RecentItem from './RecentItem.react';\n\nclass RecentGroup extends Component {\n  static propTypes = {\n    group: PropTypes.string.isRequired,\n    items: PropTypes.array.isRequired,\n    archive: PropTypes.object.isRequired,\n    currentPeer: PropTypes.object,\n    onTitleClick: PropTypes.func,\n    onPlusClick: PropTypes.func,\n    onItemUpdate: PropTypes.func.isRequired,\n    renderEmptyHint: PropTypes.func\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.shouldComponentUpdate = shouldComponentUpdate.bind(this);\n  }\n\n  renderPlusButton() {\n    const { group, onPlusClick } = this.props;\n    if (!onPlusClick) {\n      return null;\n    }\n\n    return (\n      <Tooltip\n        placement=\"top\"\n        mouseEnterDelay={0.15}\n        mouseLeaveDelay={0}\n        overlay={<FormattedMessage id={`tooltip.recent.${group}Create`}/>}>\n        <i className=\"recent__group__plus-button material-icons pull-right\" onClick={onPlusClick}>\n          add_circle_outline\n        </i>\n      </Tooltip>\n    );\n  }\n\n  renderGroupTitle() {\n    const { group, onTitleClick } = this.props;\n\n    const titleMessage = <FormattedMessage id={`sidebar.recents.${group}`} />;\n    if (!onTitleClick) {\n      return (\n        <div className=\"recent__group__header\">\n          <div className=\"recent__group__title\">\n            {titleMessage}\n          </div>\n        </div>\n      );\n    }\n\n    const tooltipMessage = <FormattedMessage id={`tooltip.recent.${group}List`}/>;\n\n    return (\n      <div className=\"recent__group__header\">\n        <div className=\"recent__group__title recent__group__title--clickable\" onClick={onTitleClick}>\n          <Tooltip\n            placement=\"right\"\n            mouseEnterDelay={0.15}\n            mouseLeaveDelay={0}\n            overlay={tooltipMessage}\n          >\n            {titleMessage}\n          </Tooltip>\n        </div>\n        {this.renderPlusButton()}\n      </div>\n    );\n  }\n\n  renderGroupList() {\n    const { items, archive, currentPeer, onItemUpdate } = this.props;\n    if (!items.length) {\n      if (this.props.renderEmptyHint) {\n        return this.props.renderEmptyHint();\n      }\n\n      return null;\n    }\n\n    return items.map((dialog) => {\n      const peer = dialog.peer.peer;\n      const peerKey = PeerUtils.peerToString(peer);\n      const isActive = PeerUtils.equals(peer, currentPeer);\n\n      return (\n        <RecentItem\n          dialog={dialog}\n          archiveState={archive[peerKey]}\n          isActive={isActive}\n          onUpdate={onItemUpdate}\n          key={peerKey}\n        />\n      );\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"recent__group\">\n        {this.renderGroupTitle()}\n        {this.renderGroupList()}\n      </div>\n    );\n  }\n}\n\nexport default RecentGroup;\n"]}