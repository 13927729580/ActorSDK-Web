{"version":3,"sources":["../../../src/components/sidebar/ContactsSection.react.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAcA,IAAM,YAAY,GAAG,IAAI,YAZhB,MAAM,CAYiB,YAAY,EAAE,CAAC;;AAE/C,IAAM,kBAAkB,GAAG,SAArB,kBAAkB,GAAS;AAC/B,SAAO;AACL,yBAAqB,EAAE,0BAAgB,MAAM,EAAE;AAC/C,YAAQ,EAAE,uBAAa,WAAW,EAAE;GACrC,CAAC;CACH,CAAC;;IAEI,eAAe;YAAf,eAAe;;eAAf,eAAe;;sCAKD;AAChB,aAAO;AACL,gBAAQ,EAAE,YAAY,CAAC,eAAe,EAAE;OACzC,CAAC;KACH;;;2CAEsB;AACrB,sCAAsB,KAAK,EAAE,CAAC;AAC9B,6BAAa,oBAAoB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;AACjD,gCAAgB,oBAAoB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;KACrD;;;AAED,WAjBI,eAAe,CAiBP,KAAK,EAAE;0BAjBf,eAAe;;uEAAf,eAAe,aAkBX,KAAK;;UAWb,QAAQ,GAAG,YAAM;AACf,YAAK,QAAQ,CAAC,kBAAkB,EAAE,CAAC,CAAC;KACrC;;UAED,mBAAmB,GAAG,YAAM;AAC1B,yCAAyB,SAAS,EAAE,CAAC;KACtC;;AAfC,UAAK,KAAK,GAAG,kBAAkB,EAAE,CAAC;;AAElC,oCAAsB,IAAI,EAAE,CAAC;AAC7B,2BAAa,iBAAiB,CAAC,MAAK,QAAQ,CAAC,CAAC;AAC9C,8BAAgB,iBAAiB,CAAC,MAAK,QAAQ,CAAC,CAAC;;AAEjD,gBAAY,CAAC,QAAQ,sBAAY,CAAC;;GACnC;;eA3BG,eAAe;;6BAqCV;AACP,UAAI,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC;;AAEnC,UAAI,WAAW,GAAG,CAAC,CAAC,GAAG,CAAC,QAAQ,EAAE,UAAC,OAAO,EAAE,CAAC,EAAK;AAChD,eACE,+DAAqB,OAAO,EAAE,OAAO,AAAC,EAAC,GAAG,EAAE,CAAC,AAAC,GAAE,CAChD;OACH,CAAC,CAAC;;AAEH,UAAI,eAAe,YAAA,CAAC;AACpB,UAAI,IAAI,CAAC,KAAK,CAAC,qBAAqB,EAAE;AACpC,uBAAe,GAAG,8DAAkB,CAAC;OACtC;;AAED,aACE;;UAAS,SAAS,EAAC,mBAAmB;QAEpC;;YAAI,SAAS,EAAC,uCAAuC;UAClD,WAAW;SACT;QAEP;;;UACE,0CAhFS,YAAY,IAgFP,KAAK,EAAC,aAAa,EAAC,OAAO,EAAE,IAAI,CAAC,mBAAmB,AAAC,EAAC,KAAK,EAAE,EAAC,KAAK,EAAE,MAAM,EAAC,AAAC,GAAE;UAC7F,eAAe;SACT;OACD,CACV;KACD;;;SAhEG,eAAe;UAtBL,SAAS;;AAsBnB,eAAe,CACZ,iBAAiB,GAAG;AACzB,UAAQ,EAAE,gBAAM,SAAS,CAAC,MAAM;CACjC;kBAgEY,eAAe","file":"ContactsSection.react.js","sourcesContent":["\nimport React, { Component } from 'react';\nimport { Styles, RaisedButton } from 'material-ui';\nimport ActorTheme from '../../constants/ActorTheme';\n\nimport ContactStore from '../../stores/ContactStore';\nimport AddContactStore from '../../stores/AddContactStore';\n\nimport ContactActionCreators from '../../actions/ContactActionCreators';\nimport AddContactActionCreators from '../../actions/AddContactActionCreators';\n\nimport ContactsSectionItem from './ContactsSectionItem.react';\nimport AddContactModal from '../modals/AddContact.react.js';\n\nconst ThemeManager = new Styles.ThemeManager();\n\nconst getStateFromStores = () => {\n  return {\n    isAddContactModalOpen: AddContactStore.isOpen(),\n    contacts: ContactStore.getContacts()\n  };\n};\n\nclass ContactsSection extends Component {\n  static childContextTypes = {\n    muiTheme: React.PropTypes.object\n  };\n\n  getChildContext() {\n    return {\n      muiTheme: ThemeManager.getCurrentTheme()\n    };\n  }\n\n  componentWillUnmount() {\n    ContactActionCreators.close();\n    ContactStore.removeChangeListener(this.onChange);\n    AddContactStore.removeChangeListener(this.onChange);\n  }\n\n  constructor(props) {\n    super(props);\n\n    this.state = getStateFromStores();\n\n    ContactActionCreators.open();\n    ContactStore.addChangeListener(this.onChange);\n    AddContactStore.addChangeListener(this.onChange);\n\n    ThemeManager.setTheme(ActorTheme);\n  }\n\n  onChange = () => {\n    this.setState(getStateFromStores());\n  };\n\n  openAddContactModal = () => {\n    AddContactActionCreators.openModal();\n  };\n\n  render() {\n    let contacts = this.state.contacts;\n\n    let contactList = _.map(contacts, (contact, i) => {\n      return (\n        <ContactsSectionItem contact={contact} key={i}/>\n      );\n    });\n\n    let addContactModal;\n    if (this.state.isAddContactModalOpen) {\n      addContactModal = <AddContactModal/>;\n    }\n\n    return (\n      <section className=\"sidebar__contacts\">\n\n        <ul className=\"sidebar__list sidebar__list--contacts\">\n          {contactList}\n        </ul>\n\n      <footer>\n        <RaisedButton label=\"Add contact\" onClick={this.openAddContactModal} style={{width: '100%'}}/>\n        {addContactModal}\n      </footer>\n    </section>\n  );\n  }\n}\n\nexport default ContactsSection;\n"]}