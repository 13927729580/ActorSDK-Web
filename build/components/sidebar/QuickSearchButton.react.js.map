{"version":3,"sources":["../../../src/components/sidebar/QuickSearchButton.react.js"],"names":[],"mappings":";;;;AAIA;;;;AACA;;AACA;;;;AACA;;;;AACA;;AACA;;;;;;;;;;;;;;IAEM,iB;;;AACJ,6BAAY,KAAZ,EAAmB;AAAA;;AAAA,iDACjB,sBAAM,KAAN,CADiB;;AAGjB,UAAK,eAAL,GAAuB,MAAK,eAAL,CAAqB,IAArB,OAAvB;AACA,UAAK,aAAL,GAAqB,MAAK,aAAL,CAAmB,IAAnB,OAArB;AAJiB;AAKlB;;8BAED,iB,gCAAoB;AAClB,SAAK,YAAL;AACD,G;;8BAED,oB,mCAAuB;AACrB,SAAK,cAAL;AACD,G;;8BAED,Y,2BAAe;AACb,SAAK,cAAL;AACA,SAAK,SAAL,GAAiB,CACf,wBAAc,MAAd,CAAqB,QAArB,EAA+B,SAA/B,EAA0C,KAAK,aAA/C,CADe,CAAjB;AAGD,G;;8BAED,c,6BAAiB;AACf,QAAI,KAAK,SAAT,EAAoB;AAClB,WAAK,SAAL,CAAe,OAAf,CAAuB,UAAC,QAAD;AAAA,eAAc,SAAS,MAAT,EAAd;AAAA,OAAvB;AACA,WAAK,SAAL,GAAiB,IAAjB;AACD;AACF,G;;8BAED,a,0BAAc,K,EAAO;AACnB,QAAI,MAAM,OAAN,KAAkB,4BAAS,CAA3B,IAAgC,MAAM,OAA1C,EAAmD;AACjD,YAAM,eAAN;AACA,YAAM,cAAN;AACA,WAAK,eAAL;AACD;AACF,G;;8BAED,e,8BAAkB;AAChB,wCAA0B,IAA1B;AACD,G;;8BAED,M,qBAAS;AACP,WACE;AAAA;MAAA,EAAQ,WAAU,uBAAlB;MACE;AAAA;QAAA;AACE,qBAAU,KADZ;AAEE,2BAAiB,IAFnB;AAGE,2BAAiB,CAHnB;AAIE,mBAAS,6DAAkB,IAAG,qBAArB,GAJX;QAKE;AAAA;UAAA,EAAG,SAAS,KAAK,eAAjB;UACE;AAAA;YAAA,EAAK,WAAU,aAAf;YAA6B;AAAA;cAAA,EAAG,WAAU,gBAAb;cAAA;AAAA;AAA7B,WADF;UAEE,6DAAkB,IAAG,oBAArB;AAFF;AALF;AADF,KADF;AAcD,G;;;;;kBAGY,iB","file":"QuickSearchButton.react.js","sourcesContent":["/*\n * Copyright (C) 2015-2016 Actor LLC. <https://actor.im>\n */\n\nimport React, { Component } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport Tooltip from 'rc-tooltip';\nimport EventListener from 'fbjs/lib/EventListener';\nimport { KeyCodes } from '../../constants/ActorAppConstants';\nimport QuickSearchActionCreators from '../../actions/QuickSearchActionCreators';\n\nclass QuickSearchButton extends Component {\n  constructor(props) {\n    super(props);\n\n    this.openQuickSearch = this.openQuickSearch.bind(this);\n    this.handleKeyDown = this.handleKeyDown.bind(this);\n  }\n\n  componentDidMount() {\n    this.setListeners();\n  }\n\n  componentWillUnmount() {\n    this.cleanListeners();\n  }\n\n  setListeners() {\n    this.cleanListeners();\n    this.listeners = [\n      EventListener.listen(document, 'keydown', this.handleKeyDown)\n    ];\n  }\n\n  cleanListeners() {\n    if (this.listeners) {\n      this.listeners.forEach((listener) => listener.remove());\n      this.listeners = null;\n    }\n  }\n\n  handleKeyDown(event) {\n    if (event.keyCode === KeyCodes.K && event.metaKey) {\n      event.stopPropagation();\n      event.preventDefault();\n      this.openQuickSearch()\n    }\n  }\n\n  openQuickSearch() {\n    QuickSearchActionCreators.show();\n  }\n\n  render() {\n    return (\n      <footer className=\"sidebar__quick-search\">\n        <Tooltip\n          placement=\"top\"\n          mouseEnterDelay={0.15}\n          mouseLeaveDelay={0}\n          overlay={<FormattedMessage id=\"tooltip.quicksearch\"/>}>\n          <a onClick={this.openQuickSearch}>\n            <div className=\"icon-holder\"><i className=\"material-icons\">search</i></div>\n            <FormattedMessage id=\"button.quickSearch\"/>\n          </a>\n        </Tooltip>\n      </footer>\n    )\n  }\n}\n\nexport default QuickSearchButton;\n"]}