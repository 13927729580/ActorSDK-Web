{"version":3,"sources":["../../../src/components/sidebar/RecentItem.react.js"],"names":[],"mappings":"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","file":"RecentItem.react.js","sourcesContent":["/*\n * Copyright (C) 2015-2016 Actor LLC. <https://actor.im>\n */\n\nimport React, { Component, PropTypes } from 'react';\nimport classnames from 'classnames';\nimport { FormattedMessage } from 'react-intl';\nimport PeerUtils from '../../utils/PeerUtils';\nimport { escapeWithEmoji } from '../../utils/EmojiUtils';\nimport confirm from '../../utils/confirm';\nimport { Link } from 'react-router';\n\nimport DialogActionCreators from '../../actions/DialogActionCreators';\nimport FavoriteActionCreators from '../../actions/FavoriteActionCreators';\n\nimport DialogStore from '../../stores/DialogStore';\nimport UserStore from '../../stores/UserStore';\n\nimport AvatarItem from '../common/AvatarItem.react';\n\nclass RecentItem extends Component {\n  constructor(props){\n    super(props);\n  }\n\n  static propTypes = {\n    dialog: PropTypes.object.isRequired,\n    type: PropTypes.string\n  };\n\n  static contextTypes = {\n    intl: PropTypes.object\n  };\n\n  onClick = () => DialogActionCreators.selectDialogPeer(this.props.dialog.peer.peer);\n\n  handleHideChat = (event) => {\n    event.stopPropagation();\n    event.preventDefault();\n    const { dialog } = this.props;\n    const { intl } = this.context;\n\n    if (UserStore.isContact(dialog.peer.peer.id)) {\n      DialogActionCreators.hideChat(dialog.peer.peer);\n    } else {\n      confirm(intl.messages['modal.confirm.nonContactHide.title'], {\n        description: <FormattedMessage id=\"modal.confirm.nonContactHide.body\"\n                                       values={{name: dialog.peer.title}}/>,\n        abortLabel: intl.messages['button.cancel'],\n        confirmLabel: intl.messages['button.ok']\n      }).then(\n        () => DialogActionCreators.hideChat(dialog.peer.peer),\n        () => {}\n      );\n    }\n  };\n\n  handleFavorite = (event) => {\n    event.preventDefault();\n    event.stopPropagation();\n    FavoriteActionCreators.favoriteChat(this.props.dialog.peer.peer);\n  };\n\n  handleUnfavorite = (event) => {\n    event.preventDefault();\n    event.stopPropagation();\n    FavoriteActionCreators.unfavoriteChat(this.props.dialog.peer.peer);\n  };\n\n  render() {\n    const { dialog } = this.props;\n    const toPeer = PeerUtils.peerToString(dialog.peer.peer);\n\n    const recentClassName = classnames('sidebar__list__item', 'row', {\n      'sidebar__list__item--unread': dialog.counter > 0\n    });\n\n    return (\n      <li>\n        <Link to={`/im/${toPeer}`} className={recentClassName} activeClassName=\"sidebar__list__item--active\">\n          <AvatarItem image={dialog.peer.avatar}\n                      placeholder={dialog.peer.placeholder}\n                      size=\"tiny\"\n                      title={dialog.peer.title}/>\n          <div className=\"title col-xs\" dangerouslySetInnerHTML={{__html: escapeWithEmoji(dialog.peer.title)}}/>\n          {\n            dialog.counter > 0\n              ? <span className=\"counter\">{dialog.counter}</span>\n              : null\n          }\n        </Link>\n        {/*\n        */}\n      </li>\n    );\n  }\n}\n\nexport default RecentItem;\n"]}