{"version":3,"sources":["../../../src/components/sidebar/RecentItem.react.js"],"names":[],"mappings":";;;;AAIA;;;;AACA;;;;AACA;;;;AACA;;AACA;;AAEA;;AAEA;;;;AAEA;;;;AACA;;;;;;;;;;;;;;IAEM,U;;;;;;;;;;;;4IAqBJ,a,GAAgB,UAAC,KAAD,EAAW;AACzB,YAAM,cAAN;AADyB,UAEjB,IAFiB,GAER,MAAK,KAAL,CAAW,MAAX,CAAkB,IAFV,CAEjB,IAFiB;;AAGzB,UAAM,aAAa;AACjB,WAAG,MAAM,KAAN,IAAe,MAAM,OADP;AAEjB,WAAG,MAAM,KAAN,IAAe,MAAM;AAFP,OAAnB;AAIA,uCAAuB,qBAAvB,CAA6C,UAA7C,EAAyD,IAAzD;AACD,K;;;uBAdD,qB,kCAAsB,S,EAAW;AAC/B,WAAO,UAAU,MAAV,KAAqB,KAAK,KAAL,CAAW,MAAhC,IACA,UAAU,QAAV,KAAuB,KAAK,KAAL,CAAW,QADlC,IAEA,UAAU,YAAV,KAA2B,KAAK,KAAL,CAAW,YAF7C;AAGD,G;;uBAYD,M,qBAAS;AAAA,iBAC0B,KAAK,KAD/B;AAAA,QACC,MADD,UACC,MADD;AAAA,QACS,YADT,UACS,YADT;;AAEP,QAAM,SAAS,oBAAU,YAAV,CAAuB,OAAO,IAAP,CAAY,IAAnC,CAAf;;AAEA,QAAM,kBAAkB,0BAAW,qBAAX,EAAkC,KAAlC,EAAyC;AAC/D,qCAA+B,OAAO,OAAP,GAAiB;AADe,KAAzC,CAAxB;;AAIA,WACE;AAAA;MAAA,EAAI,eAAe,KAAK,aAAxB;MACE;AAAA;QAAA,EAAM,aAAW,MAAjB,EAA2B,WAAW,eAAtC,EAAuD,iBAAgB,6BAAvE;QAEE,sDAAY,OAAO,OAAO,IAAP,CAAY,MAA/B;AACY,uBAAa,OAAO,IAAP,CAAY,WADrC;AAEY,gBAAK,MAFjB;AAGY,iBAAO,OAAO,IAAP,CAAY,KAH/B,GAFF;QAOE,uCAAK,WAAU,cAAf,EAA8B,yBAAyB,EAAE,QAAQ,iCAAgB,OAAO,IAAP,CAAY,KAA5B,CAAV,EAAvD,GAPF;QAUI,OAAO,OAAP,GAAiB,CAAjB,GACI;AAAA;UAAA,EAAM,WAAU,SAAhB;UAA2B,OAAO;AAAlC,SADJ,GAEI,IAZR;QAeE;AACE,wBAAc,YADhB;AAEE,sBACE;AAAA;YAAA,EAAK,WAAU,8BAAf;YACE;AAAA;cAAA,EAAG,WAAU,0BAAb;cAAA;AAAA;AADF,WAHJ;AAOE,mBACE;AAAA;YAAA,EAAK,WAAU,8BAAf;YACE;AAAA;cAAA,EAAG,WAAU,qBAAb;cAAA;AAAA;AADF,WARJ;AAYE,mBACE;AAAA;YAAA,EAAK,WAAU,0BAAf;YACE;AAAA;cAAA,EAAG,WAAU,qBAAb;cAAA;AAAA;AADF;AAbJ;AAfF;AADF,KADF;AAsCD,G;;;;;AA7EG,U,CACG,S,GAAY;AACjB,YAAU,iBAAU,IAAV,CAAe,UADR;AAEjB,UAAQ,iBAAU,MAAV,CAAiB,UAFR;AAGjB,gBAAc,iBAAU,MAAV,CAAiB;AAHd,C;AADf,U,CAOG,Y,GAAe;AACpB,gBAAc,qCAAkB;AADZ,C;AAPlB,U,CAWG,Y,GAAe;AACpB,QAAM,iBAAU;AADI,C;kBAqET,U","file":"RecentItem.react.js","sourcesContent":["/*\n * Copyright (C) 2015-2016 Actor LLC. <https://actor.im>\n */\n\nimport React, { Component, PropTypes } from 'react';\nimport classnames from 'classnames';\nimport PeerUtils from '../../utils/PeerUtils';\nimport { escapeWithEmoji } from '../../utils/EmojiUtils';\nimport { Link } from 'react-router';\n\nimport { AsyncActionStates } from '../../constants/ActorAppConstants';\n\nimport DropdownActionCreators from '../../actions/DropdownActionCreators';\n\nimport AvatarItem from '../common/AvatarItem.react';\nimport Stateful from '../common/Stateful.react';\n\nclass RecentItem extends Component {\n  static propTypes = {\n    isActive: PropTypes.bool.isRequired,\n    dialog: PropTypes.object.isRequired,\n    archiveState: PropTypes.number.isRequired\n  };\n\n  static defaultProps = {\n    archiveState: AsyncActionStates.PENDING\n  };\n\n  static contextTypes = {\n    intl: PropTypes.object\n  };\n\n  shouldComponentUpdate(nextProps) {\n    return nextProps.dialog !== this.props.dialog ||\n           nextProps.isActive !== this.props.isActive ||\n           nextProps.archiveState !== this.props.archiveState;\n  }\n\n  onContextMenu = (event) => {\n    event.preventDefault();\n    const { peer } = this.props.dialog.peer;\n    const contextPos = {\n      x: event.pageX || event.clientX,\n      y: event.pageY || event.clientY\n    };\n    DropdownActionCreators.openRecentContextMenu(contextPos, peer);\n  };\n\n  render() {\n    const { dialog, archiveState } = this.props;\n    const toPeer = PeerUtils.peerToString(dialog.peer.peer);\n\n    const recentClassName = classnames('sidebar__list__item', 'row', {\n      'sidebar__list__item--unread': dialog.counter > 0\n    });\n\n    return (\n      <li onContextMenu={this.onContextMenu}>\n        <Link to={`/im/${toPeer}`} className={recentClassName} activeClassName=\"sidebar__list__item--active\">\n\n          <AvatarItem image={dialog.peer.avatar}\n                      placeholder={dialog.peer.placeholder}\n                      size=\"tiny\"\n                      title={dialog.peer.title}/>\n\n          <div className=\"title col-xs\" dangerouslySetInnerHTML={{ __html: escapeWithEmoji(dialog.peer.title) }}/>\n\n          {\n            dialog.counter > 0\n              ? <span className=\"counter\">{dialog.counter}</span>\n              : null\n          }\n\n          <Stateful\n            currentState={archiveState}\n            processing={\n              <div className=\"archive archive--in-progress\">\n                <i className=\"icon material-icons spin\">autorenew</i>\n              </div>\n            }\n            success={\n              <div className=\"archive archive--in-progress\">\n                <i className=\"icon material-icons\">check</i>\n              </div>\n            }\n            failure={\n              <div className=\"archive archive--failure\">\n                <i className=\"icon material-icons\">warning</i>\n              </div>\n            }\n          />\n        </Link>\n      </li>\n    );\n  }\n}\n\nexport default RecentItem;\n"]}