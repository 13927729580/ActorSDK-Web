{"version":3,"sources":["../../../src/components/messageArt/MessageArt.react.js"],"names":[],"mappings":";;;;AAIA;;;;AACA;;AAEA;;;;AAEA;;;;AACA;;;;;;;;;;;;;;IAEM,U;;;AAeJ,sBAAY,KAAZ,EAAmB;AAAA;;AAAA,iDACjB,sBAAM,KAAN,CADiB;;AAGjB,UAAK,YAAL,GAAoB,MAAK,YAAL,CAAkB,IAAlB,OAApB;AACA,UAAK,YAAL,GAAoB,MAAK,YAAL,CAAkB,IAAlB,OAApB;AACA,UAAK,qBAAL,GAA6B,kDAAsB,IAAtB,OAA7B;AALiB;AAMlB;;uBAED,Y,2BAAe;AACb,QAAI,KAAK,WAAT,EAAsB;AACpB,mBAAa,KAAK,WAAlB;AACA,WAAK,WAAL,GAAmB,KAAnB;AACD;;AAED,SAAK,YAAL,GAAoB,WAAW,KAAK,KAAL,CAAW,OAAtB,EAA+B,GAA/B,CAApB;AACD,G;;uBAED,Y,2BAAe;AACb,QAAI,KAAK,YAAT,EAAuB;AACrB,mBAAa,KAAK,YAAlB;AACA,WAAK,YAAL,GAAoB,KAApB;AACD;;AAED,QAAI,CAAC,KAAK,KAAL,CAAW,QAAhB,EAA0B;AACxB,WAAK,WAAL,GAAmB,WAAW,KAAK,KAAL,CAAW,MAAtB,EAA8B,EAA9B,CAAnB;AACD;AACF,G;;uBAED,W,0BAAc;AAAA,iBACuD,KAAK,KAD5D;AAAA,QACJ,QADI,UACJ,QADI;AAAA,QACM,QADN,UACM,QADN;AAAA,QACgB,QADhB,UACgB,QADhB;AAAA,QAC0B,eAD1B,UAC0B,eAD1B;AAAA,QAC2C,OAD3C,UAC2C,OAD3C;;AAEZ,QAAI,CAAC,QAAL,EAAe,OAAO,IAAP;;AAEf,WACE;AACE,gBAAU,QADZ;AAEE,eAAS,OAFX;AAGE,gBAAU,QAHZ;AAIE,uBAAiB,eAJnB;AAKE,oBAAc,KAAK,YALrB;AAME,oBAAc,KAAK;AANrB,MADF;AAUD,G;;uBAED,M,qBAAS;AAAA,QACC,QADD,GACc,KAAK,KADnB,CACC,QADD;;;AAGP,WACE;AAAA;MAAA,EAAK,WAAU,aAAf;MAEE;AAAA;QAAA;AACE,wBAAc,KAAK,YADrB;AAEE,wBAAc,KAAK,YAFrB;AAGE,oBAAU,QAHZ;AAIE;AAJF;QAME;AAAA;UAAA,EAAG,WAAU,gBAAb;UAAA;AAAA;AANF,OAFF;MAWG,KAAK,WAAL;AAXH,KADF;AAeD,G;;;;;AA7EG,U,CACG,S,GAAY;AACjB,YAAU,iBAAU,IAAV,CAAe,UADR;AAEjB,YAAU,iBAAU,KAAV,CAAgB,UAFT;AAGjB,UAAQ,iBAAU,IAAV,CAAe,UAHN;AAIjB,WAAS,iBAAU,IAAV,CAAe,UAJP;AAKjB,YAAU,iBAAU,IAAV,CAAe,UALR;AAMjB,mBAAiB,iBAAU,IAAV,CAAe;AANf,C;AADf,U,CAUG,Y,GAAe;AACpB,UAAQ,mCAAyB,IADb;AAEpB,WAAS,mCAAyB;AAFd,C;kBAsET,U","file":"MessageArt.react.js","sourcesContent":["/*\n * Copyright (C) 2016 Actor LLC. <https://actor.im>\n */\n\nimport React, { Component, PropTypes } from 'react';\nimport { shouldComponentUpdate } from 'react-addons-pure-render-mixin';\n\nimport MessageArtActionCreators from '../../actions/MessageArtActionCreators';\n\nimport Trigger from './Trigger.react';\nimport Popup from './Popup.react';\n\nclass MessageArt extends Component {\n  static propTypes = {\n    isActive: PropTypes.bool.isRequired,\n    stickers: PropTypes.array.isRequired,\n    onOpen: PropTypes.func.isRequired,\n    onClose: PropTypes.func.isRequired,\n    onSelect: PropTypes.func.isRequired,\n    onStickerSelect: PropTypes.func.isRequired\n  }\n\n  static defaultProps = {\n    onOpen: MessageArtActionCreators.open,\n    onClose: MessageArtActionCreators.close\n  }\n\n  constructor(props) {\n    super(props);\n\n    this.onMouseLeave = this.onMouseLeave.bind(this);\n    this.onMouseEnter = this.onMouseEnter.bind(this);\n    this.shouldComponentUpdate = shouldComponentUpdate.bind(this);\n  }\n\n  onMouseLeave() {\n    if (this.openTimeout) {\n      clearTimeout(this.openTimeout);\n      this.openTimeout = false;\n    }\n\n    this.closeTimeout = setTimeout(this.props.onClose, 300);\n  }\n\n  onMouseEnter() {\n    if (this.closeTimeout) {\n      clearTimeout(this.closeTimeout);\n      this.closeTimeout = false;\n    }\n\n    if (!this.props.isActive) {\n      this.openTimeout = setTimeout(this.props.onOpen, 60);\n    }\n  }\n\n  renderPopup() {\n    const { isActive, stickers, onSelect, onStickerSelect, onClose } = this.props;\n    if (!isActive) return null;\n\n    return (\n      <Popup\n        onSelect={onSelect}\n        onClose={onClose}\n        stickers={stickers}\n        onStickerSelect={onStickerSelect}\n        onMouseEnter={this.onMouseEnter}\n        onMouseLeave={this.onMouseLeave}\n      />\n    );\n  }\n\n  render() {\n    const { isActive } = this.props;\n\n    return (\n      <div className=\"message-art\">\n\n        <Trigger\n          onMouseEnter={this.onMouseEnter}\n          onMouseLeave={this.onMouseLeave}\n          isActive={isActive}\n          isDotVisible\n        >\n          <i className=\"material-icons\">insert_emoticon</i>\n        </Trigger>\n\n        {this.renderPopup()}\n      </div>\n    )\n  }\n}\n\nexport default MessageArt;\n"]}