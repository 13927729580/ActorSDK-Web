{"version":3,"sources":["../../../src/components/messageArt/MessageArt.react.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAIA;;;;AACA;;AAEA;;;;AAEA;;;;AACA;;;;;;IAEM;;;AAeJ,WAfI,UAeJ,CAAY,KAAZ,EAAmB;wCAff,YAee;;+DACjB,sBAAM,KAAN,GADiB;;AAGjB,UAAK,YAAL,GAAoB,MAAK,YAAL,CAAkB,IAAlB,OAApB,CAHiB;AAIjB,UAAK,YAAL,GAAoB,MAAK,YAAL,CAAkB,IAAlB,OAApB,CAJiB;AAKjB,UAAK,qBAAL,GAA6B,kDAAsB,IAAtB,OAA7B,CALiB;;GAAnB;;AAfI,uBAuBJ,uCAAe;AACb,QAAI,KAAK,WAAL,EAAkB;AACpB,mBAAa,KAAK,WAAL,CAAb,CADoB;AAEpB,WAAK,WAAL,GAAmB,KAAnB,CAFoB;KAAtB;;AAKA,SAAK,YAAL,GAAoB,WAAW,KAAK,KAAL,CAAW,OAAX,EAAoB,GAA/B,CAApB,CANa;;;AAvBX,uBAgCJ,uCAAe;AACb,QAAI,KAAK,YAAL,EAAmB;AACrB,mBAAa,KAAK,YAAL,CAAb,CADqB;AAErB,WAAK,YAAL,GAAoB,KAApB,CAFqB;KAAvB;;AAKA,QAAI,CAAC,KAAK,KAAL,CAAW,QAAX,EAAqB;AACxB,WAAK,WAAL,GAAmB,WAAW,KAAK,KAAL,CAAW,MAAX,EAAmB,EAA9B,CAAnB,CADwB;KAA1B;;;AAtCE,uBA2CJ,qCAAc;iBACuD,KAAK,KAAL,CADvD;QACJ,2BADI;QACM,2BADN;QACgB,2BADhB;QAC0B,yCAD1B;QAC2C,yBAD3C;;AAEZ,QAAI,CAAC,QAAD,EAAW,OAAO,IAAP,CAAf;;AAEA,WACE;AACE,gBAAU,QAAV;AACA,eAAS,OAAT;AACA,gBAAU,QAAV;AACA,uBAAiB,eAAjB;AACA,oBAAc,KAAK,YAAL;AACd,oBAAc,KAAK,YAAL;KANhB,CADF,CAJY;;;AA3CV,uBA2DJ,2BAAS;QACC,WAAa,KAAK,KAAL,CAAb,SADD;;;AAGP,WACE;;QAAK,WAAU,aAAV,EAAL;MAEE;;;AACE,wBAAc,KAAK,YAAL;AACd,wBAAc,KAAK,YAAL;AACd,oBAAU,QAAV;AACA;SAJF;QAME;;YAAG,WAAU,gBAAV,EAAH;;SANF;OAFF;MAWG,KAAK,WAAL,EAXH;KADF,CAHO;;;SA3DL;;;;;WACG,YAAY;AACjB,YAAU,iBAAU,IAAV,CAAe,UAAf;AACV,YAAU,iBAAU,KAAV,CAAgB,UAAhB;AACV,UAAQ,iBAAU,IAAV,CAAe,UAAf;AACR,WAAS,iBAAU,IAAV,CAAe,UAAf;AACT,YAAU,iBAAU,IAAV,CAAe,UAAf;AACV,mBAAiB,iBAAU,IAAV,CAAe,UAAf;;AAPf,WAUG,eAAe;AACpB,UAAQ,mCAAyB,IAAzB;AACR,WAAS,mCAAyB,KAAzB;;kBAoEE","file":"MessageArt.react.js","sourcesContent":["/*\n * Copyright (C) 2016 Actor LLC. <https://actor.im>\n */\n\nimport React, { Component, PropTypes } from 'react';\nimport { shouldComponentUpdate } from 'react-addons-pure-render-mixin';\n\nimport MessageArtActionCreators from '../../actions/MessageArtActionCreators';\n\nimport Trigger from './Trigger.react';\nimport Popup from './Popup.react';\n\nclass MessageArt extends Component {\n  static propTypes = {\n    isActive: PropTypes.bool.isRequired,\n    stickers: PropTypes.array.isRequired,\n    onOpen: PropTypes.func.isRequired,\n    onClose: PropTypes.func.isRequired,\n    onSelect: PropTypes.func.isRequired,\n    onStickerSelect: PropTypes.func.isRequired\n  }\n\n  static defaultProps = {\n    onOpen: MessageArtActionCreators.open,\n    onClose: MessageArtActionCreators.close\n  }\n\n  constructor(props) {\n    super(props);\n\n    this.onMouseLeave = this.onMouseLeave.bind(this);\n    this.onMouseEnter = this.onMouseEnter.bind(this);\n    this.shouldComponentUpdate = shouldComponentUpdate.bind(this);\n  }\n\n  onMouseLeave() {\n    if (this.openTimeout) {\n      clearTimeout(this.openTimeout);\n      this.openTimeout = false;\n    }\n\n    this.closeTimeout = setTimeout(this.props.onClose, 300);\n  }\n\n  onMouseEnter() {\n    if (this.closeTimeout) {\n      clearTimeout(this.closeTimeout);\n      this.closeTimeout = false;\n    }\n\n    if (!this.props.isActive) {\n      this.openTimeout = setTimeout(this.props.onOpen, 60);\n    }\n  }\n\n  renderPopup() {\n    const { isActive, stickers, onSelect, onStickerSelect, onClose } = this.props;\n    if (!isActive) return null;\n\n    return (\n      <Popup\n        onSelect={onSelect}\n        onClose={onClose}\n        stickers={stickers}\n        onStickerSelect={onStickerSelect}\n        onMouseEnter={this.onMouseEnter}\n        onMouseLeave={this.onMouseLeave}\n      />\n    );\n  }\n\n  render() {\n    const { isActive } = this.props;\n\n    return (\n      <div className=\"message-art\">\n\n        <Trigger\n          onMouseEnter={this.onMouseEnter}\n          onMouseLeave={this.onMouseLeave}\n          isActive={isActive}\n          isDotVisible\n        >\n          <i className=\"material-icons\">insert_emoticon</i>\n        </Trigger>\n\n        {this.renderPopup()}\n      </div>\n    )\n  }\n}\n\nexport default MessageArt;\n"]}