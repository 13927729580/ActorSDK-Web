{"version":3,"sources":["../../../src/components/messageArt/Popup.react.js"],"names":[],"mappings":";;;;AAIA;;;;AACA;;AACA;;;;AAEA;;AAEA;;;;AACA;;;;;;;;;;;;;;IAEM,K;;;AAWJ,iBAAY,KAAZ,EAAmB;AAAA;;AAAA,iDACjB,sBAAM,KAAN,CADiB;;AAGjB,UAAK,KAAL,GAAa;AACX,oBAAc,wCAAqB;AADxB,KAAb;;AAIA,UAAK,aAAL,GAAqB,MAAK,aAAL,CAAmB,IAAnB,OAArB;AACA,UAAK,qBAAL,GAA6B,kDAAsB,IAAtB,OAA7B;AARiB;AASlB;;kBAED,iB,gCAAoB;AAClB,aAAS,gBAAT,CAA0B,SAA1B,EAAqC,KAAK,aAA1C,EAAyD,KAAzD;AACD,G;;kBAED,oB,mCAAuB;AACrB,aAAS,mBAAT,CAA6B,SAA7B,EAAwC,KAAK,aAA7C,EAA4D,KAA5D;AACD,G;;kBAED,a,0BAAc,K,EAAO;AACnB,QAAI,MAAM,OAAN,KAAkB,4BAAS,GAA/B,EAAoC;AAClC,YAAM,cAAN;AACA,WAAK,KAAL,CAAW,OAAX;AACD;AACF,G;;kBAED,c,2BAAe,K,EAAO;AACpB,SAAK,QAAL,CAAc,EAAE,cAAc,KAAhB,EAAd;AACD,G;;kBAED,U,yBAAa;AAAA,QACH,YADG,GACc,KAAK,KADnB,CACH,YADG;;;AAGX,YAAQ,YAAR;AACE,WAAK,wCAAqB,KAA1B;AACE,eACE,kDAAQ,UAAU,KAAK,KAAL,CAAW,QAA7B,GADF;AAGF,WAAK,wCAAqB,OAA1B;AACE,eACE;AACE,oBAAU,KAAK,KAAL,CAAW,QADvB;AAEE,2BAAiB,KAAK,KAAL,CAAW;AAF9B,UADF;AAMF;AACE,eAAO,IAAP;AAbJ;AAeD,G;;kBAED,Y,2BAAe;AAAA;;AAAA,QACL,YADK,GACY,KAAK,KADjB,CACL,YADK;;;AAGb,QAAM,oBAAoB,0BAAW,KAAX,EAAkB;AAC1C,qBAAe,iBAAiB,wCAAqB;AADX,KAAlB,CAA1B;AAGA,QAAM,sBAAsB,0BAAW,KAAX,EAAkB;AAC5C,qBAAe,iBAAiB,wCAAqB;AADT,KAAlB,CAA5B;;AAIA,WACE;AAAA;MAAA,EAAQ,WAAU,4BAAlB;MACE;AAAA;QAAA,EAAK,WAAW,iBAAhB;AACK,mBAAS;AAAA,mBAAM,OAAK,cAAL,CAAoB,wCAAqB,KAAzC,CAAN;AAAA,WADd;QAAA;AAAA,OADF;MAKE;AAAA;QAAA,EAAK,WAAW,mBAAhB;AACK,mBAAS;AAAA,mBAAM,OAAK,cAAL,CAAoB,wCAAqB,OAAzC,CAAN;AAAA,WADd;QAAA;AAAA;AALF,KADF;AAYD,G;;kBAED,M,qBAAS;AAAA,iBACgC,KAAK,KADrC;AAAA,QACC,YADD,UACC,YADD;AAAA,QACe,YADf,UACe,YADf;;;AAGP,WACE;AAAA;MAAA;AACE,mBAAU,oBADZ;AAEE,sBAAc,YAFhB;AAGE,sBAAc;AAHhB;MAKE;AAAA;QAAA,EAAK,WAAU,0BAAf;QACG,KAAK,UAAL;AADH,OALF;MASG,KAAK,YAAL;AATH,KADF;AAaD,G;;;;;AArGG,K,CACG,S,GAAY;AACjB,aAAW,iBAAU,MADJ;AAEjB,YAAU,iBAAU,KAAV,CAAgB,UAFT;AAGjB,YAAU,iBAAU,IAAV,CAAe,UAHR;AAIjB,mBAAiB,iBAAU,IAAV,CAAe,UAJf;AAKjB,WAAS,iBAAU,IAAV,CAAe,UALP;AAMjB,gBAAc,iBAAU,IAAV,CAAe,UANZ;AAOjB,gBAAc,iBAAU,IAAV,CAAe;AAPZ,C;kBAuGN,K","file":"Popup.react.js","sourcesContent":["/*\n * Copyright (C) 2016 Actor LLC. <https://actor.im>\n */\n\nimport React, { Component, PropTypes } from 'react';\nimport { shouldComponentUpdate } from 'react-addons-pure-render-mixin';\nimport classnames from 'classnames';\n\nimport { KeyCodes, MessageArtPopupState } from '../../constants/ActorAppConstants';\n\nimport Emojis from './Emojis.react';\nimport Stickers from './Stickers.react';\n\nclass Popup extends Component {\n  static propTypes = {\n    className: PropTypes.string,\n    stickers: PropTypes.array.isRequired,\n    onSelect: PropTypes.func.isRequired,\n    onStickerSelect: PropTypes.func.isRequired,\n    onClose: PropTypes.func.isRequired,\n    onMouseEnter: PropTypes.func.isRequired,\n    onMouseLeave: PropTypes.func.isRequired\n  }\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      currentState: MessageArtPopupState.EMOJI\n    };\n\n    this.handleKeyDown = this.handleKeyDown.bind(this);\n    this.shouldComponentUpdate = shouldComponentUpdate.bind(this);\n  }\n\n  componentDidMount() {\n    document.addEventListener('keydown', this.handleKeyDown, false);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('keydown', this.handleKeyDown, false);\n  }\n\n  handleKeyDown(event) {\n    if (event.keyCode === KeyCodes.ESC) {\n      event.preventDefault();\n      this.props.onClose();\n    }\n  }\n\n  handleTabClick(state) {\n    this.setState({ currentState: state })\n  }\n\n  renderBody() {\n    const { currentState } = this.state;\n\n    switch (currentState) {\n      case MessageArtPopupState.EMOJI:\n        return (\n          <Emojis onSelect={this.props.onSelect}/>\n        );\n      case MessageArtPopupState.STICKER:\n        return (\n          <Stickers\n            stickers={this.props.stickers}\n            onStickerSelect={this.props.onStickerSelect}\n          />\n        );\n      default:\n        return null;\n    }\n  }\n\n  renderFooter() {\n    const { currentState } = this.state;\n\n    const emojiTabClassName = classnames('tab', {\n      'tab--active': currentState === MessageArtPopupState.EMOJI\n    });\n    const stickerTabClassName = classnames('tab', {\n      'tab--active': currentState === MessageArtPopupState.STICKER\n    });\n\n    return (\n      <footer className=\"message-art__popup__footer\">\n        <div className={emojiTabClassName}\n             onClick={() => this.handleTabClick(MessageArtPopupState.EMOJI)}>\n          Emojis\n        </div>\n        <div className={stickerTabClassName}\n             onClick={() => this.handleTabClick(MessageArtPopupState.STICKER)}>\n          Stickers\n        </div>\n      </footer>\n    )\n  }\n\n  render() {\n    const { onMouseEnter, onMouseLeave } = this.props;\n\n    return (\n      <div\n        className=\"message-art__popup\"\n        onMouseEnter={onMouseEnter}\n        onMouseLeave={onMouseLeave}\n      >\n        <div className=\"message-art__popup__body\">\n          {this.renderBody()}\n        </div>\n\n        {this.renderFooter()}\n      </div>\n    )\n  }\n}\n\nexport default Popup;\n"]}