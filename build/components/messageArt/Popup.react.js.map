{"version":3,"sources":["../../../src/components/messageArt/Popup.react.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAIA;;;;AACA;;AACA;;;;AAEA;;AAEA;;;;AACA;;;;;;;;;;IAEM;;;AAWJ,WAXI,KAWJ,CAAY,KAAZ,EAAmB;wCAXf,OAWe;;+DACjB,sBAAM,KAAN,GADiB;;AAGjB,UAAK,KAAL,GAAa;AACX,oBAAc,wCAAqB,KAArB;KADhB,CAHiB;;AAOjB,UAAK,aAAL,GAAqB,MAAK,aAAL,CAAmB,IAAnB,OAArB,CAPiB;AAQjB,UAAK,qBAAL,GAA6B,kDAAsB,IAAtB,OAA7B,CARiB;;GAAnB;;AAXI,kBAsBJ,iDAAoB;AAClB,aAAS,gBAAT,CAA0B,SAA1B,EAAqC,KAAK,aAAL,EAAoB,KAAzD,EADkB;;;AAtBhB,kBA0BJ,uDAAuB;AACrB,aAAS,mBAAT,CAA6B,SAA7B,EAAwC,KAAK,aAAL,EAAoB,KAA5D,EADqB;;;AA1BnB,kBA8BJ,uCAAc,OAAO;AACnB,QAAI,MAAM,OAAN,KAAkB,4BAAS,GAAT,EAAc;AAClC,YAAM,cAAN,GADkC;AAElC,WAAK,KAAL,CAAW,OAAX,GAFkC;KAApC;;;AA/BE,kBAqCJ,yCAAe,OAAO;AACpB,SAAK,QAAL,CAAc,EAAC,cAAc,KAAd,EAAf,EADoB;;;AArClB,kBAyCJ,mCAAa;QACH,eAAiB,KAAK,KAAL,CAAjB,aADG;;;AAGX,YAAQ,YAAR;AACE,WAAK,wCAAqB,KAArB;AACH,eACE,kDAAQ,UAAU,KAAK,KAAL,CAAW,QAAX,EAAlB,CADF,CADF;AADF,WAKO,wCAAqB,OAArB;AACH,eACE;AACE,oBAAU,KAAK,KAAL,CAAW,QAAX;AACV,2BAAiB,KAAK,KAAL,CAAW,eAAX;SAFnB,CADF,CADF;AALF;AAaI,eAAO,IAAP,CADF;AAZF,KAHW;;;AAzCT,kBA6DJ,uCAAe;;;QACL,eAAiB,KAAK,KAAL,CAAjB,aADK;;;AAGb,QAAM,oBAAoB,0BAAW,KAAX,EAAkB;AAC1C,qBAAe,iBAAiB,wCAAqB,KAArB;KADR,CAApB,CAHO;AAMb,QAAM,sBAAsB,0BAAW,KAAX,EAAkB;AAC5C,qBAAe,iBAAiB,wCAAqB,OAArB;KADN,CAAtB,CANO;;AAUb,WACE;;QAAQ,WAAU,4BAAV,EAAR;MACE;;UAAK,WAAW,iBAAX;AACA,mBAAS;mBAAM,OAAK,cAAL,CAAoB,wCAAqB,KAArB;WAA1B,EADd;;OADF;MAKE;;UAAK,WAAW,mBAAX;AACA,mBAAS;mBAAM,OAAK,cAAL,CAAoB,wCAAqB,OAArB;WAA1B,EADd;;OALF;KADF,CAVa;;;AA7DX,kBAqFJ,2BAAS;iBACgC,KAAK,KAAL,CADhC;QACC,mCADD;QACe,mCADf;;;AAGP,WACE;;;AACE,mBAAU,oBAAV;AACA,sBAAc,YAAd;AACA,sBAAc,YAAd;OAHF;MAKE;;UAAK,WAAU,0BAAV,EAAL;QACG,KAAK,UAAL,EADH;OALF;MASG,KAAK,YAAL,EATH;KADF,CAHO;;;SArFL;;;MACG,YAAY;AACjB,aAAW,iBAAU,MAAV;AACX,YAAU,iBAAU,KAAV,CAAgB,UAAhB;AACV,YAAU,iBAAU,IAAV,CAAe,UAAf;AACV,mBAAiB,iBAAU,IAAV,CAAe,UAAf;AACjB,WAAS,iBAAU,IAAV,CAAe,UAAf;AACT,gBAAc,iBAAU,IAAV,CAAe,UAAf;AACd,gBAAc,iBAAU,IAAV,CAAe,UAAf;;kBAgGH","file":"Popup.react.js","sourcesContent":["/*\n * Copyright (C) 2016 Actor LLC. <https://actor.im>\n */\n\nimport React, { Component, PropTypes } from 'react';\nimport { shouldComponentUpdate } from 'react-addons-pure-render-mixin';\nimport classnames from 'classnames';\n\nimport { KeyCodes, MessageArtPopupState } from '../../constants/ActorAppConstants';\n\nimport Emojis from './Emojis.react';\nimport Stickers from './Stickers.react';\n\nclass Popup extends Component {\n  static propTypes = {\n    className: PropTypes.string,\n    stickers: PropTypes.array.isRequired,\n    onSelect: PropTypes.func.isRequired,\n    onStickerSelect: PropTypes.func.isRequired,\n    onClose: PropTypes.func.isRequired,\n    onMouseEnter: PropTypes.func.isRequired,\n    onMouseLeave: PropTypes.func.isRequired\n  }\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      currentState: MessageArtPopupState.EMOJI\n    };\n\n    this.handleKeyDown = this.handleKeyDown.bind(this);\n    this.shouldComponentUpdate = shouldComponentUpdate.bind(this);\n  }\n\n  componentDidMount() {\n    document.addEventListener('keydown', this.handleKeyDown, false);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('keydown', this.handleKeyDown, false);\n  }\n\n  handleKeyDown(event) {\n    if (event.keyCode === KeyCodes.ESC) {\n      event.preventDefault();\n      this.props.onClose();\n    }\n  }\n\n  handleTabClick(state) {\n    this.setState({currentState: state})\n  }\n\n  renderBody() {\n    const { currentState } = this.state;\n\n    switch (currentState) {\n      case MessageArtPopupState.EMOJI:\n        return (\n          <Emojis onSelect={this.props.onSelect}/>\n        );\n      case MessageArtPopupState.STICKER:\n        return (\n          <Stickers\n            stickers={this.props.stickers}\n            onStickerSelect={this.props.onStickerSelect}\n          />\n        );\n      default:\n        return null;\n    }\n  }\n\n  renderFooter() {\n    const { currentState } = this.state;\n\n    const emojiTabClassName = classnames('tab', {\n      'tab--active': currentState === MessageArtPopupState.EMOJI\n    });\n    const stickerTabClassName = classnames('tab', {\n      'tab--active': currentState === MessageArtPopupState.STICKER\n    });\n\n    return (\n      <footer className=\"message-art__popup__footer\">\n        <div className={emojiTabClassName}\n             onClick={() => this.handleTabClick(MessageArtPopupState.EMOJI)}>\n          Emojis\n        </div>\n        <div className={stickerTabClassName}\n             onClick={() => this.handleTabClick(MessageArtPopupState.STICKER)}>\n          Stickers\n        </div>\n      </footer>\n    )\n  }\n\n  render() {\n    const { onMouseEnter, onMouseLeave } = this.props;\n\n    return (\n      <div\n        className=\"message-art__popup\"\n        onMouseEnter={onMouseEnter}\n        onMouseLeave={onMouseLeave}\n      >\n        <div className=\"message-art__popup__body\">\n          {this.renderBody()}\n        </div>\n\n        {this.renderFooter()}\n      </div>\n    )\n  }\n}\n\nexport default Popup;\n"]}